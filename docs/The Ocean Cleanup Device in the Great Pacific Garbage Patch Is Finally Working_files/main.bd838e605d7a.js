!function(e){function t(t){for(var o,i,s=t[0],c=t[1],l=t[2],p=0,f=[];p<s.length;p++)i=s[p],r[i]&&f.push(r[i][0]),r[i]=0;for(o in c)Object.prototype.hasOwnProperty.call(c,o)&&(e[o]=c[o]);for(u&&u(t);f.length;)f.shift()();return a.push.apply(a,l||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],o=!0,s=1;s<n.length;s++){var c=n[s];0!==r[c]&&(o=!1)}o&&(a.splice(t--,1),e=i(i.s=n[0]))}return e}var o={},r={0:0},a=[];function i(t){if(o[t])return o[t].exports;var n=o[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=o,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)i.d(n,o,function(t){return e[t]}.bind(null,o));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="";var s=window.webpackJsonp=window.webpackJsonp||[],c=s.push.bind(s);s.push=t,s=s.slice();for(var l=0;l<s.length;l++)t(s[l]);var u=c;a.push([612,4]),n()}({10:function(e,t,n){"use strict";n.d(t,"a",function(){return w});var o=n(0),r=n.n(o),a=n(1),i=n.n(a),s=n(4),c=n(34),l=n(3);function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var y=s.a.button.withConfig({displayName:"button__ColoredButton",componentId:"sc-14vd4y5-0"})(["&,&[button],&[class*='button__']{min-width:",";background-color:",";&:hover{background-image:",";background-color:",";}&:active{background-color:",";}*[class*='button__Icon'] + *[class*='button__Text']{padding-left:",";padding-right:",";}&.btn--border{background:transparent;color:",";border:2px solid ",";}&.disabled,&:disabled,&.already-entered{background:",";color:",";&:hover,&:active{background:",";color:",";}&.disabled--clickable:hover{background-image:radial-gradient( circle,transparent 1%,"," 1% );background-color:",";}&.disabled--clickable:active{background-color:",";}}}&.btn--link{background:transparent;color:",";min-width:0;&:hover,&:focus,&:active{background:transparent;box-shadow:none;color:",";transition:none;}}"],function(e){return e.smallButton?0:null},function(e){return e.color},function(e){return"radial-gradient(circle, transparent 1%, ".concat(Object(c.a)(.2,e.color)," 1%)")},function(e){return Object(c.a)(.2,e.color)},function(e){return Object(c.a)(.1,e.color)},function(e){return e.iconOnRight?"0":"10px"},function(e){return e.iconOnRight?"10px":"0"},function(e){return e.color},function(e){return e.color},l.a.alto,l.a.black,l.a.alto,l.a.black,Object(c.a)(.2,"".concat(l.a.alto)),Object(c.a)(.2,"".concat(l.a.alto)),Object(c.a)(.1,"".concat(l.a.alto)),function(e){return e.color},function(e){return Object(c.a)(.2,e.color)}),b=s.a.span.withConfig({displayName:"button__Content",componentId:"sc-14vd4y5-1"})(["display:flex;align-items:stretch;justify-content:center;"]),g=s.a.span.withConfig({displayName:"button__Icon",componentId:"sc-14vd4y5-2"})(["display:flex;align-items:center;order:",";"],function(e){return e.iconOnRight?"2":"0"});g.displayName="Icon";var v=s.a.span.withConfig({displayName:"button__Text",componentId:"sc-14vd4y5-3"})(["display:flex;align-items:center;"]);v.displayName="Text";var w=function(e){function t(){var e,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=new Array(o),i=0;i<o;i++)a[i]=arguments[i];return h(m(m(n=function(e,t){return!t||"object"!==u(t)&&"function"!=typeof t?m(e):t}(this,(e=f(t)).call.apply(e,[this].concat(a))))),"handleClick",function(e){return n.props.handleClick&&(e.preventDefault(),n.props.handleClick(e)),!1}),h(m(m(n)),"renderTitleOrText",function(){return n.props.title?n.props.title:n.props.buttonText?n.props.buttonText:null}),h(m(m(n)),"renderIcon",function(){return n.props.icon?r.a.createElement(g,{iconOnRight:n.props.iconOnRight},n.props.icon):null}),h(m(m(n)),"renderText",function(){return n.props.buttonText?r.a.createElement(v,null,n.props.buttonText):null}),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(t,o["Component"]),function(e,t,n){t&&p(e.prototype,t),n&&p(e,n)}(t,[{key:"render",value:function(){return r.a.createElement(y,{color:this.props.color,iconOnRight:this.props.iconOnRight,onClick:this.handleClick,className:this.props.className,title:this.renderTitleOrText(),type:this.props.type,"aria-label":this.renderTitleOrText(),disabled:this.props.disabled,hidden:this.props.hidden,smallButton:this.props.smallButton},r.a.createElement(b,null,this.renderIcon(),this.renderText()))}}]),t}();w.defaultProps={color:l.a.btnBackgroundColor,iconOnRight:!1,type:"button",className:"btn",disabled:!1,hidden:!1,smallButton:!1},w.propTypes={color:i.a.string,buttonText:i.a.node,icon:i.a.node,iconOnRight:i.a.bool,className:i.a.string,type:i.a.string,disabled:i.a.bool,hidden:i.a.bool,handleClick:i.a.func,smallButton:i.a.bool}},101:function(e,t,n){"use strict";n.d(t,"a",function(){return a});n(6);var o=n(16);function r(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var a=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.model=t}return function(e,t,n){t&&r(e.prototype,t),n&&r(e,n)}(e,[{key:"followingEndpoint",value:function(e){return"/v1/me/".concat(this.model,"s/").concat(e,"/")}},{key:"followEndpoint",value:function(e){return"/v1/me/".concat(this.model,"s/").concat(e,"/follow/")}},{key:"followableEndpoint",value:function(){return"/v1/".concat(this.model,"s/")}},{key:"followsEndpoint",value:function(){return"/v1/me/".concat(this.model,"s/")}},{key:"loadInitialState",value:function(e,t,n){Object(o.a)({url:this.followingEndpoint(e),type:"GET",dataType:"json",success:t,error:n})}},{key:"follow",value:function(e,t,n){Object(o.a)({url:this.followEndpoint(e),type:"POST",success:function(n){window.analytics.track("Event Item Follow",{type:this.model,followId:e}),t(n)}.bind(this),error:n})}},{key:"unfollow",value:function(e,t,n){Object(o.a)({url:this.followEndpoint(e),type:"DELETE",success:t,error:n})}},{key:"getFollowables",value:function(e,t){Object(o.a)({url:this.followableEndpoint(),type:"GET",dataType:"json",success:e,error:t})}},{key:"getFollows",value:function(e,t){Object(o.a)({url:this.followsEndpoint(),type:"GET",dataType:"json",success:e,error:t})}}]),e}()},102:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var o=n(16),r={get:function(e){Object(o.a)({url:"/v1/location/",type:"get",success:e.success})}}},103:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var o={isUserAgentAndroid:function(){return/Android|webOS|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)},isUserAgentIOS:function(){return/iPhone|iPod|iPad/i.test(navigator.userAgent)},isUserAgentMobile:function(){return/Android|webOS|iPhone|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}}},104:function(e,t,n){"use strict";var o=n(15),r=n(59);function a(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.generateActions("resetActionsList")}return function(e,t,n){t&&a(e.prototype,t),n&&a(e,n)}(e,[{key:"loadAction",value:function(e){return function(t){r.a.getAction(e,{success:function(e){t(e[0])}})}}},{key:"loadEmployeeEngagementActions",value:function(e,t,n,o,a){return function(i){r.a.loadEmployeeEngagementActions(e,t,1,n,o,a,{success:function(e){i({count:e.count,actions:e.results})}})}}},{key:"updatePage",value:function(e,t,n,o,a,i){return function(s){r.a.loadEmployeeEngagementActions(e,t,n,o,a,i,{success:function(e){s({count:e.count,actions:e.results})}})}}}]),e}();t.a=o.a.createActions(i)},11:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var o={ActionCompleted:"action-completed",CallDisconnected:"call-disconnected",CallExpired:"call-expired",CallNotes:"call-notes",ConfirmEmail:"confirm-email",EmailConfirmationSent:"email-confirmation-sent",Error:"error",Loading:"loading",NumberOutsideArea:"number-outside-area",TakeAction:"take-action",ThankYou:"thank-you",VerifyContact:"verify-contact",Video:"video",WrongCountry:"wrong-country",Intro:"intro"}},115:function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"b",function(){return s});var o=n(7),r=n.n(o),a=n(2),i=function(e,t){var n=r.a.map(e,t);if(n.length<=1)return n;if(2===n.length)return[n[0]," ".concat(Object(a.c)("and ")),n[1]];var o=[],i=n.slice(0,n.length-1),s=n[n.length-1],c=!0,l=!1,u=void 0;try{for(var p,f=i[Symbol.iterator]();!(c=(p=f.next()).done);c=!0){var d=p.value;o.push(d),o.push(", ")}}catch(e){l=!0,u=e}finally{try{c||null==f.return||f.return()}finally{if(l)throw u}}return o.push(Object(a.c)("and ")),o.push(s),o},s=function(e,t){return i(e,t).join("")}},12:function(e,t,n){"use strict";var o=n(15),r=n(59),a=n(24),i=n(9),s=n(83),c=n(39),l=n(47),u=n(21);function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var d=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.generateActions("enableDataShare","disableDataShare","enableAction","disableAction","finalizeCompleteAction","setErrorMessage")}return function(e,t,n){t&&f(e.prototype,t),n&&f(e,n)}(e,[{key:"loadActions",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return i.a.loadUser(),i.a.loadUserPoints(),function(o){r.a.getActions(e,{success:function(e){o(e)}},t,n)}}},{key:"loadActionModule",value:function(e){return i.a.loadUser(),i.a.loadUserPoints(),function(t){r.a.getAction(e,{success:function(e){t({action:e[0]})}})}}},{key:"trackUserAuthEvent",value:function(e,t,n,o){(new a.h).trackUserAuthEvent(e,t,n,!1,null,o)}},{key:"passToiFrame",value:function(){c.b.isWindowInIFrame()&&window.parent.postMessage(JSON.stringify({error:!1,message:"action completed"}),"*")}},{key:"completeAction",value:function(e,t){var n=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(){},s=l.a.getMachineByActionId(e);return s.send(u.a.Loading),function(c){r.a.completeAction(e,t,{success:function(r,a,l){304===l.status?s.send(u.a.ActionCompleted):202===l.status?s.send(u.a.ConfirmEmail):(i.a.loadUser(),i.a.loadUserPoints(),n.passToiFrame(),c({actionId:e,data:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),o.forEach(function(t){p(e,t,n[t])})}return e}({},t,r.data)}),o())},error:function(t,o,r){400===t.status&&(s.send(u.a.Error),n.setErrorMessage({actionId:e,errorMessage:t.responseJSON.message}),a())}})}}},{key:"confirmContacts",value:function(e,t){return function(n){n({actionId:e,contacts:t}),l.a.getMachineByActionId(e).send(u.a.TakeAction)}}},{key:"clearContacts",value:function(e){return{actionId:e,contacts:null}}},{key:"getContacts",value:function(e,t){return function(n){r.a.getContacts(e,{success:function(o,r,a){t.success&&t.success(o,r,a),n({actionId:e,contacts:o.results})},error:t.error})}}},{key:"startCall",value:function(e,t,n,o){var a=l.a.getMachineByActionId(e);a.send(u.a.StartCall),r.a.startCall(e,t,n,{success:function(e,t,n){a.send(u.a.CallStarted),o(e,t,n)},error:function(e,t,n){400===e.status&&!0===e.responseJSON.number_outside_area?a.send(u.a.NumberOutsideArea):a.send(u.a.Error)}})}},{key:"getCompletedAction",value:function(e,t){return function(n){r.a.getCompletedAction(e,{success:function(o,r,a){t.success(o,r,a),n({actionId:e,data:o.data})},error:t.error})}}},{key:"getCompleteCall",value:function(e,t){return function(n){r.a.getCompleteCall(e,{success:function(e,o,r){t.success(e,o,r),n()},error:t.error})}}},{key:"socialShare",value:function(e,t){return Object(s.a)(e,t,"action",t.description),!0}},{key:"setCompleteCallback",value:function(e,t){return{actionId:e,completeCallback:t}}},{key:"noContactsFound",value:function(e){return{actionId:e,contacts:[]}}},{key:"callCompleted",value:function(e){return this.passToiFrame(),{actionId:e,data:{}}}}]),e}();t.a=o.a.createActions(d)},126:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var o={getTileClasses:function(e){var t;(t=e?Object.assign({},e):{})&&!t.numberOfTiles&&(t.numberOfTiles=3);var n="tile-with-image col-12";return t.numberOfTiles&&t.numberOfTiles>=3?n+=" col-md-6 col-lg-4":t.numberOfTiles&&2===t.numberOfTiles&&(n+=" col-md-6"),t.featured&&!t.ignoreFeaturedTile&&(n="tile-with-image tile-with-image--featured col-12"),t.completedAction&&(n+=" tile-with-image--completed"),n}}},128:function(e,t,n){"use strict";n.d(t,"a",function(){return h});var o=n(0),r=n.n(o),a=n(1),i=n.n(a),s=n(4),c=n(3);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function p(e,t){return!t||"object"!==l(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var m=s.a.textarea.withConfig({displayName:"text-box__TextArea",componentId:"sc-17xnz33-0"})(["border:0;border-bottom:",";min-height:13rem;box-shadow:none;padding-top:0;&:focus{box-shadow:none;}"],c.a.baseBorder);m.displayName="TextArea";var h=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),p(this,f(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(t,r.a.Component),function(e,t,n){t&&u(e.prototype,t),n&&u(e,n)}(t,[{key:"render",value:function(){return r.a.createElement(m,{onChange:this.props.onChange,placeholder:this.props.placeholder,value:this.props.value,className:this.props.className,disabled:this.props.disabled})}}]),t}();h.defaultProps={placeholder:"Write here...",onChange:function(){},disabled:!1},h.propTypes={onChange:i.a.func,placeholder:i.a.string,value:i.a.string,className:i.a.string,disabled:i.a.bool}},129:function(e,t,n){"use strict";n.d(t,"a",function(){return m});var o=n(1),r=n.n(o),a=n(0),i=n.n(a),s=(n(7),n(2)),c=n(13);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function p(e,t){return!t||"object"!==l(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var m=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),p(this,f(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(t,i.a.Component),function(e,t,n){t&&u(e.prototype,t),n&&u(e,n)}(t,[{key:"getStyle",value:function(){var e=this.props.total;return this.props.total>4&&(e=4),{width:(100/(e+1)).toString()+"%"}}},{key:"actionIsCompleted",value:function(e){return e<this.props.completed}},{key:"getSegmentClasses",value:function(e){var t="segmented-progress-bar__segment";return this.actionIsCompleted(e)?t+=" action-completed":t+=" action-not-completed",e===this.props.completed&&(t+=" active"),t}},{key:"buildBarSegments",value:function(){var e=this,t=this.props.actionList.map(function(t,n){return e.buildASegment(t.type,e.getSegmentClasses(n),n)}),n=this.props.total;return t.push(this.buildASegment(Object(s.c)("Enter"),this.getSegmentClasses(n),n)),t}},{key:"buildASegment",value:function(e,t,n){return i.a.createElement("div",{ref:"barSegment",className:t,key:n,style:this.getStyle()},i.a.createElement("div",{className:"progress-bar__bar"},i.a.createElement("div",{ref:"innerBar",className:"progress-bar__bar__inner"})),i.a.createElement("div",{className:"progress-bar__description"},i.a.createElement("div",null,i.a.createElement("p",{ref:"progressDescription"},i.a.createElement("span",{className:"progress-bar__description__action"},e.replace("_"," "))))))}},{key:"render",value:function(){return i.a.createElement("div",{className:"segmented-progress-bar"},this.buildBarSegments())}}]),t}();m.propTypes={actionList:r.a.arrayOf(c.a.Action).isRequired,completed:r.a.number.isRequired,total:r.a.number.isRequired}},13:function(e,t,n){"use strict";var o=n(1),r=n.n(o),a=(n(0),r.a.shape({id:r.a.number.isRequired,title:r.a.string.isRequired,slug:r.a.string.isRequired})),i=r.a.shape({contact_office:r.a.oneOf(["MP","SENATOR"])}),s={id:r.a.number.isRequired,button_text:r.a.string.isRequired,description:r.a.string.isRequired,display_type:r.a.string.isRequired,issue:a.isRequired,target:i,url:r.a.string.isRequired},c=r.a.shape(Object.assign(s,{})),l=r.a.shape(Object.assign(s,{})),u=r.a.shape(Object.assign(s,{})),p=(r.a.shape(Object.assign(s,{})),r.a.shape(Object.assign(s,{}))),f=r.a.oneOfType([c,l,u,p]),d=r.a.shape({title:r.a.string.isRequired,actions:r.a.arrayOf(f).isRequired}),m=r.a.shape({name:r.a.string.isRequired}),h=r.a.shape({id:r.a.number.isRequired,title:r.a.string.isRequired,name:r.a.string.isRequired,divisions:r.a.arrayOf(m).isRequired,bioguide_id:r.a.string}),y=r.a.shape({countryCode:r.a.string.isRequired}),b=r.a.shape({name:r.a.string.isRequired,url:r.a.string.isRequired}),g=r.a.shape({action:f.isRequired,recommendationReasons:r.a.arrayOf(b)}),v=r.a.shape({itemData:r.a.object}),w=r.a.shape({address:r.a.string,postal_code:r.a.string});t.a={Action:f,ActionSet:d,Call:c,CheckIn:l,Contact:h,Division:m,Email:u,Issue:a,LocationData:y,RecommendationReason:b,RecommendedAction:g,SearchResult:v,Tweet:p,User:w}},130:function(e,t,n){"use strict";n.d(t,"a",function(){return f});var o=n(1),r=n.n(o),a=n(0),i=n.n(a);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function l(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var f=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),l(this,u(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(t,i.a.Component),function(e,t,n){t&&c(e.prototype,t),n&&c(e,n)}(t,[{key:"renderPage",value:function(e){var t=this,n="page-number";this.props.page===e&&(n+=" current-page");var o="pageNumber"+e;return i.a.createElement("span",{key:o,className:n,onClick:function(){t.props.clickHandler(e)},ref:o},e)}},{key:"renderElipsis",value:function(e){return i.a.createElement("span",{key:e,className:"elipsis",ref:e},"...")}},{key:"renderPageNumbers",value:function(){if(this.props.totalPages<8){for(var e=[],t=1;t<this.props.totalPages+1;t++)e.push(this.renderPage(t));return e}return this.props.page<5?[this.renderPage(1),this.renderPage(2),this.renderPage(3),this.renderPage(4),this.renderPage(5),this.renderElipsis("lastElipsis"),this.renderPage(this.props.totalPages)]:this.props.totalPages-this.props.page<4?[this.renderPage(1),this.renderElipsis("firstElipsis"),this.renderPage(this.props.totalPages-4),this.renderPage(this.props.totalPages-3),this.renderPage(this.props.totalPages-2),this.renderPage(this.props.totalPages-1),this.renderPage(this.props.totalPages)]:[this.renderPage(1),this.renderElipsis("firstElipsis"),this.renderPage(this.props.page-1),this.renderPage(this.props.page),this.renderPage(this.props.page+1),this.renderElipsis("lastElipsis"),this.renderPage(this.props.totalPages)]}},{key:"isMultiPageResult",value:function(){return this.props.totalPages>1}},{key:"renderPreviousLinkIfNeeded",value:function(){var e=this;if(this.isMultiPageResult()&&this.props.page>1){return i.a.createElement("span",{key:"previous",className:"increment-page previous",onClick:function(){e.props.clickHandler(e.props.page-1)},ref:"previous"},"Previous")}}},{key:"renderNextLinkIfNeeded",value:function(){var e=this;if(this.isMultiPageResult()&&this.props.page!==this.props.totalPages){return i.a.createElement("span",{key:"next",className:"increment-page next",onClick:function(){e.props.clickHandler(e.props.page+1)},ref:"next"},"Next")}}},{key:"render",value:function(){return i.a.createElement("div",{className:"reward-landing__pages",ref:"pages"},this.renderPreviousLinkIfNeeded(),this.renderPageNumbers(),this.renderNextLinkIfNeeded())}}]),t}();f.propTypes={clickHandler:r.a.func,totalPages:r.a.number,page:r.a.number}},131:function(e,t,n){"use strict";var o=n(1),r=n.n(o),a=n(0),i=n.n(a),s=n(7),c=n.n(s),l=n(79),u=n(10),p=n(92),f=n(2),d=n(18),m=n(70),h=n(22);function y(e){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function g(e,t){return!t||"object"!==y(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function w(e,t){return(w=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var k=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),g(this,v(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&w(e,t)}(t,i.a.Component),function(e,t,n){t&&b(e.prototype,t),n&&b(e,n)}(t,[{key:"componentDidMount",value:function(){h.a.smoothScroll(".smooth-scroll-to-anchor")}},{key:"onClick",value:function(){this.props.enterWithSignUp?d.a.enterReward(this.props.reward.id,{entry_type:"sign_up"}):this.props.openModal()}},{key:"needsMorePointsToEnter",value:function(){return!this.props.enterWithSignUp&&m.a.getUserPointsInPointsCategory(this.props,"reward.points_category")<this.props.reward.point_cost}},{key:"renderPointsDescription",value:function(){return this.props.reward&&this.props.reward.points_category&&1!=this.props.reward.points_category.id?this.props.reward.points_category.name:Object(f.c)("points")}},{key:"renderNeedsMorePointsToEnter",value:function(){return this.props.showProgressBar&&this.props.reward.point_cost&&this.props.reward.points_category?i.a.createElement(p.a,{goal:this.props.reward.point_cost,count:m.a.getUserPointsInPointsCategory(this.props,"reward.points_category"),description:this.renderPointsDescription(this.props,"reward.points_category")}):i.a.createElement("a",{href:"/action/recommended/redirect/",className:"btn disabled disabled--clickable",ref:"button",title:Object(f.c)("Earn more points to enter")},Object(f.c)("Earn more points to enter"))}},{key:"render",value:function(){return this.props.hasActions?this.props.allActionsCompleted?i.a.createElement(u.a,{ref:"button",handleClick:this.onClick.bind(this),buttonText:Object(f.c)("Enter to win")}):i.a.createElement("a",{href:"#reward-actions",className:"btn disabled disabled--clickable smooth-scroll-to-anchor",ref:"button",title:Object(f.c)("Complete all actions to enter")},Object(f.c)("Complete all actions to enter")):this.needsMorePointsToEnter()?this.renderNeedsMorePointsToEnter():i.a.createElement(u.a,{ref:"button",handleClick:this.onClick.bind(this),buttonText:Object(f.c)("Enter to win")})}}]),t}();k.defaultProps={showProgressBar:!1};var O=n(25),_=n.n(O),C=(n(115),n(24)),S=n(44);function E(e){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function P(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function j(e,t){return!t||"object"!==E(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function N(e){return(N=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function T(e,t){return(T=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var x=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=j(this,N(t).call(this,e))).state={buttonDisabled:!1},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&T(e,t)}(t,i.a.Component),function(e,t,n){t&&P(e.prototype,t),n&&P(e,n)}(t,[{key:"enterReward",value:function(){var e={answer:this.props.answer};C.j.trackEnterRewardButtonClick(),d.a.enterReward(this.props.reward.id,e),this.setState({buttonDisabled:!0})}},{key:"getTermsLink",value:function(){return this.props.reward&&this.props.reward.terms_conditions_url?this.props.reward.terms_conditions_url:"/terms/tickets/"}},{key:"renderConfirmationMessage",value:function(){return!this.props.hasActions&&(1===this.props.reward.point_cost?i.a.createElement("p",{dangerouslySetInnerHTML:{__html:Object(f.c)("Please confirm that you agree to the {{ termsLinkOpen }}Global Citizen Rewards Terms and Conditions{{ termsLinkClose}} and would like to use {{ pointsOpen }}{{ points }} point{{ pointsClose }} to enter the drawing by clicking the button below.",{termsLinkOpen:'<a href="'.concat(this.getTermsLink(),'" title="Global Citizen Rewards Terms and Conditions" target="_blank">'),termsLinkClose:"</a>",pointsOpen:'<span class="points-wrapper">',pointsClose:"</span>",points:this.props.reward.point_cost,interpolation:{escape:!1}})}}):i.a.createElement("p",{dangerouslySetInnerHTML:{__html:Object(f.c)("Please confirm that you agree to the {{ termsLinkOpen }}Global Citizen Rewards Terms and Conditions{{ termsLinkClose}} and would like to use {{ pointsOpen }}{{ points }} points{{ pointsClose }} to enter the drawing by clicking the button below.",{termsLinkOpen:'<a href="'.concat(this.getTermsLink(),'" title="Global Citizen Rewards Terms and Conditions" target="_blank">'),termsLinkClose:"</a>",pointsOpen:'<span class="points-wrapper">',pointsClose:"</span>",points:this.props.reward.point_cost,interpolation:{escape:!1}})}}))}},{key:"renderDescription",value:function(){var e,t,n=this.props.reward.name,o=this.props.reward.location,r=this.props.reward.date;o&&(e=this.props.reward.location.name,t=this.props.reward.location.city);var a={name:n,venue:e,city:t,date:_.a.utc(this.props.reward.date).format("MMMM D, YYYY"),interpolation:{escape:!1}};return n&&o&&e&&t&&r?Object(f.c)("{{ name }} at {{ venue }} in {{ city }} on {{ date }}",a):n&&o&&t&&r?Object(f.c)("{{ name }} in {{ city }} on {{ date }}",a):n&&o&&t?Object(f.c)("{{ name }} in {{ city }}",a):n&&r?Object(f.c)("{{ name }} on {{ date }}",a):Object(f.c)("{{ name }}",a)}},{key:"render",value:function(){return i.a.createElement("div",{className:"enter-reward-dialog-body text-center"},i.a.createElement("h5",{ref:"rewardDescription",className:"enter-reward-dialog-body__headline"},this.renderDescription()),this.renderConfirmationMessage(),i.a.createElement("p",{ref:"disclaimer",dangerouslySetInnerHTML:S.a.renderDisclaimerText(this.props.reward)}),i.a.createElement("p",{className:"error"},this.props.rewardError),i.a.createElement(u.a,{ref:"submitEntry",handleClick:this.enterReward.bind(this),hidden:this.props.rewardError,buttonText:Object(f.c)("Enter to win"),disabled:this.state.buttonDisabled}))}}]),t}(),I=n(14);function A(e){return(A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function L(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function R(e,t){return!t||"object"!==A(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function M(e){return(M=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function B(e,t){return(B=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var D=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),R(this,M(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&B(e,t)}(t,i.a.Component),function(e,t,n){t&&L(e.prototype,t),n&&L(e,n)}(t,[{key:"pointsNeeded",value:function(){return this.props.user&&this.props.user.authenticated?this.props.reward.point_cost-this.props.user.available_points:this.props.reward.point_cost}},{key:"pointsNeededMessage",value:function(){return 1===this.props.reward.point_cost?i.a.createElement("p",{dangerouslySetInnerHTML:{__html:Object(f.c)("{{ pointsOpen }}{{ points }} point{{ pointsClose }} to enter",{pointsOpen:'<span class="points-wrapper">',pointsClose:"</span>",points:this.props.reward.point_cost,interpolation:{escape:!1}})}}):0===this.props.reward.point_cost?i.a.createElement("p",{dangerouslySetInnerHTML:{__html:Object(f.c)("{{ pointsOpen }}Click{{ pointsClose }} to enter",{pointsOpen:'<span class="points-wrapper">',pointsClose:"</span>",interpolation:{escape:!1}})}}):i.a.createElement("p",{dangerouslySetInnerHTML:{__html:Object(f.c)("{{ pointsOpen }}{{ points }} points{{ pointsClose }} to enter",{pointsOpen:'<span class="points-wrapper">',pointsClose:"</span>",points:this.props.reward.point_cost,interpolation:{escape:!1}})}})}},{key:"render",value:function(){return i.a.createElement("div",{className:"enter-reward__message",ref:"pointsNeededMessage"},i.a.createElement("div",{className:"enter-reward__message__inner"},this.pointsNeededMessage()))}}]),t}();function z(e){return(z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function W(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function F(e,t){return!t||"object"!==z(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function U(e){return(U=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function q(e,t){return(q=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var G=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),F(this,U(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&q(e,t)}(t,i.a.Component),function(e,t,n){t&&W(e.prototype,t),n&&W(e,n)}(t,[{key:"numberOfRemainingActions",value:function(){var e=c.a.pluck(this.props.completedActions,"action"),t=c.a.pluck(this.props.completedActionSets,"action_set");return c.a.difference(this.props.actionIds,e).length+c.a.difference(this.props.actionSetIds,t).length}},{key:"actionsNeededMessage",value:function(){if(this.props.allActionsCompleted)return Object(f.c)("Congrats, you've completed all the actions!");var e=this.numberOfRemainingActions();return 1===e?i.a.createElement("p",{dangerouslySetInnerHTML:{__html:Object(f.c)("{{ pointsOpen }}{{ actions }} action{{ pointsClose }} left to complete",{pointsOpen:'<span class="points-wrapper">',pointsClose:"</span>",actions:1,interpolation:{escape:!1}})}}):i.a.createElement("p",{dangerouslySetInnerHTML:{__html:Object(f.c)("{{ pointsOpen }}{{ actions }} actions{{ pointsClose }} left to complete",{pointsOpen:'<span class="points-wrapper">',pointsClose:"</span>",actions:e,interpolation:{escape:!1}})}})}},{key:"render",value:function(){return i.a.createElement("div",{className:"enter-reward__message",ref:"actionsNeededMessage"},i.a.createElement("div",{className:"enter-reward__message__inner"},this.actionsNeededMessage()))}}]),t}();function H(e){return(H="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function V(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Y(e,t){return!t||"object"!==H(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Q(e){return(Q=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function K(e,t){return(K=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var J=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Y(this,Q(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&K(e,t)}(t,i.a.Component),function(e,t,n){t&&V(e.prototype,t),n&&V(e,n)}(t,[{key:"openSignInDialog",value:function(){window.openTargetDialog("#loginDialog")}},{key:"render",value:function(){return i.a.createElement(u.a,{className:"btn disabled disabled--clickable",ref:"button",handleClick:this.openSignInDialog,buttonText:Object(f.c)("Sign in to redeem rewards")})}}]),t}();function Z(e){return(Z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function X(e,t){return!t||"object"!==Z(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ee(e){return(ee=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function te(e,t){return(te=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ne=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),X(this,ee(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&te(e,t)}(t,i.a.Component),function(e,t,n){t&&$(e.prototype,t),n&&$(e,n)}(t,[{key:"render",value:function(){return i.a.createElement("div",{className:"enter-reward"},i.a.createElement("div",{className:"enter-reward__button-wrapper"},i.a.createElement("button",{className:"btn disabled"},Object(f.c)("Entries to this reward have now closed"))),i.a.createElement("div",{className:"enter-reward__message"},i.a.createElement("div",{className:"enter-reward__message__inner"})))}}]),t}();function oe(e){return(oe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function re(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function ae(e,t){return!t||"object"!==oe(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ie(e){return(ie=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function se(e,t){return(se=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ce=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),ae(this,ie(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&se(e,t)}(t,i.a.Component),function(e,t,n){t&&re(e.prototype,t),n&&re(e,n)}(t,[{key:"render",value:function(){return i.a.createElement("div",{className:"enter-reward"},i.a.createElement("div",{className:"enter-reward__button-wrapper"},i.a.createElement("button",{className:"btn disabled"},Object(f.c)("Entries to this reward have not opened yet"))),i.a.createElement("div",{className:"enter-reward__message"},i.a.createElement("div",{className:"enter-reward__message__inner"})))}}]),t}(),le=n(69);function ue(e){return(ue="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function pe(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function fe(e){return(fe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function de(e,t){return(de=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function me(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function he(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ye=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),he(me(me(n=function(e,t){return!t||"object"!==ue(t)&&"function"!=typeof t?me(e):t}(this,fe(t).call(this,e)))),"handleOptionChange",function(e){n.setState({selectedOption:e.target.value})}),he(me(me(n)),"handleSubmit",function(){var e=n.state.selectedOption;e?e==n.rightAnswer?(n.setState({errorMessage:""}),d.a.showCaptcha(!1)):n.setState({errorMessage:Object(f.c)("The answer was incorrect. Please try again.")}):n.setState({errorMessage:Object(f.c)("Please choose an answer.")})}),n.state={errorMessage:"",selectedOption:""},n.rightAnswer="option2",n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&de(e,t)}(t,i.a.Component),function(e,t,n){t&&pe(e.prototype,t),n&&pe(e,n)}(t,[{key:"renderError",value:function(){return this.state.errorMessage?i.a.createElement(le.a,{actionError:this.state.errorMessage}):null}},{key:"renderOption",value:function(e,t){return i.a.createElement("div",{className:"form-check",key:e},i.a.createElement("label",null,i.a.createElement("input",{type:"radio",name:"react-tips",value:e,checked:this.state.selectedOption===e,onChange:this.handleOptionChange,className:"form-check-input"}),t))}},{key:"render",value:function(){var e=this;return i.a.createElement("div",{className:"enter-reward-dialog-body text-center"},i.a.createElement("h5",{className:"enter-reward-dialog-body__headline"},Object(f.c)("Please answer the following skill testing question before you can enter")),i.a.createElement("p",null,Object(f.c)("By what year does Global Citizen want to end extreme poverty?")," "),i.a.createElement("form",null,[{option:"option1",answer:"2020"},{option:"option2",answer:"2030"},{option:"option3",answer:"2040"},{option:"option4",answer:"2050"}].map(function(t){return e.renderOption(t.option,t.answer)}),this.renderError(),i.a.createElement(u.a,{buttonText:"Submit",handleClick:this.handleSubmit})))}}]),t}(),be=n(183),ge=n(128);function ve(e){return(ve="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function we(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function ke(e){return(ke=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Oe(e,t){return(Oe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _e(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ce(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Se=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Ce(_e(_e(e=function(e,t){return!t||"object"!==ve(t)&&"function"!=typeof t?_e(e):t}(this,ke(t).call(this)))),"updateText",function(t){e.setState({text:t.target.value})}),Ce(_e(_e(e)),"handleSubmit",function(){var t=e.state.text;t?(e.setState({errorMessage:""}),e.props.onSubmit(t)):e.setState({errorMessage:Object(f.c)("The answer cannot be blank")})}),e.state={text:"",errorMessage:""},e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Oe(e,t)}(t,i.a.Component),function(e,t,n){t&&we(e.prototype,t),n&&we(e,n)}(t,[{key:"renderError",value:function(){return this.state.errorMessage?i.a.createElement(le.a,{actionError:this.state.errorMessage}):null}},{key:"render",value:function(){return i.a.createElement("div",{className:"enter-reward-dialog-body text-center"},i.a.createElement("h5",{className:"enter-reward-dialog-body__headline"},Object(f.c)("Please answer the following skill testing question before you can enter")),i.a.createElement("p",null," ",Object(f.c)("As a Global Citizen, I can contribute to helping solve the world's biggest issues by:")," "),i.a.createElement("form",null,i.a.createElement(ge.a,{onChange:this.updateText}),this.renderError(),i.a.createElement(u.a,{buttonText:"Submit",handleClick:this.handleSubmit})))}}]),t}();function Ee(e){return(Ee="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Pe(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function je(e){return(je=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ne(e,t){return(Ne=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Te(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}Se.defaultProps={onSubmit:function(){}},n.d(t,"a",function(){return xe});var xe=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(Te(Te(e=function(e,t){return!t||"object"!==Ee(t)&&"function"!=typeof t?Te(e):t}(this,je(t).call(this)))),"getAnswerToQuestion",function(t){e.setState({answerToQuestion:t})}),e.state={showModal:!1,answerToQuestion:""},e.handleOpenModal=e.handleOpenModal.bind(Te(Te(e))),e.handleCloseModal=e.handleCloseModal.bind(Te(Te(e))),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ne(e,t)}(t,i.a.Component),function(e,t,n){t&&Pe(e.prototype,t),n&&Pe(e,n)}(t,[{key:"getEnterButton",value:function(){return this.props.user.authenticated?i.a.createElement(k,{ref:"enterButton",enterWithSignUp:this.props.enterWithSignUp,reward:this.reward(),userPointsByCategory:this.props.userPointsByCategory,user:this.props.user,allActionsCompleted:this.allActionsCompleted(),openModal:this.handleOpenModal,hasActions:this.hasActions(),showProgressBar:this.props.showProgressBar}):i.a.createElement(J,{ref:"signInButton"})}},{key:"handleOpenModal",value:function(){this.setState({showModal:!0})}},{key:"handleCloseModal",value:function(){this.setState({showModal:!1})}},{key:"alreadyEntered",value:function(){return!!c.a.findWhere(this.props.enteredRewards,{reward:this.reward().id})}},{key:"loading",value:function(){return this.props.openEnterRewardModal?!this.props.user||!this.reward()||void 0===this.props.enteredRewards||void 0===this.props.completedActions||void 0===this.props.completedActionSets:!this.reward()}},{key:"reward",value:function(){return this.props.reward?this.props.reward:c.a.findWhere(this.props.rewards,{id:this.props.rewardId})}},{key:"rewardLocation",value:function(){var e=this.reward();return e&&e.location&&e.location.country?e.location.country.code:null}},{key:"rewardExpired",value:function(){return new Date>Date.parse(this.reward().expiration_date)}},{key:"allCompleted",value:function(e,t){return c.a.every(e,function(e){return c.a.contains(t,e)}.bind(this))}},{key:"allActionsCompleted",value:function(){return this.allCompleted(this.props.actionIds,c.a.pluck(this.props.completedActions,"action"))&&this.allCompleted(this.props.actionSetIds,c.a.pluck(this.props.completedActionSets,"action_set"))}},{key:"hasActions",value:function(){return!c.a.isEmpty(this.props.actionIds)||!c.a.isEmpty(this.props.actionSetIds)||!c.a.isEmpty(this.props.actionList)}},{key:"renderButton",value:function(){return this.props.openEnterRewardModal?this.getEnterButton():i.a.createElement("a",{ref:"buttonLinkToDetails",href:this.reward().url,title:Object(f.c)("View Details")},i.a.createElement(u.a,{buttonText:Object(f.c)("View Details")}))}},{key:"renderNeededMessage",value:function(){return!this.props.enterWithSignUp&&!this.props.showProgressBar&&(this.hasActions()?i.a.createElement(G,{ref:"actionsNeededMessage",allActionsCompleted:this.allActionsCompleted(),actionIds:this.props.actionIds,actionSetIds:this.props.actionSetIds,completedActions:this.props.completedActions,completedActionSets:this.props.completedActionSets,reward:this.reward()}):i.a.createElement(D,{ref:"pointsNeededMessage",reward:this.reward(),user:this.props.user}))}},{key:"renderNeededModal",value:function(){return be.a.includes(this.rewardLocation())&&this.props.showCaptcha?i.a.createElement(ye,null):this.reward().requires_question_on_claim&&!this.state.answerToQuestion?i.a.createElement(Se,{onSubmit:this.getAnswerToQuestion}):i.a.createElement(x,{reward:this.reward(),rewardError:this.props.rewardError,closeDialog:this.handleCloseModal,hasActions:this.hasActions(),answer:this.state.answerToQuestion})}},{key:"render",value:function(){return this.loading()?i.a.createElement(I.a,null):this.rewardExpired()||this.reward().archived?i.a.createElement(ne,null):this.reward().is_live?this.alreadyEntered()?i.a.createElement("div",{className:"enter-reward"},i.a.createElement(l.a,{isOpen:this.state.showModal,closeTimeoutMS:0,contentLabel:"Modal",className:{base:"react-modal enter-reward-modal",afterOpen:"react-modal enter-reward-modal--after-open",beforeClose:"react-modal enter-reward-modal--close"},rewardId:this.reward().id,ref:"alreadyEnteredRewardModal"},i.a.createElement("span",{className:"close-dialog","aria-label":"Close",onClick:this.handleCloseModal},"×"),i.a.createElement("div",{className:"enter-reward-dialog-body text-center"},i.a.createElement("p",null,S.a.renderRewardConfirmationText(this.reward())),i.a.createElement(u.a,{className:"btn already-entered disabled--clickable",handleClick:this.handleCloseModal,buttonText:Object(f.c)("Entered")}))),i.a.createElement("div",{className:"enter-reward__button-wrapper"},i.a.createElement(u.a,{className:"btn already-entered",ref:"enterButton",buttonText:Object(f.c)("Entered"),disabled:!0})),i.a.createElement("div",{className:"enter-reward__message"},i.a.createElement("div",{className:"enter-reward__message__inner"},S.a.renderRewardConfirmationText(this.reward())))):i.a.createElement("div",{className:"enter-reward"},i.a.createElement(l.a,{isOpen:this.state.showModal,closeTimeoutMS:0,contentLabel:"Modal",className:{base:"react-modal enter-reward-modal",afterOpen:"react-modal react-modal--after-open enter-reward-modal--after-open",beforeClose:"react-modal enter-reward-modal--close"},rewardId:this.reward().id,ref:"enterRewardModal"},i.a.createElement("span",{className:"close-dialog","aria-label":"Close",onClick:this.handleCloseModal},"×"),this.renderNeededModal()),i.a.createElement("div",{className:"enter-reward__button-wrapper"},this.renderButton()),this.renderNeededMessage()):i.a.createElement(ce,null)}}]),t}();xe.propTypes={enterWithSignUp:r.a.bool},xe.defaultProps={enterWithSignUp:!1,openEnterRewardModal:!0,showProgressBar:!1}},132:function(e,t,n){"use strict";var o=n(0),r=n.n(o),a=n(6),i=n.n(a);function s(){}s.prototype.login=function(e,t){FB.login(e,t)};var c=n(2),l=n(27);function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",function(){return y});var y=function(e){function t(){var e,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];return h(m(m(n=function(e,t){return!t||"object"!==u(t)&&"function"!=typeof t?m(e):t}(this,(e=f(t)).call.apply(e,[this].concat(r))))),"state",{disabled:!1}),h(m(m(n)),"handleClick",function(e){e.preventDefault(),n.setState({disabled:!0}),n.props.facebookClient.login(n.facebookCallback,n.props.requestOptions)}),h(m(m(n)),"facebookCallback",function(e){if("connected"===e.status){var t=e.authResponse;-1!==t.grantedScopes.indexOf("email")?n.finishLogin(t):n.failedLogin()}n.setState({disabled:!1})}),h(m(m(n)),"failedLogin",function(){n.props.failCallback()}),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(t,r.a.Component),function(e,t,n){t&&p(e.prototype,t),n&&p(e,n)}(t,[{key:"componentDidMount",value:function(){this.props.disabledByDefault&&this.setState({disabled:!0})}},{key:"disableButton",value:function(){return this.props.disabled||this.state.disabled}},{key:"render",value:function(){return r.a.createElement("button",{ref:"submitButton",className:"facebook-button btn social-button fb-button",onClick:this.handleClick,disabled:this.disableButton()},r.a.createElement("i",{className:"signup-facebook-icon fab fa-facebook-f"}),this.props.buttonText)}},{key:"finishLogin",value:function(e){var t=this,n={access_token:e.accessToken};this.props.referralCode&&(n.referral_code=this.props.referralCode),i.a.ajax({url:"/account/access-token-registration/facebook/",data:n,success:function(e){l.a.set(e.user),t.props.successCallback(e)},error:this.failedLogin})}}]),t}();h(y,"defaultProps",{buttonText:Object(c.c)("Sign Up with Facebook"),referralCode:null,facebookClient:new s,failCallback:function(){},requestOptions:{scope:"public_profile,email,user_location",return_scopes:!0}})},133:function(e,t,n){"use strict";var o=n(15),r=n(54);function a(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.bindListeners({storeUserLikeCount:r.a.loadUserLikeCount,storeTotalLikeCount:r.a.loadTotalLikeCount,incrementLikeCount:r.a.like,zeroLikeCount:r.a.removeLike,loadEmployeeEngagementContent:r.a.loadEmployeeEngagementContent,updatePage:r.a.updatePage,resetContentList:r.a.resetContentList}),this.state={likesById:{},count:0,page:1,contentList:[]}}return function(e,t,n){t&&a(e.prototype,t),n&&a(e,n)}(e,[{key:"updateContentLikes",value:function(e,t){var n=this.state.likesById[e]||{},o=Object.assign({},n,t),r=Object.assign({},this.state.likesById,function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},e,o));this.setState({likesById:r})}},{key:"storeUserLikeCount",value:function(e){var t=e.contentId,n=e.userLikeCount,o=e.maxLikesPerUser;this.updateContentLikes(t,{userLikeCount:n,maxLikesPerUser:o})}},{key:"storeTotalLikeCount",value:function(e){var t=e.contentId,n=e.totalLikeCount;this.updateContentLikes(t,{totalLikeCount:n})}},{key:"incrementLikeCount",value:function(e){var t=1,n=1,o=this.state.likesById[e];o&&(t=o.totalLikeCount+1,n=o.userLikeCount+1),this.updateContentLikes(e,{totalLikeCount:t,userLikeCount:n})}},{key:"zeroLikeCount",value:function(e){var t=0,n=0,o=this.state.likesById[e];o&&(t=o.totalLikeCount-o.userLikeCount,n=0),this.updateContentLikes(e,{totalLikeCount:t,userLikeCount:n})}},{key:"loadEmployeeEngagementContent",value:function(e){this.setState({count:e.count,contentList:e.contentList,page:1})}},{key:"updatePage",value:function(e){this.setState({count:e.count,contentList:e.contentList,page:e.page})}},{key:"resetContentList",value:function(){this.setState({contentList:[]})}}]),e}();t.a=o.a.createStore(i,"ContentStore")},135:function(e,t,n){"use strict";n(0);var o=n(7),r=n.n(o),a=n(15),i=n(93);function s(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var c=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.bindListeners({setIssues:i.a.getIssues,toggleIssue:i.a.toggleIssue}),this.state={issues:[],selectedIssues:{}}}return function(e,t,n){t&&s(e.prototype,t),n&&s(e,n)}(e,[{key:"setIssues",value:function(e){this.setState({issues:e})}},{key:"toggleIssue",value:function(e){var t=r.a.clone(this.state.selectedIssues);t[e.id]?delete t[e.id]:t[e.id]=e,this.setState({selectedIssues:t})}}]),e}();t.a=a.a.createStore(c,"IssuesStore")},136:function(e,t,n){"use strict";var o=n(15);t.a=o.a.createActions(function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.generateActions("setPartners","setFollowOnSignup","setDatashare")})},14:function(e,t,n){"use strict";n.d(t,"a",function(){return u});var o=n(0),r=n.n(o);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function s(e,t){return!t||"object"!==a(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var u=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),s(this,c(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(t,r.a.Component),function(e,t,n){t&&i(e.prototype,t),n&&i(e,n)}(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"loading"},r.a.createElement("i",{className:"spinner fas fa-circle-notch fa-spin fa-3x fa-fw margin-bottom"}))}}]),t}()},15:function(e,t,n){"use strict";var o=n(292),r=n.n(o);t.a=new r.a},16:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var o=n(6),r=n.n(o),a=n(28);function i(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=a.a.apiProxy.baseUrl+e.url,o=e.headers||{};return t&&(o.apikey=a.a.apiProxy.apiKey,e.xhrFields={withCredentials:!0}),e.url=n,e.headers=o,r.a.ajax(e)}},168:function(e,t,n){"use strict";n.d(t,"a",function(){return S});var o=n(0),r=n.n(o),a=n(1),i=n.n(a),s=n(4),c=n(34),l=n(33),u=n(3);function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function d(e,t){return!t||"object"!==p(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var y=s.a.div.withConfig({displayName:"activity-feed-display__Container",componentId:"sc-1a1bq5e-0"})(["position:relative;overflow:hidden;background:",";min-height:130px;max-height:",";&:after{background-image:linear-gradient(",",",");content:' ';display:block;height:130px;pointer-events:none;position:absolute;bottom:0;left:0;right:0;z-index:10;}"],u.a.white,function(e){return e.maxHeight},Object(c.c)(u.a.white,0),Object(c.c)(u.a.white,1));y.displayName="Container";var b=s.a.ul.withConfig({displayName:"activity-feed-display__ItemList",componentId:"sc-1a1bq5e-1"})(["&&&{padding:0;list-style-type:none;}"]);b.displayName="ItemList";var g=s.a.li.withConfig({displayName:"activity-feed-display__Item",componentId:"sc-1a1bq5e-2"})([""]);g.displayName="Item";var v=s.a.span.withConfig({displayName:"activity-feed-display__Flag",componentId:"sc-1a1bq5e-3"})(["&&&{width:25px;min-width:25px;max-width:25px;height:25px;}"]);v.displayName="Flag";var w=s.a.span.withConfig({displayName:"activity-feed-display__Name",componentId:"sc-1a1bq5e-4"})([""]);w.displayName="Name",s.a.span.withConfig({displayName:"activity-feed-display__Meta",componentId:"sc-1a1bq5e-5"})(["white-space:nowrap;"]).displayName="Meta";var k=s.a.span.withConfig({displayName:"activity-feed-display__Time",componentId:"sc-1a1bq5e-6"})(["color:",";font-size:",";white-space:nowrap;"],u.a.midGray,u.a.xxsmallBaseFont);k.displayName="Time",Object(s.a)(l.a).withConfig({displayName:"activity-feed-display__Avatar",componentId:"sc-1a1bq5e-7"})([""]).displayName="Avatar";var O=s.a.span.withConfig({displayName:"activity-feed-display__Phrase",componentId:"sc-1a1bq5e-8"})(["font-size:",";"],u.a.smallBaseFont);O.displayName="Phrase";var _=s.a.a.withConfig({displayName:"activity-feed-display__Title",componentId:"sc-1a1bq5e-9"})(["color:",";font-family:",";cursor:",";&:hover{color:",";}"],u.a.black,function(e){return e.linkItems?u.a.primaryFontFamilyBold:null},function(e){return e.linkItems?"pointer":"default"},function(e){return e.linkItems?u.a.darkRed:u.a.black});_.displayName="Title";var C=s.a.span.withConfig({displayName:"activity-feed-display__Verb",componentId:"sc-1a1bq5e-10"})([""]);C.displayName="Verb";var S=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),d(this,m(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(t,o["Component"]),function(e,t,n){t&&f(e.prototype,t),n&&f(e,n)}(t,[{key:"createList",value:function(){var e=this;return this.props.activities.map(function(t,n){return r.a.createElement(g,{className:e.renderItemClass(t,n),key:n},e.renderFlag(t),e.renderPhrase(t),e.renderTime(t))})}},{key:"safeToLowerCase",value:function(e){return"string"==typeof e?e.toLowerCase():e}},{key:"renderPhrase",value:function(e){return"expanded"===this.props.type?r.a.createElement(O,{className:"".concat(this.props.className)},this.renderName(e)," ",this.renderVerb(e)," ",this.renderTitle(e)):this.renderName(e)}},{key:"renderItemClass",value:function(e,t){var n="animated fadeInTop d-flex align-items-center px-2 py-3";return t%2==0&&(n+=" bg-wild-sand"),0===t&&(n+="  fadeInRight"),n}},{key:"renderVerb",value:function(e){return e.humanizedVerb?r.a.createElement(C,null,e.humanizedVerb):null}},{key:"renderLink",value:function(e){return this.props.linkItems?e.action_url:null}},{key:"renderTitle",value:function(e){return e.title?r.a.createElement(_,{href:this.renderLink(e),linkItems:this.props.linkItems},'"',e.title,'"'):null}},{key:"renderFlag",value:function(e){return e.countryCode?r.a.createElement(v,{className:"mr-4 d-flex flag-icon flag-icon-".concat(this.safeToLowerCase(e.countryCode)," flag-icon-squared rounded-circle")}):null}},{key:"renderName",value:function(e){return e.name?r.a.createElement(w,null,e.name):null}},{key:"renderTime",value:function(e){return e.timeSince?r.a.createElement(k,{className:"pl-4 ml-auto ".concat(this.props.className)},e.timeSince):null}},{key:"render",value:function(){return this.props.activities&&this.props.activities.length?r.a.createElement(y,{maxHeight:this.props.maxHeight,linkItems:this.props.linkItems},r.a.createElement(b,{className:"bst",linkItems:this.props.linkItems},this.createList(this.props.activities))):null}}]),t}();S.defaultProps={type:null,maxHeight:null,linkItems:!0},S.propTypes={activities:i.a.arrayOf(i.a.object).isRequired,className:i.a.string,type:i.a.oneOf(["basic","expanded"]),maxHeight:i.a.string,linkItems:i.a.bool}},169:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var o=n(25),r=n.n(o);function a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Date,n=r.a.utc(e),o=(t=r.a.utc(t)).diff(n,"seconds"),a=[[60,"s",1],[3600,"m",60],[86400,"h",3600],[604800,"d",86400],[2419200,"w",604800],[29030400,"mo",2419200],[290304e4,"y",29030400]];if(Math.abs(o)<=45||o<0)return"Just now";for(var i,s=0;i=a[s++];)if(o<i[0])return"string"==typeof i[2]?i[1]:"".concat(Math.floor(o/i[2])+i[1]," ago")}},170:function(e,t,n){"use strict";n.d(t,"a",function(){return s});var o=n(6),r=n.n(o),a=n(7),i=n.n(a);function s(e){this.endpoint=e}s.prototype.hiddenFields=function(){return r()('input[name="csrfmiddlewaretoken"]')},s.prototype.setToken=function(e,t){e.val(t)},s.prototype.updateHiddenFieldTokens=function(e){var t=i.a.bind(function(t){var n=r()(t);this.setToken(n,e)},this);i.a.each(this.hiddenFields(),t)},s.prototype.getToken=function(){r.a.ajax({url:this.endpoint,success:i.a.bind(function(e){this.updateHiddenFieldTokens(e.token)},this)})}},171:function(e,t,n){"use strict";var o=n(17),r=n.n(o),a=n(0),i=n.n(a),s=n(1),c=n.n(s),l=(n(125),n(68)),u=n(172),p=n(2),f=n(9),d=n(19),m=n(14);function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function y(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function b(e,t){return!t||"object"!==h(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function v(e,t){return(v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var w=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),b(this,g(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&v(e,t)}(t,i.a.Component),function(e,t,n){t&&y(e.prototype,t),n&&y(e,n)}(t,[{key:"componentDidMount",value:function(){f.a.loadUser()}},{key:"componentDidUpdate",value:function(){Waypoint&&Waypoint.refreshAll()}},{key:"render",value:function(){var e=this;if(null===this.props.user)return i.a.createElement(m.a,null);var t=[],n=!0;this.props.contentList.forEach(function(o){var r=Object.assign({},o,{description:o.teaser}),a="sub_issue"===e.props.mode;t.push(i.a.createElement(u.a,{key:o.id,featured:n,item:r,user:e.props.user,openInIframe:e.props.openInIframe,openInNewWindow:e.props.openInNewWindow,openSignupIfSignedOut:e.props.openSignupIfSignedOut,backButtonText:e.props.backButtonText,buttonContent:Object(p.c)("Read More"),showSubIssue:a,ignoreFeaturedTile:e.props.ignoreFeaturedTile,showPublicationDates:e.props.showPublicationDates,numberOfTiles:e.props.numberOfTiles})),n=!1});var o="tile-with-image-wrapper tile-with-image-wrapper--content bst-row align-items-stretch";t.length>1&&(o+=" tile-with-image-wrapper--slideshow");var r="";return this.props.bootstrapContainer&&(r="bst-container"),i.a.createElement("div",{className:"bst"},i.a.createElement("div",{className:r},i.a.createElement("div",{className:o},i.a.createElement(l.a,{mobileSlideshow:this.props.mobileSlideshow},t))))}}],[{key:"getStores",value:function(){return[d.a]}},{key:"getPropsFromStores",value:function(){return{user:d.a.getState().user}}}]),t}();w.defaultProps={user:{},contentList:[],openInIframe:!0,openInNewWindow:!1,backButtonText:Object(p.c)("Back for more stories"),ignoreFeaturedTile:!1,bootstrapContainer:!1,openSignupIfSignedOut:!1,showPublicationDates:!1,numberOfTiles:3,mobileSlideshow:!0},w.propTypes={user:c.a.arrayOf(c.a.object),contentList:c.a.arrayOf(c.a.object),useLanguageFallbacks:c.a.bool,completedActionsByActionId:c.a.arrayOf(c.a.object),mode:c.a.string,openInNewWindow:c.a.bool,ignoreFeaturedTile:c.a.bool,backButtonText:c.a.string,bootstrapContainer:c.a.bool,openSignupIfSignedOut:c.a.bool,showPublicationDates:c.a.bool},t.a=r()(w)},172:function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return g});var o=n(0),r=n.n(o),a=n(55),i=n(2),s=n(91),c=n(22),l=n(23),u=n(126),p=n(28);function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}function m(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function h(e,t){return!t||"object"!==f(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var g=function(t){function n(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),h(this,y(n).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}(n,r.a.Component),function(e,t,n){t&&m(e.prototype,t),n&&m(e,n)}(n,[{key:"getThumbnailImage",value:function(){return this.props.item.thumbnails&&this.props.item.thumbnails.medium&&this.props.item.thumbnails.medium.landscape_16_9?this.props.item.thumbnails.medium.landscape_16_9:"/static/img/festival-banner.png"}},{key:"getHeroImage",value:function(){return this.props.item.hero_image?this.props.item.hero_image:"/static/img/festival-banner.png"}},{key:"getTileImage",value:function(){return this.props.featured?this.getHeroImage():this.getThumbnailImage()}},{key:"pointsMessage",value:function(){var e={points:this.props.item.points};return 1===this.props.item.points?Object(i.c)("Earn {{ points }} point",e):this.props.item.points>1?Object(i.c)("Earn {{ points }} points",e):null}},{key:"renderIssue",value:function(){if(this.props.item.issue_override)return this.props.item.issue_override;var e=null;return this.props.item.issue&&this.props.item.issue.name&&(e=this.props.item.issue.name),this.props.showSubIssue&&this.props.item.subissue&&this.props.item.subissue.title&&(e=this.props.item.subissue.title),e}},{key:"renderContentAuthor",value:function(e){return r.a.createElement("a",{className:"tile-with-image__authors__link",href:e.url},e.name)}},{key:"renderAuthors",value:function(){return this.props.item&&this.props.item.authors&&this.props.item.authors.length?r.a.createElement("div",{className:"tile-with-image__authors-wrapper"},r.a.createElement("span",null,Object(i.c)("By"))," ",r.a.createElement(s.a,{items:this.props.item.authors,renderItem:this.renderContentAuthor,listClassName:"tile-with-image__authors"})):null}},{key:"renderPublicationDate",value:function(){if(this.props.showPublicationDates&&this.props.item.publication_date){var t=e.cookie(p.a.language.cookieName),n=new Date(new Date(this.props.item.publication_date)).toLocaleString(t,{day:"numeric",month:"long",year:"numeric"});return r.a.createElement("div",{className:"tile-with-image__publication-date-wrapper"},n)}}},{key:"renderFeatured",value:function(){return this.props.featured?r.a.createElement("div",{className:"tile-with-image__partner-points tile-with-image__partner-points--featured"},r.a.createElement("span",{ref:"issue",className:"tile-with-image__partner-points__parnters headline__topic--gray"},this.renderIssue()),r.a.createElement("span",{ref:"pointsMessage",className:"tile-with-image__partner-points__points headline__topic--red"},this.pointsMessage())):null}},{key:"renderTitle",value:function(){return this.props.showTitle?r.a.createElement(a.a,d({},this.props,{ref:"contentTitleLink",buttonClass:"tile-with-image__title",buttonContent:this.props.item.title,resourceUrl:this.props.item.url,navElement:this.props.navElement,openInIframe:this.props.openInIframe,backButtonText:this.props.backButtonText,useAuthentication:this.props.openSignupIfSignedOut})):null}},{key:"renderSponsor",value:function(){return this.props.item&&this.props.item.sponsor?r.a.createElement("span",{className:"headline__topic--gray",ref:"sponsor"},Object(i.c)("SUPPORTED BY")," ",r.a.createElement("a",{href:this.props.item.sponsor.url},this.props.item.sponsor.name)):null}},{key:"renderSponsorFeatured",value:function(){return this.props.featured?r.a.createElement("div",{className:"tile-with-image__partner-points tile-with-image__partner-points--featured",ref:"featuredSponsorWrapper"},this.renderSponsor()):null}},{key:"render",value:function(){var e=c.a.truncateByWord(this.props.item.description,100),t={backgroundImage:"url(".concat(this.getTileImage(),")")};return r.a.createElement("div",{className:u.a.getTileClasses(this.props)},r.a.createElement("div",{className:"tile-with-image__inner"},r.a.createElement("div",{className:"tile-with-image__partner-points"},r.a.createElement("span",{ref:"issue",className:"tile-with-image__partner-points__parnters headline__topic--gray"},this.renderIssue()),r.a.createElement("span",{ref:"pointsMessage",className:"tile-with-image__partner-points__points headline__topic--red"},this.pointsMessage())),r.a.createElement("div",{className:"tile-with-image__border"},r.a.createElement("div",{className:"tile-with-image__image-wrapper__overflow"},r.a.createElement(a.a,d({},this.props,{ref:"imageLink",style:t,buttonClass:"tile-with-image__image-wrapper ".concat(this.props.zoom&&"zoom"),buttonContent:" ",resourceUrl:this.props.item.url,navElement:this.props.navElement,openInIframe:this.props.openInIframe,backButtonText:this.props.backButtonText,useAuthentication:this.props.openSignupIfSignedOut,title:this.props.item.title}))),r.a.createElement("div",{className:"tile-with-image__content-wrapper"},r.a.createElement("div",{className:"tile-with-image__content-wrapper-inner"},this.renderFeatured(),this.renderTitle(),this.renderAuthors(),this.renderPublicationDate(),r.a.createElement("p",{className:"tile-with-image__description"},e,r.a.createElement("br",null),r.a.createElement(a.a,d({},this.props,{buttonClass:"tile-with-image__read-more-link",buttonContent:Object(i.c)("Read More"),resourceUrl:this.props.item.url,navElement:this.props.navElement,openInIframe:this.props.openInIframe,backButtonText:this.props.backButtonText,useAuthentication:this.props.openSignupIfSignedOut}))),r.a.createElement("div",{className:"bst"},l.a.renderProgressBar(this.props.item,"py-3"))),r.a.createElement("div",{className:"tile-with-image__button-wrapper"},r.a.createElement(a.a,d({},this.props,{buttonClass:"btn",buttonContent:this.props.buttonContent,resourceUrl:this.props.item.url,navElement:this.props.navElement,openInIframe:this.props.openInIframe,backButtonText:this.props.backButtonText,useAuthentication:this.props.openSignupIfSignedOut}))),this.renderSponsorFeatured())),r.a.createElement("div",{className:"tile-with-image__partner-points"},this.renderSponsor())))}}]),n}();g.defaultProps={closeCallback:function(){},openSignupIfSignedOut:!0,backButtonText:Object(i.c)("Back"),featured:!1,showTitle:!0,ignoreFeaturedTile:!1,numberOfTiles:3,showPublicationDates:!1,zoom:!0}}).call(this,n(6))},173:function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return m});var o=n(0),r=n.n(o),a=n(291),i=n(103),s=n(170),c=n(22);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var m=function(t){function n(t){var o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(o=function(e,t){return!t||"object"!==l(t)&&"function"!=typeof t?d(e):t}(this,p(n).call(this,t))).state={iFrameIsOpen:t.iFrameIsOpen,navHeight:e(o.getNavElement()).outerHeight()},o.CSRFHelper=new s.a("/api/app/csrf_token/"),o.handleResize=o.handleResize.bind(d(d(o))),o.handleScroll=o.handleScroll.bind(d(d(o))),o.getIframeContainerClassName=o.getIframeContainerClassName.bind(d(d(o))),o.getNavElement=o.getNavElement.bind(d(d(o))),o.closeIFrame=o.closeIFrame.bind(d(d(o))),o.onMessageReceived=o.onMessageReceived.bind(d(d(o))),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(n,r.a.Component),function(e,t,n){t&&u(e.prototype,t),n&&u(e,n)}(n,[{key:"getNavElement",value:function(){var t=!1;return this.props.navElement&&(t=e(this.props.navElement).length),this.props.navElement&&t?this.props.navElement:"nav"}},{key:"handleResize",value:function(){this.setState({navHeight:e(this.getNavElement()).outerHeight()})}},{key:"handleScroll",value:function(){this.setState({navHeight:e(this.getNavElement()).outerHeight()})}},{key:"closeIFrame",value:function(){this.CSRFHelper.getToken(),e("body").removeClass("no-overflow iframe-open"),this.setState({iFrameIsOpen:!this.state.iFrameIsOpen}),this.props.closeCallback(),e("#iframeContainer").remove(),c.a.historyReplaceState(c.a.removeUrlParameter(window.location.toString(),"subPage")),"/account/settings/"===this.props.resourceUrl&&c.a.reloadPage()}},{key:"getIframeContainerClassName",value:function(){return i.a.isUserAgentIOS()?"iframe-wrapper ios-iframe":"iframe-wrapper"}},{key:"renderIFrameIfIFrameOpen",value:function(){if(this.state.iFrameIsOpen)return r.a.createElement("iframe",{className:"fullpage-iframe",ref:"iframe",src:this.props.resourceUrl,onload:"scroll(0,0);"})}},{key:"componentDidMount",value:function(){window.addEventListener("resize",this.handleResize),window.addEventListener("scroll",this.handleScroll),window.addEventListener("message",this.onMessageReceived,!1)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.handleResize),window.removeEventListener("scroll",this.handleScroll),window.removeEventListener("message",this.onMessageReceived)}},{key:"onMessageReceived",value:function(e){this.props.closeCallback()}},{key:"renderBackButtonIfIFrameOpen",value:function(){if(this.state.iFrameIsOpen)return r.a.createElement(a.a,{ref:"iFrameBackButton",backButtonCallback:this.closeIFrame,navElement:this.props.navElement,backButtonText:this.props.backButtonText})}},{key:"render",value:function(){var e=this.state.navHeight+44,t={marginTop:e,paddingBottom:e};return r.a.createElement("div",{className:"iframe-outer-wrapper"},this.renderBackButtonIfIFrameOpen(),r.a.createElement("div",{style:t,className:this.getIframeContainerClassName()},this.renderIFrameIfIFrameOpen()))}}]),n}();m.defaultProps={closeCallback:function(){},navElement:".attach-iframe-container"}}).call(this,n(6))},175:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var o=n(6),r=n.n(o),a=(n(159),n(27),n(28)),i={localeMapping:{de:"de-DE",en:"en-US",fr:"fr-FR"},currentWindow:window,getLanguage:function(){var e=this;return this.localeMapping[function(){if(r.a.cookie(a.a.language.cookieName))return r.a.cookie(a.a.language.cookieName);for(var t in e.localeMapping)if(e.currentWindow.location.pathname.startsWith("/".concat(t,"/")))return t;return"en"}()]},getLanguages:function(){return Promise.resolve(r.a.get("/api/app/i18n/"))},setLanguage:function(e,t){r.a.ajax({url:"/i18n/setlang/",type:"POST",contentType:"application/json",dataType:"json",data:{language:e},complete:t.complete})}}},176:function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return w});var o=n(0),r=n.n(o),a=n(173),i=n(80),s=n(9),c=n(39),l=n(22),u=n(2);function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function m(e,t,n){return t&&d(e.prototype,t),n&&d(e,n),e}function h(e,t){return!t||"object"!==p(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function b(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)}function g(e,t){return(g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var v=function(t){function n(){return f(this,n),h(this,y(n).apply(this,arguments))}return b(n,r.a.Component),m(n,[{key:"componentWillReceiveProps",value:function(e){if(!this.props.user&&e.user){var t=l.a.getParameterByName("subPage");if(t)!this.useAuthentication(t)||e.user.authenticated?this.openIFrame(t):this.openSignUpDialog()}}},{key:"openSignUpDialog",value:function(){window.openTargetDialog("#registerDialog")}},{key:"closeCallback",value:function(){s.a.loadCompletedActions(),s.a.loadCompletedActionSets()}},{key:"useAuthentication",value:function(e){return-1!==e.indexOf("/action/")}},{key:"getBackButtonText",value:function(e){return-1!==e.indexOf("/action/")?Object(u.c)("Back for more actions"):this.props.backButtonText}},{key:"openIFrame",value:function(t){e("body").prepend("<div id='iframeContainer'></div>");window.location.pathname;var n={resourceUrl:t,iFrameIsOpen:!0,closeCallback:this.closeCallback,navElement:this.props.navElement,backButtonText:this.getBackButtonText(t)};c.b.bindComponentToDiv("iframeContainer",a.a,n),e("body").addClass("no-overflow"),e("html,body").animate({scrollTop:0},"slow")}},{key:"render",value:function(){return!1}}]),n}(),w=function(e){function t(){return f(this,t),h(this,y(t).apply(this,arguments))}return b(t,r.a.Component),m(t,[{key:"render",value:function(){return r.a.createElement(i.a,null,r.a.createElement(v,{navElement:this.props.navElement}))}}]),t}();w.defaultProps={navElement:".attach-iframe-container"}}).call(this,n(6))},177:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var o=n(16),r=(n(28),{validateThirdParty:function(e,t,n){Object(o.a)({url:"/v1/emails/validate/?email=".concat(e),type:"GET",timeout:3e3,success:function(o){o.format_valid&&o.mx_found&&o.smtp_check&&!o.disposable?t(e):o.error?t(e):n(o.did_you_mean)},error:function(n){t(e)}})},validate:function(e,t,n){this.validateThirdParty(e,t,n)}})},178:function(e,t,n){"use strict";n.d(t,"a",function(){return f});var o=n(0),r=n.n(o),a=n(1),i=n.n(a);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function l(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var f=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),l(this,u(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(t,o["Component"]),function(e,t,n){t&&c(e.prototype,t),n&&c(e,n)}(t,[{key:"render",value:function(){return this.props.errorMessage&&!this.props.fieldErrors[this.props.hideErrorMessageForKey]?r.a.createElement("p",{className:"form--floating-label__error-message mt-2 mb-0 py-0"},this.props.errorMessage):null}}]),t}();f.defaultProps={fieldErrors:{},hideErrorMessageForKey:null,errorMessage:""},f.propTypes={errorMessage:i.a.oneOfType([i.a.string,i.a.array]),hideErrorMessageForKey:i.a.string,fieldErrors:i.a.object}},179:function(e,t,n){"use strict";n.d(t,"a",function(){return y});var o=n(0),r=n.n(o),a=n(6),i=n.n(a),s=n(168),c=n(2),l=n(169);function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var y=function(e){function t(){var e,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];return h(m(m(n=function(e,t){return!t||"object"!==u(t)&&"function"!=typeof t?m(e):t}(this,(e=f(t)).call.apply(e,[this].concat(r))))),"state",{referredUsers:[]}),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(t,r.a.Component),function(e,t,n){t&&p(e.prototype,t),n&&p(e,n)}(t,[{key:"componentDidMount",value:function(){var e=this;Promise.resolve(i.a.get("/api/users/referred_users")).then(function(t){e.setState({referredUsers:t})})}},{key:"formatReferredUserName",value:function(e){var t="Anonymous";return""!==e.first_name&&""!==e.last_name?t="".concat(e.first_name," ").concat(e.last_name[0],"."):""!==e.first_name&&(t=e.first_name),t}},{key:"formatReferredUsers",value:function(e){var t=this;return e.map(function(e,n){e.name=t.formatReferredUserName(e),e.timeSince=Object(l.a)(e.referral_date);var o="US";return e.country&&e.country.code&&(o=e.country.code),e.countryCode=o,e})}},{key:"render",value:function(){return this.state.referredUsers&&0!==this.state.referredUsers.length?r.a.createElement("div",null,r.a.createElement("h4",null,Object(c.c)("Recent recruits")),r.a.createElement(s.a,{activities:this.formatReferredUsers(this.state.referredUsers)})):r.a.createElement("div",{className:"refer-friends__right__recent-recruits"},r.a.createElement("h4",null,Object(c.c)("Recent recruits")),r.a.createElement("div",{className:"refer-friends__right__recent-recruits__recruits-list"},r.a.createElement("p",{className:"refer-friends__right__recent-recruits__no-recruits"},Object(c.c)("Hey, we‘ve noticed your friends haven’t signed up yet."))))}}]),t}();h(y,"defaultProps",{})},18:function(e,t,n){"use strict";var o=n(15),r=n(6),a=n.n(r),i=n(16);function s(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var c=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return function(e,t,n){t&&s(e.prototype,t),n&&s(e,n)}(e,null,[{key:"getCategories",value:function(e){Object(i.a)({url:"/v1/rewards/categories/",type:"GET",success:e.success,error:e.error})}},{key:"getRewards",value:function(e,t,n){var o="/v1/rewards/?id=".concat(e);t&&(o="".concat(o,"&show_all=").concat(t)),Object(i.a)({url:o,type:"GET",success:n.success,error:n.error})}},{key:"getReward",value:function(e,t,n){var o="/v1/rewards/".concat(e,"/");t&&(o="".concat(o,"?show_all=").concat(t)),Object(i.a)({url:o,type:"GET",success:n.success,error:n.error})}},{key:"getRecommendedRewards",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n="/v1/me/recommendations/rewards/";if(Array.isArray(e)&&e.length>0){var o=a.a.param(e);n="".concat(n,"?").concat(o)}Object(i.a)({url:n,type:"GET",success:t.success,error:t.error})}},{key:"enterReward",value:function(e,t,n){t.reward_entry_url=window.location.href,Object(i.a)({url:"/v1/rewards/".concat(e,"/enter/"),type:"POST",data:JSON.stringify(t),contentType:"application/json; charset=utf-8",success:n.success,error:n.error})}}]),e}(),l=n(9),u=n(42);function p(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var f=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.generateActions("error")}return function(e,t,n){t&&p(e.prototype,t),n&&p(e,n)}(e,[{key:"loadRewards",value:function(e,t){return function(n){c.getRewards(e,t,{success:function(e){n(e)}})}}},{key:"loadCategories",value:function(){return function(e){c.getCategories({success:function(t){e(t)}})}}},{key:"loadReward",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return function(o){c.getReward(e,t,{success:function(e){o(e)},error:function(){n.error&&n.error()}})}}},{key:"loadRecommendedRewards",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(n){c.getRecommendedRewards(e,{success:function(e){n(e.results),t.success&&t.success(e.results)}})}}},{key:"loadRewardsByLocation",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t){c.getRecommendedRewards({storeFiltersInUrl:!0,results:null,resultsPerPage:9,totalResultCount:null,totalPages:null,page:1,query:"",category:null,ids:[],month:null,closingSoon:!1,excludeHidden:!0,nearMe:!0,location:null},{success:function(n){t(n.results),e.success&&e.success(n.results)}})}}},{key:"loadEnteredRewards",value:function(){return function(e){u.a.getEnteredRewards({success:function(t){e(t)},error:function(){e([])}})}}},{key:"loadCompletedActions",value:function(){return function(e){u.a.getCompletedActions({success:function(t){e(t)},error:function(t){e([])}})}}},{key:"loadCompletedActionSets",value:function(){return function(e){u.a.getCompletedActionSets({success:function(t){e(t)},error:function(t){e([])}})}}},{key:"enterReward",value:function(e,t){var n=this;return function(o){c.enterReward(e,t,{success:function(t,n,r){if(304===r.status)return!0;l.a.loadUserPoints(),o(e)},error:function(e,t,o){n.error(e.responseJSON.detail)}})}}},{key:"showCaptcha",value:function(e){return function(t){t(e)}}}]),e}();t.a=o.a.createActions(f)},180:function(e,t,n){"use strict";n.d(t,"a",function(){return a});n(6);var o=n(16);function r(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return function(e,t,n){t&&r(e.prototype,t),n&&r(e,n)}(e,null,[{key:"search",value:function(e,t){Object(o.a)({url:"/v1/search/",type:"GET",data:e,success:t.success,error:t.error})}}]),e}()},181:function(e,t,n){"use strict";n.d(t,"a",function(){return y});n(17);var o=n(0),r=n.n(o),a=n(25),i=n.n(a),s=n(2),c=n(126),l=n(182);function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}function f(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function d(e,t){return!t||"object"!==u(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var y=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),d(this,m(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(t,r.a.Component),function(e,t,n){t&&f(e.prototype,t),n&&f(e,n)}(t,[{key:"getDate",value:function(){if(this.props.reward.date)return i.a.utc(this.props.reward.date).format("D")}},{key:"getMonth",value:function(){if(this.props.reward.date)return i.a.utc(this.props.reward.date).format("MMM").toUpperCase()}},{key:"getActionOrPointsMessage",value:function(){return this.props.reward.actions&&this.props.reward.actions.length>0||this.props.reward.action_sets&&this.props.reward.action_sets.length>0?Object(s.c)("Take action to enter"):this.props.reward.point_cost?this.getPointsMessage():void 0}},{key:"getPointsMessage",value:function(){var e={points:this.props.reward.point_cost};return 1===this.props.reward.point_cost?Object(s.c)("{{ points }} point to enter",e):this.props.reward.point_cost>1?Object(s.c)("{{ points }} points to enter",e):void 0}},{key:"renderEndingSoon",value:function(){return!!(this.props.reward.days_left&&this.props.reward.days_left<4||0===this.props.reward.days_left)&&r.a.createElement("div",{className:"tile-with-image__image__ending-soon",ref:"endingSoon"},r.a.createElement("div",{className:"ribbon-wrapper"},r.a.createElement("div",{className:"ribbon"},Object(s.c)("Closing soon"))))}},{key:"getThumbnailImage",value:function(){return this.props.reward.thumbnails&&this.props.reward.thumbnails.medium&&this.props.reward.thumbnails.medium.landscape_16_9?this.props.reward.thumbnails.medium.landscape_16_9:"/static/img/festival-banner.png"}},{key:"getRewardImage",value:function(){return this.props.reward.reward_image?this.props.reward.reward_image:"/static/img/festival-banner.png"}},{key:"getTileImage",value:function(){return this.props.featured?this.getRewardImage():this.getThumbnailImage()}},{key:"getThumbnailLink",value:function(){return this.props.linkRewardThumbnail&&!this.props.openEnterRewardModal?this.props.reward.url:null}},{key:"renderDateOverlay",value:function(){if(!this.props.featured)return r.a.createElement("span",{className:"tile-with-image__image__date",ref:"dateOverlay"},r.a.createElement("span",{className:"tile-with-image__image__date__day"},this.getDate()),r.a.createElement("span",{className:"tile-with-image__image__date__month"},this.getMonth()))}},{key:"render",value:function(){if(this.props.reward){var e={backgroundImage:"url("+this.getTileImage()+")"};return r.a.createElement("div",{className:c.a.getTileClasses(this.props)},r.a.createElement("div",{className:"tile-with-image__inner"},r.a.createElement("div",{className:"tile-with-image__partner-points tile-with-image__partner-points--rewards"},r.a.createElement("span",{ref:"pointsMessage",className:"tile-with-image__partner-points__points headline__topic--red"},this.getActionOrPointsMessage())),r.a.createElement("div",{className:"tile-with-image__border"},r.a.createElement("div",{className:"tile-with-image__image-wrapper__overflow"},r.a.createElement("a",{className:"tile-with-image__image-wrapper ".concat(this.props.zoom&&"zoom"),ref:"imageLink",href:this.getThumbnailLink(),style:e,title:this.props.reward.name}),this.renderDateOverlay(),this.renderEndingSoon()),r.a.createElement(l.a,p({},this.props,{reward:this.props.reward,rewardError:this.props.rewardError,actionList:[],key:this.props.reward.id,showExtraPointsText:this.props.showExtraPointsText,showFullAbout:this.props.showFullAbout,openEnterRewardModal:this.props.openEnterRewardModal})))))}return null}}]),t}();y.defaultProps={showExtraPointsText:!1,openEnterRewardModal:!0,linkRewardThumbnail:!1,featured:!1,showFullAbout:!0,numberOfTiles:3,zoom:!0}},182:function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return m});n(17);var o=n(0),r=n.n(o),a=(n(7),n(2)),i=n(131),s=n(307),c=n(129);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function p(e,t){return!t||"object"!==l(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var m=function(t){function n(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(t=p(this,f(n).call(this,e))).state={showInfo:!1},t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(n,r.a.Component),function(e,t,n){t&&u(e.prototype,t),n&&u(e,n)}(n,[{key:"convertToLocaleStringIfSupported",value:function(e){try{return e.toLocaleString()}catch(t){return e}}},{key:"getRewardPointsText",value:function(){var e={points:this.convertToLocaleStringIfSupported(this.props.reward.point_cost),available_tickets:this.convertToLocaleStringIfSupported(this.props.reward.total_available),br:"<br/>",interpolation:{escape:!1}};return this.props.reward.point_cost>1?this.props.reward.total_available>1?{__html:Object(a.c)("{{ points }} points to enter drawing {{ br }} {{ available_tickets }} pairs of tickets available",e)}:{__html:Object(a.c)("{{ points }} points to enter drawing {{ br }} {{ available_tickets }} pair of tickets available",e)}:this.props.reward.total_available>1?{__html:Object(a.c)("{{ points }} point to enter drawing {{ br }} {{ available_tickets }} pairs of tickets available",e)}:{__html:Object(a.c)("{{ points }} point to enter drawing {{ br }} {{ available_tickets }} pair of tickets available",e)}}},{key:"renderRewardPointsText",value:function(){if(this.props.showExtraPointsText)return r.a.createElement("div",{ref:"extraPointsText",className:"reward-info__text__extra-points",dangerouslySetInnerHTML:this.getRewardPointsText()})}},{key:"expandToggle",value:function(){this.setState({showInfo:!this.state.showInfo}),e(this.refs.about).toggleClass("slidedown").toggleClass("slideup")}},{key:"renderRewardInfo",value:function(){var e,t,n=this.props.reward;return n.about&&(this.props.showFullAbout||n.about.length<250)?r.a.createElement("h5",{className:"reward-info__text reward-info__text__info"},r.a.createElement("span",{className:"reward-info__text__icon"},r.a.createElement("i",{className:"fas fa-info-circle"})),r.a.createElement("span",{ref:"about",className:"reward-info__text__description pre-line"},n.about)):n.about?(this.state.showInfo?e=n.about:(e="".concat(n.about.slice(0,250),"... "),t=r.a.createElement("span",{ref:"showAll",className:"show-all"},Object(a.c)("See all info."))),r.a.createElement("h5",{className:"reward-info__text reward-info__text__info",onClick:this.expandToggle.bind(this)},r.a.createElement("span",{className:"reward-info__text__icon"},r.a.createElement("i",{className:"fas fa-info-circle"})),r.a.createElement("span",{ref:"about",className:"reward-info__text__description pre-line slideup"},e,t))):void 0}},{key:"renderProgressBar",value:function(){return 0!==this.props.actionList.length&&r.a.createElement(c.a,{actionList:this.props.actionList,completed:this.props.currentActionIndex,total:this.props.actionList.length,points:this.props.totalPoints})}},{key:"renderRewardCountdown",value:function(){return this.props.rewardCountdown?r.a.createElement("span",{className:"enter-reward-with-info__reward-countdown"},this.props.rewardCountdown):null}},{key:"render",value:function(){return!!this.props.reward&&r.a.createElement("div",{className:"enter-reward-with-info"},this.renderProgressBar(),r.a.createElement("div",{className:"enter-reward-with-info__content-wrapper"},r.a.createElement("div",{className:"enter-reward-with-info__content-wrapper-inner"},this.renderRewardCountdown(),r.a.createElement(s.a,{reward:this.props.reward}),this.renderRewardInfo(),this.renderRewardPointsText()),r.a.createElement(i.a,{actionList:this.props.actionList,actionIds:this.props.actionIds,actionSetIds:this.props.actionSetIds,completedActions:this.props.completedActions,completedActionSets:this.props.completedActionSets,entered:this.props.entered,enteredRewards:this.props.enteredRewards,enterWithSignUp:this.props.enterWithSignUp,reward:this.props.reward,user:this.props.user,userPointsByCategory:this.props.userPointsByCategory,rewardError:this.props.rewardError,openEnterRewardModal:this.props.openEnterRewardModal})))}}]),n}();m.defaultProps={showFullAbout:!0,rewardCountdown:!1}}).call(this,n(6))},183:function(e,t,n){"use strict";n.d(t,"b",function(){return o}),n.d(t,"a",function(){return r});var o=[{countryCode:"US",name:"United States"},{countryCode:"GB",name:"United Kingdom"},{countryCode:"DE",name:"Germany"},{countryCode:"CA",name:"Canada"},{countryCode:"AU",name:"Australia"},{countryCode:"AF",name:"Afghanistan"},{countryCode:"AX",name:"Åland Islands"},{countryCode:"AL",name:"Albania"},{countryCode:"DZ",name:"Algeria"},{countryCode:"AS",name:"American Samoa"},{countryCode:"AD",name:"Andorra"},{countryCode:"AO",name:"Angola"},{countryCode:"AI",name:"Anguilla"},{countryCode:"AQ",name:"Antarctica"},{countryCode:"AG",name:"Antigua and Barbuda"},{countryCode:"AR",name:"Argentina"},{countryCode:"AM",name:"Armenia"},{countryCode:"AW",name:"Aruba"},{countryCode:"AT",name:"Austria"},{countryCode:"AZ",name:"Azerbaijan"},{countryCode:"BS",name:"Bahamas"},{countryCode:"BH",name:"Bahrain"},{countryCode:"BD",name:"Bangladesh"},{countryCode:"BB",name:"Barbados"},{countryCode:"BY",name:"Belarus"},{countryCode:"BE",name:"Belgium"},{countryCode:"BZ",name:"Belize"},{countryCode:"BJ",name:"Benin"},{countryCode:"BM",name:"Bermuda"},{countryCode:"BT",name:"Bhutan"},{countryCode:"BO",name:"Bolivia"},{countryCode:"BQ",name:"Bonaire, Sint Eustatius and Saba"},{countryCode:"BA",name:"Bosnia and Herzegovina"},{countryCode:"BW",name:"Botswana"},{countryCode:"BV",name:"Bouvet Island"},{countryCode:"BR",name:"Brazil"},{countryCode:"IO",name:"British Indian Ocean Territory"},{countryCode:"BN",name:"Brunei"},{countryCode:"BG",name:"Bulgaria"},{countryCode:"BF",name:"Burkina Faso"},{countryCode:"BI",name:"Burundi"},{countryCode:"CV",name:"Cabo Verde"},{countryCode:"KH",name:"Cambodia"},{countryCode:"CM",name:"Cameroon"},{countryCode:"KY",name:"Cayman Islands"},{countryCode:"CF",name:"Central African Republic"},{countryCode:"TD",name:"Chad"},{countryCode:"CL",name:"Chile"},{countryCode:"CN",name:"China"},{countryCode:"CX",name:"Christmas Island"},{countryCode:"CC",name:"Cocos (Keeling) Islands"},{countryCode:"CO",name:"Colombia"},{countryCode:"KM",name:"Comoros"},{countryCode:"CG",name:"Congo"},{countryCode:"CD",name:"Congo (the Democratic Republic of the)"},{countryCode:"CK",name:"Cook Islands"},{countryCode:"CR",name:"Costa Rica"},{countryCode:"CI",name:"Côte d'Ivoire"},{countryCode:"HR",name:"Croatia"},{countryCode:"CU",name:"Cuba"},{countryCode:"CW",name:"Curaçao"},{countryCode:"CY",name:"Cyprus"},{countryCode:"CZ",name:"Czech Republic"},{countryCode:"DK",name:"Denmark"},{countryCode:"DJ",name:"Djibouti"},{countryCode:"DM",name:"Dominica"},{countryCode:"DO",name:"Dominican Republic"},{countryCode:"EC",name:"Ecuador"},{countryCode:"EG",name:"Egypt"},{countryCode:"SV",name:"El Salvador"},{countryCode:"GQ",name:"Equatorial Guinea"},{countryCode:"ER",name:"Eritrea"},{countryCode:"EE",name:"Estonia"},{countryCode:"ET",name:"Ethiopia"},{countryCode:"FK",name:"Falkland Islands  [Malvinas]"},{countryCode:"FO",name:"Faroe Islands"},{countryCode:"FJ",name:"Fiji"},{countryCode:"FI",name:"Finland"},{countryCode:"FR",name:"France"},{countryCode:"GF",name:"French Guiana"},{countryCode:"PF",name:"French Polynesia"},{countryCode:"TF",name:"French Southern Territories"},{countryCode:"GA",name:"Gabon"},{countryCode:"GM",name:"Gambia (The)"},{countryCode:"GE",name:"Georgia"},{countryCode:"GH",name:"Ghana"},{countryCode:"GI",name:"Gibraltar"},{countryCode:"GR",name:"Greece"},{countryCode:"GL",name:"Greenland"},{countryCode:"GD",name:"Grenada"},{countryCode:"GP",name:"Guadeloupe"},{countryCode:"GU",name:"Guam"},{countryCode:"GT",name:"Guatemala"},{countryCode:"GG",name:"Guernsey"},{countryCode:"GN",name:"Guinea"},{countryCode:"GW",name:"Guinea-Bissau"},{countryCode:"GY",name:"Guyana"},{countryCode:"HT",name:"Haiti"},{countryCode:"HM",name:"Heard Island and McDonald Islands"},{countryCode:"VA",name:"Holy See  [Vatican City State]"},{countryCode:"HN",name:"Honduras"},{countryCode:"HK",name:"Hong Kong"},{countryCode:"HU",name:"Hungary"},{countryCode:"IS",name:"Iceland"},{countryCode:"IN",name:"India"},{countryCode:"ID",name:"Indonesia"},{countryCode:"IR",name:"Iran"},{countryCode:"IQ",name:"Iraq"},{countryCode:"IE",name:"Ireland"},{countryCode:"IM",name:"Isle of Man"},{countryCode:"IL",name:"Israel"},{countryCode:"IT",name:"Italy"},{countryCode:"JM",name:"Jamaica"},{countryCode:"JP",name:"Japan"},{countryCode:"JE",name:"Jersey"},{countryCode:"JO",name:"Jordan"},{countryCode:"KZ",name:"Kazakhstan"},{countryCode:"KE",name:"Kenya"},{countryCode:"KI",name:"Kiribati"},{countryCode:"KW",name:"Kuwait"},{countryCode:"KG",name:"Kyrgyzstan"},{countryCode:"LA",name:"Laos"},{countryCode:"LV",name:"Latvia"},{countryCode:"LB",name:"Lebanon"},{countryCode:"LS",name:"Lesotho"},{countryCode:"LR",name:"Liberia"},{countryCode:"LY",name:"Libya"},{countryCode:"LI",name:"Liechtenstein"},{countryCode:"LT",name:"Lithuania"},{countryCode:"LU",name:"Luxembourg"},{countryCode:"MO",name:"Macao"},{countryCode:"MK",name:"Macedonia"},{countryCode:"MG",name:"Madagascar"},{countryCode:"MW",name:"Malawi"},{countryCode:"MY",name:"Malaysia"},{countryCode:"MV",name:"Maldives"},{countryCode:"ML",name:"Mali"},{countryCode:"MT",name:"Malta"},{countryCode:"MH",name:"Marshall Islands"},{countryCode:"MQ",name:"Martinique"},{countryCode:"MR",name:"Mauritania"},{countryCode:"MU",name:"Mauritius"},{countryCode:"YT",name:"Mayotte"},{countryCode:"MX",name:"Mexico"},{countryCode:"FM",name:"Micronesia (the Federated States of)"},{countryCode:"MD",name:"Moldovia"},{countryCode:"MC",name:"Monaco"},{countryCode:"MN",name:"Mongolia"},{countryCode:"ME",name:"Montenegro"},{countryCode:"MS",name:"Montserrat"},{countryCode:"MA",name:"Morocco"},{countryCode:"MZ",name:"Mozambique"},{countryCode:"MM",name:"Myanmar"},{countryCode:"NA",name:"Namibia"},{countryCode:"NR",name:"Nauru"},{countryCode:"NP",name:"Nepal"},{countryCode:"NL",name:"Netherlands"},{countryCode:"NC",name:"New Caledonia"},{countryCode:"NZ",name:"New Zealand"},{countryCode:"NI",name:"Nicaragua"},{countryCode:"NE",name:"Niger"},{countryCode:"NG",name:"Nigeria"},{countryCode:"NU",name:"Niue"},{countryCode:"NF",name:"Norfolk Island"},{countryCode:"KP",name:"North Korea"},{countryCode:"MP",name:"Northern Mariana Islands"},{countryCode:"NO",name:"Norway"},{countryCode:"OM",name:"Oman"},{countryCode:"PK",name:"Pakistan"},{countryCode:"PW",name:"Palau"},{countryCode:"PS",name:"Palestine, State of"},{countryCode:"PA",name:"Panama"},{countryCode:"PG",name:"Papua New Guinea"},{countryCode:"PY",name:"Paraguay"},{countryCode:"PE",name:"Peru"},{countryCode:"PH",name:"Philippines"},{countryCode:"PN",name:"Pitcairn"},{countryCode:"PL",name:"Poland"},{countryCode:"PT",name:"Portugal"},{countryCode:"PR",name:"Puerto Rico"},{countryCode:"QA",name:"Qatar"},{countryCode:"RE",name:"Réunion"},{countryCode:"RO",name:"Romania"},{countryCode:"RU",name:"Russia"},{countryCode:"RW",name:"Rwanda"},{countryCode:"BL",name:"Saint Barthélemy"},{countryCode:"SH",name:"Saint Helena, Ascension and Tristan da Cunha"},{countryCode:"KN",name:"Saint Kitts and Nevis"},{countryCode:"LC",name:"Saint Lucia"},{countryCode:"MF",name:"Saint Martin (French part)"},{countryCode:"PM",name:"Saint Pierre and Miquelon"},{countryCode:"VC",name:"Saint Vincent and the Grenadines"},{countryCode:"WS",name:"Samoa"},{countryCode:"SM",name:"San Marino"},{countryCode:"ST",name:"Sao Tome and Principe"},{countryCode:"SA",name:"Saudi Arabia"},{countryCode:"SN",name:"Senegal"},{countryCode:"RS",name:"Serbia"},{countryCode:"SC",name:"Seychelles"},{countryCode:"SL",name:"Sierra Leone"},{countryCode:"SG",name:"Singapore"},{countryCode:"SX",name:"Sint Maarten (Dutch part)"},{countryCode:"SK",name:"Slovakia"},{countryCode:"SI",name:"Slovenia"},{countryCode:"SB",name:"Solomon Islands"},{countryCode:"SO",name:"Somalia"},{countryCode:"ZA",name:"South Africa"},{countryCode:"GS",name:"South Georgia and the South Sandwich Islands"},{countryCode:"KR",name:"South Korea"},{countryCode:"SS",name:"South Sudan"},{countryCode:"ES",name:"Spain"},{countryCode:"LK",name:"Sri Lanka"},{countryCode:"SD",name:"Sudan"},{countryCode:"SR",name:"Suriname"},{countryCode:"SJ",name:"Svalbard and Jan Mayen"},{countryCode:"SZ",name:"Swaziland"},{countryCode:"SE",name:"Sweden"},{countryCode:"CH",name:"Switzerland"},{countryCode:"SY",name:"Syria"},{countryCode:"TW",name:"Taiwan"},{countryCode:"TJ",name:"Tajikistan"},{countryCode:"TZ",name:"Tanzania"},{countryCode:"TH",name:"Thailand"},{countryCode:"TL",name:"Timor-Leste"},{countryCode:"TG",name:"Togo"},{countryCode:"TK",name:"Tokelau"},{countryCode:"TO",name:"Tonga"},{countryCode:"TT",name:"Trinidad and Tobago"},{countryCode:"TN",name:"Tunisia"},{countryCode:"TR",name:"Turkey"},{countryCode:"TM",name:"Turkmenistan"},{countryCode:"TC",name:"Turks and Caicos Islands"},{countryCode:"TV",name:"Tuvalu"},{countryCode:"UG",name:"Uganda"},{countryCode:"UA",name:"Ukraine"},{countryCode:"AE",name:"United Arab Emirates"},{countryCode:"UM",name:"United States Minor Outlying Islands"},{countryCode:"UY",name:"Uruguay"},{countryCode:"UZ",name:"Uzbekistan"},{countryCode:"VU",name:"Vanuatu"},{countryCode:"VE",name:"Venezuela"},{countryCode:"VN",name:"Vietnam"},{countryCode:"VG",name:"Virgin Islands (British)"},{countryCode:"VI",name:"Virgin Islands (U.S.)"},{countryCode:"WF",name:"Wallis and Futuna"},{countryCode:"EH",name:"Western Sahara"},{countryCode:"YE",name:"Yemen"},{countryCode:"ZM",name:"Zambia"},{countryCode:"ZW",name:"Zimbabwe"}],r=["TH","ID","VN","MY","SG","KH","LA","BN","PH","MM"]},184:function(e,t,n){"use strict";n.d(t,"a",function(){return d});var o=n(0),r=n.n(o),a=n(25),i=n.n(a),s=n(2);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function u(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var d=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),u(this,p(t).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(t,r.a.Component),function(e,t,n){t&&l(e.prototype,t),n&&l(e,n)}(t,[{key:"getDate",value:function(){if(this.props.reward.date)return i.a.utc(this.props.reward.date).format("D")}},{key:"getWeekDay",value:function(){if(this.props.reward.date)return i.a.utc(this.props.reward.date).format("dddd").toUpperCase()}},{key:"getMonth",value:function(){if(this.props.reward.date)return i.a.utc(this.props.reward.date).format("MMM").toUpperCase()}},{key:"getLocation",value:function(){if(this.props.reward.location)return this.props.reward.location.name?Object(s.c)("{{ city }}, {{ state }} | {{ venue }}",{venue:this.props.reward.location.name,city:this.props.reward.location.city,state:this.props.reward.location.state,interpolation:{escape:!1}}):this.props.reward.location.city}},{key:"getTerms",value:function(){return this.props.reward.terms_conditions_url?r.a.createElement("div",{dangerouslySetInnerHTML:{__html:Object(s.c)("{{termsLinkOpen}}Terms and Conditions{{linkClose}}",{termsLinkOpen:"<a href='${ this.props.reward.terms_conditions_url }'>",linkClose:"</a>",interpolation:{escape:!1}})}}):""}},{key:"getRef",value:function(){return"reward"+this.props.reward.id}},{key:"getRewardImage",value:function(){return this.props.reward.thumbnail_image?this.props.reward.thumbnail_image:"/static/img/festival-banner.png"}},{key:"getDrawingText",value:function(){return 1===this.props.reward.days_left?Object(s.c)("Day Until Drawing Closes"):Object(s.c)("Days Until Drawing Closes")}},{key:"renderDrawing",value:function(){if(this.props.reward.days_left)return r.a.createElement("div",{className:"counter counter-active"},r.a.createElement("span",{className:"counter-number"},this.props.reward.days_left),this.getDrawingText())}},{key:"getPerWinnerText",value:function(){return 1==this.props.reward.tickets_per_winner?Object(s.c)("Ticket Per Winner"):Object(s.c)("Tickets Per Winner")}},{key:"getCounterNumber",value:function(e){return e>999?Math.round(e/1e3)+"K":e}},{key:"renderPerWinner",value:function(){if(this.props.reward.tickets_per_winner)return r.a.createElement("div",{className:"counter"},r.a.createElement("span",{className:"counter-number"},this.props.reward.tickets_per_winner),this.getPerWinnerText())}},{key:"getWinnerText",value:function(){return 1===this.props.reward.total_available?Object(s.c)("Winner"):Object(s.c)("Winners")}},{key:"renderWinner",value:function(){if(this.props.reward.total_available)return r.a.createElement("div",{className:"counter"},r.a.createElement("span",{className:"counter-number"},this.getCounterNumber(this.props.reward.total_available)),this.getWinnerText())}},{key:"renderWeekdayOrMonth",value:function(){return this.props.showMonth?this.getMonth():this.getWeekDay()}},{key:"getStrongPoints",value:function(){var e={strong:"<strong>",closeStrong:"</strong>",points:this.props.reward.point_cost,interpolation:{escape:!1}};return 1===this.props.reward.point_cost?{__html:Object(s.c)("{{ strong  }} {{points }} Point {{ closeStrong }} to redeem",e)}:{__html:Object(s.c)("{{ strong  }} {{points }} Points {{ closeStrong }} to redeem",e)}}},{key:"renderPointCost",value:function(){return r.a.createElement("div",{dangerouslySetInnerHTML:this.getStrongPoints()})}},{key:"renderButton",value:function(){return this.props.children?this.props.children:r.a.createElement("div",null,r.a.createElement("a",{ref:"reward".concat(this.props.reward.id,"ButtonLink"),href:this.props.reward.url,className:"btn"},Object(s.c)("Enter to win")),this.renderPointCost())}},{key:"renderStats",value:function(){return!this.props.hideStats&&r.a.createElement("div",{ref:"stats",className:"event-row-stats"},this.renderDrawing(),this.renderPerWinner(),this.renderWinner())}},{key:"render",value:function(){return r.a.createElement("li",{className:"event-row"},r.a.createElement("div",{className:"event-row__inner"},r.a.createElement("div",{className:"event-row__top-section"},r.a.createElement("div",{className:"date event-row-date"},r.a.createElement("div",{className:"event-row-date-inner"},r.a.createElement("strong",null,this.getDate()),r.a.createElement("small",null,this.renderWeekdayOrMonth()))),r.a.createElement("div",{className:"event-row-content"},r.a.createElement("p",null,r.a.createElement("a",{href:this.props.reward.url,target:"_blank"},this.props.reward.name)),r.a.createElement("span",null,this.getLocation()),r.a.createElement("p1",null,this.getTerms()))),r.a.createElement("div",{ref:"bottomSection",className:"event-row__bottom-section"},this.renderStats(),r.a.createElement("div",{className:"event-row-actions"},this.renderButton()))))}}]),t}()},185:function(e,t,n){"use strict";n.d(t,"a",function(){return b});var o=n(0),r=n.n(o),a=(n(40),n(6),n(186)),i=n(82);function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function p(e,t,n){return t&&u(e.prototype,t),n&&u(e,n),e}function f(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}window.shadowUser={email:null,first_name:null,last_name:null,country:null,postal_code:null,password1:null,password2:null};var y=function(e){function t(){return l(this,t),f(this,d(t).apply(this,arguments))}return m(t,r.a.Component),p(t,[{key:"render",value:function(){return r.a.createElement(i.a,{ref:"registerFlow",user:this.props.user,doneCallback:this.props.reloadPage,shadowUserClient:this.props.shadowUserClient,completedTarget:this.props.completedTarget,closeCallback:this.props.closeDialog})}}]),t}(),b=function(e){function t(){return l(this,t),f(this,d(t).apply(this,arguments))}return m(t,r.a.Component),p(t,[{key:"render",value:function(){return r.a.createElement(a.a,{id:"registerDialog"},r.a.createElement(y,s({ref:"registerFlowContainer"},this.props)))}}]),t}()},186:function(e,t,n){"use strict";n.d(t,"a",function(){return h});var o=n(0),r=n.n(o),a=n(40),i=n.n(a),s=n(6),c=n.n(s),l=n(78);function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var h=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(m(m(n=function(e,t){return!t||"object"!==u(t)&&"function"!=typeof t?m(e):t}(this,f(t).call(this,e)))),"escFunction",function(e){27===e.keyCode&&n.closeDialog()}),n.closeDialog=n.closeDialog.bind(m(m(n))),n.reloadPage=n.reloadPage.bind(m(m(n))),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(t,r.a.Component),function(e,t,n){t&&p(e.prototype,t),n&&p(e,n)}(t,[{key:"componentDidMount",value:function(){l.a.registerDialogs(),document.addEventListener("keydown",this.escFunction,!1)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.escFunction,!1)}},{key:"closeDialog",value:function(){c()("body").removeClass("fixed-position-body"),i.a.findDOMNode(this.refs.dialog).close()}},{key:"reloadPage",value:function(){location.reload()}},{key:"renderChildren",value:function(){var e=this,t=r.a.Children.map(this.props.children,function(t){var n=Object.assign({},e.props);return n.closeDialog=e.closeDialog,n.reloadPage=e.reloadPage,r.a.cloneElement(t,n)});return r.a.createElement("div",null,t)}},{key:"render",value:function(){return r.a.createElement("dialog",{id:this.props.id,ref:"dialog",tabIndex:"-1","aria-hidden":"true",className:"fullscreen-fixed-dialog"},r.a.createElement("div",{className:"shell"},r.a.createElement("div",{className:"standard_dialog"},r.a.createElement("div",{className:"dialog-header"},r.a.createElement("span",{className:"close-dialog",ref:"closeDialog","aria-label":"Close",onClick:this.closeDialog},"×")),r.a.createElement("div",{className:"valign-wrapper"},r.a.createElement("div",{className:"valign"},this.renderChildren())))))}}]),t}()},187:function(e,t,n){"use strict";n.d(t,"a",function(){return E});var o=n(1),r=n.n(o),a=n(0),i=n.n(a),s=n(7),c=n.n(s),l=n(4),u=n(101),p=n(2),f=n(10);function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(){return(m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}function h(e,t,n,o,r,a,i){try{var s=e[a](i),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(o,r)}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function g(e,t,n){return t&&b(e.prototype,t),n&&b(e,n),e}function v(e,t){return!t||"object"!==d(t)&&"function"!=typeof t?_(e):t}function w(e){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function k(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&O(e,t)}function O(e,t){return(O=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function C(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var S=l.a.small.withConfig({displayName:"follow-configuration__SkipIssues",componentId:"sc-169rqt8-0"})(["cursor:pointer;display:block;"]),E=function(e){function t(){var e,n;y(this,t);for(var o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];return C(_(_(n=v(this,(e=w(t)).call.apply(e,[this].concat(r))))),"state",{followables:[],following:[]}),C(_(_(n)),"updateFollowables",function(e){n.state._mounted&&n.setState({followables:e})}),C(_(_(n)),"updateFollowing",function(e){n.state._mounted&&n.setState({following:e})}),C(_(_(n)),"addFollow",function(e,t){if(n.state._mounted&&!c.a.find(n.state.following,function(t){return t.id===e.id})){var o=n.state.following.slice(0);o.push(e),n.setState({following:o})}}),C(_(_(n)),"removeFollow",function(e,t){if(n.state._mounted){var o=c.a.reject(n.state.following,function(t){return t.id===e.id});n.setState({following:o})}}),C(_(_(n)),"handleFollow",function(e){!0===e.following?n.followClient().follow(e.id,n.addFollow.bind(_(_(n)),e),n.followFail,e.name):n.followClient().unfollow(e.id,n.removeFollow.bind(_(_(n)),e),n.followFail)}),C(_(_(n)),"followClient",function(){return new u.a(n.props.model)}),C(_(_(n)),"followFail",function(){}),n}return k(t,i.a.Component),g(t,[{key:"componentDidMount",value:function(){var e=function(e){return function(){var t=this,n=arguments;return new Promise(function(o,r){var a=e.apply(t,n);function i(e){h(a,o,r,i,s,"next",e)}function s(e){h(a,o,r,i,s,"throw",e)}i(void 0)})}}(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.setState({_mounted:!0});case 2:this.followClient().getFollows(this.updateFollowing,this.fail),this.followClient().getFollowables(this.updateFollowables,this.fail);case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){this.setState({_mounted:!1})}},{key:"render",value:function(){return i.a.createElement("div",{className:"follow-configuration"},i.a.createElement("div",{className:"follow-configuration-header"},i.a.createElement("h1",{className:"follow-configuration-description headline__section",ref:"description"},Object(p.c)("What issues are you most passionate about?"))),i.a.createElement(P,{ref:"followList",followables:this.state.followables,following:this.state.following,followCallback:this.handleFollow}),i.a.createElement(x,{ref:"doneButton",doneCallback:this.props.doneCallback}))}}]),t}();C(E,"propTypes",{model:r.a.string.isRequired,doneCallback:r.a.func});var P=function(e){function t(){var e,n;y(this,t);for(var o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];return C(_(_(n=v(this,(e=w(t)).call.apply(e,[this].concat(r))))),"items",function(){return n.props.followables.map(function(e){var t=c.a.contains(c.a.pluck(n.props.following,"id"),e.id);return i.a.createElement(j,m({ref:"item".concat(e.id),key:e.id,followCallback:n.props.followCallback,following:t},e))})}),n}return k(t,i.a.Component),g(t,[{key:"render",value:function(){return i.a.createElement("div",{className:"follow-configuration-list-wrapper"},i.a.createElement("ul",{className:"follow-list clearfix"},this.items()))}}]),t}();C(P,"propTypes",{followables:r.a.array.isRequired,followCallback:r.a.func.isRequired,following:r.a.array.isRequired});var j=function(e){function t(){var e,n;y(this,t);for(var o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];return C(_(_(n=v(this,(e=w(t)).call.apply(e,[this].concat(r))))),"state",{hover:!1}),C(_(_(n)),"updateHoverState",function(e){n.setState({hover:e})}),n}return k(t,i.a.Component),g(t,[{key:"render",value:function(){return i.a.createElement("li",{className:"follow-item ".concat(this.props.helper.nodeClass(this.props.following)),onClick:this.props.helper.toggleFollow(this.props.followCallback,this.props.id,this.props.name,this.props.following),onMouseEnter:this.updateHoverState.bind(null,!0),onMouseLeave:this.updateHoverState.bind(null,!1)},i.a.createElement(N,m({ref:"content",hover:this.state.hover},this.props.helper.contentProps(this.props,this.state.hover))))}}]),t}();C(j,"propTypes",{following:r.a.bool.isRequired,id:r.a.number.isRequired,followCallback:r.a.func.isRequired}),C(j,"defaultProps",{helper:{nodeClass:function(e){return e?"follow-item-following":"follow-item-not-following"},toggleFollow:function(e,t,n,o){return e.bind(null,{id:t,name:n,following:!o})},contentProps:function(e,t){return{following:e.following,name:e.name,slug:e.slug,hover:t}}},followCallback:function(){}});var N=function(e){function t(){return y(this,t),v(this,w(t).apply(this,arguments))}return k(t,i.a.Component),g(t,[{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement("i",{className:"follow-item__icon icon-".concat(this.props.slug),ref:"followItemIcon"}),i.a.createElement(T,{ref:"description",following:this.props.following,hover:this.props.hover,name:this.props.name}))}}]),t}();C(N,"propTypes",{following:r.a.bool.isRequired,name:r.a.string.isRequired,slug:r.a.string.isRequired,hover:r.a.bool});var T=function(e){function t(){return y(this,t),v(this,w(t).apply(this,arguments))}return k(t,i.a.Component),g(t,[{key:"render",value:function(){return i.a.createElement("div",{className:"follow-item-text-wrap"},i.a.createElement("p",{className:"description"},this.props.name))}}]),t}();C(T,"propTypes",{following:r.a.bool.isRequired,name:r.a.string.isRequired,hover:r.a.bool});var x=function(e){function t(){var e,n;y(this,t);for(var o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];return C(_(_(n=v(this,(e=w(t)).call.apply(e,[this].concat(r))))),"done",function(e){n.props.doneCallback()}),n}return k(t,i.a.Component),g(t,[{key:"render",value:function(){var e=this;return i.a.createElement("div",{className:"follow-list-button-wrapper follow-configuration-list-wrapper bst"},i.a.createElement(f.a,{ref:"button",className:"follow-done-button register-flow-button btn w-100",handleClick:function(t){return e.done(t)},buttonText:Object(p.c)("Follow these issues")}),i.a.createElement(S,{className:"follow-done-button text-right mt-2",onClick:this.done},Object(p.c)("Skip for now >>")))}}]),t}();C(x,"propTypes",{doneCallback:r.a.func})},188:function(e,t,n){"use strict";n.d(t,"a",function(){return h});var o=n(0),r=n.n(o),a=n(183),i=n(2),s=n(30),c=n(37);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var h=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),m(d(d(n=function(e,t){return!t||"object"!==l(t)&&"function"!=typeof t?d(e):t}(this,p(t).call(this,e)))),"getValue",function(){return n.countrySelect.current.value}),m(d(d(n)),"getDefaultCountry",function(){return n.props.locationData&&n.props.locationData.countryCode?n.props.locationData.countryCode:"US"}),m(d(d(n)),"state",{fieldValues:{country:n.getDefaultCountry()}}),n.state={fieldValues:{country:n.props.locationData&&n.props.locationData.countryCode||"US"},fieldErrors:{}},n.countrySelect=r.a.createRef(),n.fieldChange=c.a.fieldChange.bind(d(d(n))),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(t,r.a.Component),function(e,t,n){t&&u(e.prototype,t),n&&u(e,n)}(t,[{key:"componentWillReceiveProps",value:function(e){this.props.locationData&&this.props.locationData.countryCode&&this.props.locationData.countryCode===e.locationData.countryCode||this.setState({fieldValues:{country:e.locationData.countryCode}})}},{key:"render",value:function(){var e=this;return r.a.createElement(s.a,{inputRef:this.countrySelect,fieldType:"select",fieldKey:"country",fieldChange:function(t){return e.fieldChange(t)},fieldLabel:Object(i.c)("Country"),fieldId:"country-select-field",value:this.state.fieldValues.country,containerClasses:this.props.containerClasses,labelClasses:this.props.labelClasses,smallFont:this.props.smallFont,errorMessage:this.props.errorMessage,hideErrorMessageForKey:this.props.hideErrorMessageForKey,required:this.props.required,hideRequiredLabel:this.props.hideRequiredLabel,disabled:this.props.disabled},this.props.countries.map(function(e){return r.a.createElement("option",{key:e.countryCode,value:e.countryCode},e.name)}))}}]),t}();m(h,"defaultProps",{countries:a.b})},189:function(e,t,n){"use strict";n.d(t,"a",function(){return d});var o=n(1),r=n.n(o),a=n(0),i=n.n(a),s=n(2);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var d=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=function(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?f(e):t}(this,u(t).call(this,e))).toggleEmailOptIn=n.toggleEmailOptIn.bind(f(f(n))),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(t,i.a.Component),function(e,t,n){t&&l(e.prototype,t),n&&l(e,n)}(t,[{key:"toggleEmailOptIn",value:function(){this.props.emailOptIn()}},{key:"emailOptInIntro",value:function(){if(this.props.emailOptInIntro)return i.a.createElement("span",null,i.a.createElement("span",null,i.a.createElement("strong",null,Object(s.c)("Sign up for emails (optional): "))))}},{key:"render",value:function(){return i.a.createElement("div",{className:"bst"},i.a.createElement("div",{ref:"terms",className:"sso-terms mb-2"},i.a.createElement("label",{className:"sso-terms__text d-flex align-items-start"},i.a.createElement("span",{className:"sso-terms__checkbox-wrapper"},i.a.createElement("input",{ref:"emailOptInInput",type:"checkbox",onChange:this.props.emailOptIn})),i.a.createElement("span",{className:"terms-message"},this.emailOptInIntro(),i.a.createElement("span",{dangerouslySetInnerHTML:{__html:Object(s.c)("Yes, please send me updates and opportunities from {{ gcLinkOpen }}Global Citizen{{ linkClose}} to be part of the movement to end extreme poverty.",{gcLinkOpen:'<a href="https://www.globalcitizen.org/" target="_blank">',linkClose:"</a>",interpolation:{escape:!1}})}})))))}}]),t}();d.propTypes={emailOptIn:r.a.func.isRequired,emailOptInIntro:r.a.bool},d.defaultProps={emailOptIn:!1,emailOptInIntro:!1}},19:function(e,t,n){"use strict";n(0);var o=n(15),r=n(9);function a(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.bindListeners({setUser:[r.a.clearUser,r.a.loadUser],setPoints:r.a.loadUserPoints,updateUser:r.a.updateUser,setCompletedActions:r.a.loadCompletedActions,setCompletedActionSets:r.a.loadCompletedActionSets}),this.state={user:null,completedActionsByActionId:{},completedActionSetsByActionSetId:{}}}return function(e,t,n){t&&a(e.prototype,t),n&&a(e,n)}(e,[{key:"setCompletedActions",value:function(e){var t={},n=!0,o=!1,r=void 0;try{for(var a,i=e[Symbol.iterator]();!(n=(a=i.next()).done);n=!0){var s=a.value;t[s.action]=s}}catch(e){o=!0,r=e}finally{try{n||null==i.return||i.return()}finally{if(o)throw r}}this.setState({completedActionsByActionId:t})}},{key:"setCompletedActionSets",value:function(e){var t={},n=!0,o=!1,r=void 0;try{for(var a,i=e[Symbol.iterator]();!(n=(a=i.next()).done);n=!0){var s=a.value;t[s.action_set]=s}}catch(e){o=!0,r=e}finally{try{n||null==i.return||i.return()}finally{if(o)throw r}}this.setState({completedActionSetsByActionSetId:t})}},{key:"setUser",value:function(e){this.setState({user:e})}},{key:"setPoints",value:function(e){this.setState({pointsByCategory:e})}},{key:"updateUser",value:function(e){if(!e.errors){if(void 0===e.authenticated&&this.state.user){var t=this.state.user;e.authenticated=t.authenticated}this.setState({user:e})}}}]),e}();t.a=o.a.createStore(i,"UserStore")},190:function(e,t,n){"use strict";n.d(t,"a",function(){return d});var o=n(1),r=n.n(o),a=n(0),i=n.n(a),s=n(2);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var d=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=function(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?f(e):t}(this,u(t).call(this,e))).toggleAcceptTerms=n.toggleAcceptTerms.bind(f(f(n))),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(t,i.a.Component),function(e,t,n){t&&l(e.prototype,t),n&&l(e,n)}(t,[{key:"toggleAcceptTerms",value:function(){this.props.acceptTerms()}},{key:"termsMessage",value:function(){return i.a.createElement("span",{ref:"termsMessage",dangerouslySetInnerHTML:{__html:Object(s.c)("I've read, understood and agree to Global Citizen’s {{ gcTermsLinkOpen }}Terms{{ linkClose }} and {{ gcPrivacyPolicyLinkOpen}}Privacy Policy{{ linkClose }}.",{gcTermsLinkOpen:"<a href='https://www.globalcitizen.org/about/terms/' target='_blank'>",gcPrivacyPolicyLinkOpen:"<a href='https://www.globalcitizen.org/about/privacy-policy/' target='_blank'>",linkClose:"</a>",interpolation:{escape:!1}})}})}},{key:"termsIntro",value:function(){if(this.props.termsIntro)return i.a.createElement("span",null,i.a.createElement("span",null,i.a.createElement("strong",null,Object(s.c)("Terms and Privacy Policy agreement (required): "))))}},{key:"render",value:function(){return i.a.createElement("div",{className:"bst"},i.a.createElement("div",{ref:"terms",className:this.props.className},i.a.createElement("label",{className:"sso-terms__text d-flex align-items-start"},i.a.createElement("span",null,i.a.createElement("input",{ref:"acceptTermsInput",type:"checkbox",onChange:this.props.acceptTerms})),i.a.createElement("span",{className:"terms-message"},this.termsIntro(),this.termsMessage()))))}}]),t}();d.propTypes={acceptTerms:r.a.func.isRequired,termsIntro:r.a.bool},d.defaultProps={acceptTerms:!1,termsIntro:!1,className:"sso-terms mb-2"}},191:function(e,t,n){"use strict";n.d(t,"a",function(){return f});var o=n(0),r=n.n(o),a=n(2),i=n(132);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function l(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var f=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),l(this,u(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(t,r.a.Component),function(e,t,n){t&&c(e.prototype,t),n&&c(e,n)}(t,[{key:"render",value:function(){return r.a.createElement("div",{ref:"failedFacebookSignupPage",className:"failed-facebook-signup-page"},null!==this.props.backCallback&&r.a.createElement("a",{ref:"closeError",className:"close-dialog hidden",onClick:this.props.backCallback},"×"),r.a.createElement("div",{className:"facebook-permissions-prompt"},r.a.createElement("p",{dangerouslySetInnerHTML:{__html:Object(a.c)("Thanks for signing up as a global citizen. In order to create your account we need you to provide your email address. You can check out our {{linkOpen}}Privacy Policy{{linkClose}} to see how we safeguard and use the information you provide us with.",{linkOpen:"<a href='/about/privacy-policy'>",linkClose:"</a>",interpolation:{escape:!1}})}}),r.a.createElement("p",null,Object(a.c)("If your Facebook account does not have an attached e-mail address, you'll need to add that before you can sign up."))),r.a.createElement(i.a,{ref:"facebookButton",buttonText:this.props.buttonText,successCallback:this.props.successCallback,requestOptions:this.rerequestOptions()}))}},{key:"rerequestOptions",value:function(){return{scope:"email",return_scopes:!0,auth_type:"rerequest"}}}]),t}();f.defaultProps={backCallback:null}},192:function(e,t,n){"use strict";n.d(t,"a",function(){return u});var o=n(0),r=n.n(o),a=n(40),i=n.n(a),s=(n(6),n(185)),c=n(82),l=n(52);function u(e,t){var n={completedTarget:e,shadowUserClient:new l.a};t&&(n.signupHeader=t);var o=i.a.render(r.a.createElement(c.a,n),document.getElementById("gppSignupModule"));return i.a.unmountComponentAtNode(document.getElementById("registerDialogContainer")),i.a.render(r.a.createElement(s.a,n),document.getElementById("registerDialogContainer")),o}},193:function(e,t,n){"use strict";var o=n(0),r=n.n(o),a=n(17),i=n.n(a),s=n(36),c=n(18),l=n(2);function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var h=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=function(e,t){return!t||"object"!==u(t)&&"function"!=typeof t?m(e):t}(this,f(t).call(this,e))).updateCategoryDropdown=n.updateCategoryDropdown.bind(m(m(n))),n.state={category:n.getCategoryFromUrl()},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(t,r.a.Component),function(e,t,n){t&&p(e.prototype,t),n&&p(e,n)}(t,[{key:"componentDidMount",value:function(){c.a.loadCategories()}},{key:"updateCategory",value:function(e){this.setState({category:e}),s.a.updateFilter({category:e})}},{key:"updateCategoryDropdown",value:function(e){this.updateCategory(e.target.value)}},{key:"getCategoryFromUrl",value:function(){return window.utils.getParameterByName("category")}},{key:"renderCategory",value:function(e,t,n,o,a){var i=this;if(e){var s="category-filter--inline__item";return a&&(s+=" active"),r.a.createElement("li",{ref:t,className:s,onClick:function(){i.updateCategory(n)}},o)}return a?r.a.createElement("option",{ref:t,key:t,value:n,selected:"selected"},o):r.a.createElement("option",{ref:t,key:t,value:n},o)}},{key:"renderCategories",value:function(e){var t=[],n=!this.state.category;if(t.push(this.renderCategory(e,"allEvents","",Object(l.c)("All Events"),n)),!this.props.categories)return t;for(var o=0;o<this.props.categories.length;o++){var r=this.props.categories[o];n=r===this.state.category,t.push(this.renderCategory(e,r,r,r,n))}return t}},{key:"renderDropdownFilter",value:function(){return r.a.createElement("select",{className:"rewards-search-select",ref:"categorySelect",onChange:this.updateCategoryDropdown},this.renderCategories(!1))}},{key:"renderInlineFilter",value:function(){return r.a.createElement("ul",{ref:"inlineCategoryFilter",className:"category-filter--inline row-flex-stack-lg row-flex-stack-lg--space-between"},this.renderCategories(!0))}},{key:"render",value:function(){return this.props.showInlineCategoryFilter?this.renderInlineFilter():this.renderDropdownFilter()}}]),t}();h.defaultProps={showInlineCategoryFilter:!1};var y=n(25),b=n.n(y);function g(e){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function v(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function w(e){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function k(e,t){return(k=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function O(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var _=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=function(e,t){return!t||"object"!==g(t)&&"function"!=typeof t?O(e):t}(this,w(t).call(this,e))).updateWhen=n.updateWhen.bind(O(O(n))),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&k(e,t)}(t,r.a.Component),function(e,t,n){t&&v(e.prototype,t),n&&v(e,n)}(t,[{key:"updateWhen",value:function(e){var t=e.target.value;"closingSoon"===t?s.a.updateFilter({closingSoon:!0,month:null}):s.a.updateFilter({closingSoon:!1,month:t})}},{key:"getMonthFromUrl",value:function(){return window.utils.getParameterByName("month")}},{key:"getClosingSoonFromUrl",value:function(){return window.utils.getParameterByName("closingSoon")}},{key:"renderMonths",value:function(){var e=b()(),t=[],n={year:"numeric",month:"long"},o=e.format("YYYY-MM");o===this.getMonthFromUrl()?t.push(r.a.createElement("option",{key:o,value:o,selected:!0},Object(l.d)(e,n))):t.push(r.a.createElement("option",{key:o,value:o},Object(l.d)(e,n)));for(var a=0;a<11;a++){var i=e.add(1,"month"),s=i.format("YYYY-MM");s===this.getMonthFromUrl()?t.push(r.a.createElement("option",{key:s,value:s,selected:!0},Object(l.d)(i,n))):t.push(r.a.createElement("option",{key:s,value:s},Object(l.d)(i,n)))}return t}},{key:"renderOptions",value:function(){var e=[];return e.push(r.a.createElement("option",{key:"upcoming",value:""},Object(l.c)("Upcoming"))),"true"===this.getClosingSoonFromUrl()?e.push(r.a.createElement("option",{key:"closingSoon",value:"closingSoon",selected:!0},Object(l.c)("Closing Soon"))):e.push(r.a.createElement("option",{key:"closingSoon",value:"closingSoon"},Object(l.c)("Closing Soon"))),e.push(r.a.createElement("option",{key:"byMonth",disabled:!0},Object(l.c)("By Month"))),e=e.concat(this.renderMonths())}},{key:"render",value:function(){return r.a.createElement("select",{className:"rewards-search-select",ref:"monthSelect",onChange:this.updateWhen},this.renderOptions())}}]),t}();function C(e){return(C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function S(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function E(e){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function P(e,t){return(P=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function j(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var N=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=function(e,t){return!t||"object"!==C(t)&&"function"!=typeof t?j(e):t}(this,E(t).call(this,e))).updateLocation=n.updateLocation.bind(j(j(n))),n.nearMeToggle=n.nearMeToggle.bind(j(j(n))),n.clearNearMe=n.clearNearMe.bind(j(j(n))),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&P(e,t)}(t,r.a.Component),function(e,t,n){t&&S(e.prototype,t),n&&S(e,n)}(t,[{key:"componentDidUpdate",value:function(){this.refs.locationSearchInput&&this.autoFillLocationInput()}},{key:"autoFillLocationInput",value:function(){this.props.nearMe?this.setLocationInputValue(Object(l.c)("Near me")):!this.getLocationInput().value&&this.props.location&&this.setLocationInputValue(this.props.location)}},{key:"getLocationInput",value:function(){return this.refs.locationSearchInput}},{key:"setLocationInputValue",value:function(e){this.getLocationInput().value=e}},{key:"updateLocation",value:function(e){e.preventDefault(),s.a.updateFilter({location:this.getLocationInput().value})}},{key:"getLocationFromUrl",value:function(){return"true"===window.utils.getParameterByName("nearMe")?Object(l.c)("Near me"):window.utils.getParameterByName("location")}},{key:"nearMeToggle",value:function(){this.props.nearMe?(this.setLocationInputValue(""),s.a.updateFilter({nearMe:!1})):(this.setLocationInputValue(Object(l.c)("Near me")),s.a.updateFilter({nearMe:!0}))}},{key:"clearNearMe",value:function(){this.props.nearMe&&(this.setLocationInputValue(""),s.a.updateFilter({nearMe:!1}))}},{key:"getNearMeIconClass",value:function(){return this.props.nearMe?"fa near-me-icon near-me-active":"fas fa-location-arrow near-me-icon"}},{key:"getTooltipClass",value:function(){return this.props.nearMe?"tooltip-item tooltip-off":"tooltip-item"}},{key:"render",value:function(){return r.a.createElement("form",{action:".",ref:"locationSearch",onSubmit:this.updateLocation},r.a.createElement("input",{type:"search",className:"search-input near-me",ref:"locationSearchInput",onBlur:this.updateLocation,onClick:this.clearNearMe,defaultValue:this.getLocationFromUrl(),placeholder:Object(l.c)("City/State")}),r.a.createElement("div",{className:this.getTooltipClass()},r.a.createElement("i",{ref:"nearMeIcon",className:this.getNearMeIconClass(),onClick:this.nearMeToggle}),r.a.createElement("div",{className:"tooltip"},r.a.createElement("span",null,Object(l.c)("Click for events near you")))))}}]),t}(),T=n(84),x=n(43);function I(e){return(I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function A(e){return(A=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function L(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function R(e,t,n){return t&&L(e.prototype,t),n&&L(e,n),e}function M(e,t){return(M=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function B(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var D=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=function(e,t){return!t||"object"!==I(t)&&"function"!=typeof t?B(e):t}(this,A(t).call(this,e))).updateQuery=n.updateQuery.bind(B(B(n))),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&M(e,t)}(t,r.a.Component),R(t,null,[{key:"getStores",value:function(){return[x.a,T.a]}},{key:"getPropsFromStores",value:function(){var e=x.a.getState(),t=T.a.getState();return Object.assign({},t,{categories:e.categories})}}]),R(t,[{key:"updateQuery",value:function(e){e.preventDefault();var t=this.refs.rewardsSearchInput.value;s.a.updateFilter({query:t})}},{key:"getQueryFromUrl",value:function(){return window.utils.getParameterByName("query")}},{key:"renderQuery",value:function(){if(this.props.showQuery)return r.a.createElement("div",{className:"filter-wrapper search-box"},r.a.createElement("label",{className:"filter-name invisible"}," ",Object(l.c)("Search")," "),r.a.createElement("div",{className:"search-input-wrapper"},r.a.createElement("form",{action:".",ref:"rewardSearchForm",onSubmit:this.updateQuery},r.a.createElement("i",{className:"fas fa-search search-icon"}),r.a.createElement("input",{type:"search",className:"search-input",ref:"rewardsSearchInput",onBlur:this.updateQuery,placeholder:Object(l.c)("Search rewards..."),defaultValue:this.getQueryFromUrl()}))))}},{key:"renderCategoryFilter",value:function(){if(this.props.showCategoryFilter||this.props.showInlineCategoryFilter){var e=null,t="filter-wrapper--inline";return this.props.showInlineCategoryFilter||(e=r.a.createElement("label",{ref:"categoryLabel",className:"filter-name"},Object(l.c)("What")),t="filter-wrapper"),r.a.createElement("div",{className:t,ref:"categoryFilter"},e,r.a.createElement(h,this.props))}}},{key:"renderMonthFilter",value:function(){if(this.props.showMonthFilter)return r.a.createElement("div",{className:"filter-wrapper"},r.a.createElement("label",{className:"filter-name"},Object(l.c)("When")),r.a.createElement(_,this.props))}},{key:"renderWhereFilter",value:function(){if(this.props.showWhereFilter)return r.a.createElement("div",{className:"filter-wrapper"},r.a.createElement("label",{className:"filter-name"},Object(l.c)("Where")),r.a.createElement("div",{className:"search-input-wrapper"},r.a.createElement(N,this.props)))}},{key:"render",value:function(){return r.a.createElement("div",{className:"reward-search-header"},r.a.createElement("div",{className:"search-header-inner"},this.renderCategoryFilter(),this.renderMonthFilter(),this.renderWhereFilter(),this.renderQuery()))}}]),t}();D.defaultProps={showMonthFilter:!0,showWhereFilter:!0,showCategoryFilter:!0,showInlineCategoryFilter:!1,showQuery:!0};t.a=i()(D)},194:function(e,t,n){"use strict";var o=n(1),r=n.n(o),a=n(0),i=n.n(a),s=n(13),c=(n(2),n(93));function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function p(e,t){return!t||"object"!==l(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var m=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),p(this,f(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(t,i.a.Component),function(e,t,n){t&&u(e.prototype,t),n&&u(e,n)}(t,[{key:"handleClick",value:function(){c.a.toggleIssue(this.props.issue)}},{key:"render",value:function(){var e="issue-selector";return this.props.selectedIssues[this.props.issue.id]&&(e+=" selected"),i.a.createElement("div",{className:"issue-filter d-flex col-12 col-md-4 col-lg-3 align-items-center"},i.a.createElement("div",{ref:"issueSelector",onClick:this.handleClick.bind(this),className:e}),i.a.createElement("div",{className:"issue-label"},this.props.issue.name))}}]),t}();function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function y(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function b(e,t){return!t||"object"!==h(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function v(e,t){return(v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}m.propTypes={issue:s.a.Issue.isRequired,selectedIssues:r.a.objectOf(s.a.Issue).isRequired},n.d(t,"a",function(){return w});var w=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),b(this,g(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&v(e,t)}(t,i.a.Component),function(e,t,n){t&&y(e.prototype,t),n&&y(e,n)}(t,[{key:"renderIssues",value:function(){if(!this.props.issues)return!1;var e=[],t=!0,n=!1,o=void 0;try{for(var r,a=this.props.issues[Symbol.iterator]();!(t=(r=a.next()).done);t=!0){var s=r.value;e.push(i.a.createElement(m,{key:s.id,issue:s,selectedIssues:this.props.selectedIssues}))}}catch(e){n=!0,o=e}finally{try{t||null==a.return||a.return()}finally{if(n)throw o}}return e}},{key:"render",value:function(){return i.a.createElement("div",{className:"bst"},i.a.createElement("div",{className:"issues-filter bst-row"},this.renderIssues()))}}]),t}();w.propTypes={issues:r.a.arrayOf(s.a.Issue).isRequired,selectedIssues:r.a.objectOf(s.a.Issue).isRequired}},195:function(e,t,n){"use strict";var o=n(17),r=n.n(o),a=n(0),i=n.n(a),s=(n(125),n(1)),c=n.n(s),l=n(12),u=n(95),p=n(9),f=n(19),d=n(18),m=n(68),h=n(172),y=n(2),b=n(55),g=n(126);function v(e){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function w(){return(w=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}function k(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function O(e,t){return!t||"object"!==v(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _(e){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function C(e,t){return(C=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var S=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),O(this,_(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&C(e,t)}(t,i.a.Component),function(e,t,n){t&&k(e.prototype,t),n&&k(e,n)}(t,[{key:"getActionImage",value:function(){return this.props.action.hero_image?this.props.action.hero_image:"/static/img/festival-banner.png"}},{key:"pointsMessage",value:function(){var e,t={points:this.props.completedAction.points,spanOpen:"<span>",spanClose:"</span>",interpolation:{escape:!1}};return 1===this.props.completedAction.points?e=Object(y.c)("You've earned {{ spanOpen }}{{ points }} point!{{ spanClose}}",t):this.props.completedAction.points>1&&(e=Object(y.c)("You've earned {{ spanOpen }}{{ points }} points!{{ spanClose}}",t)),{__html:e}}},{key:"renderPartnerImagesOrIssue",value:function(){if(this.props.action.issue_override)return this.props.action.issue_override;if(this.props.action.partners.length&&!this.props.ignorePartnerImage)return this.props.action.partners.map(function(e){return i.a.createElement("img",{src:e.logo_url,key:e.id,alt:e.name})});var e=null;return this.props.action.issue&&this.props.action.issue.name&&(e=this.props.action.issue.name),this.props.showSubIssue&&this.props.action.subissue&&this.props.action.subissue.title&&(e=this.props.action.subissue.title),e}},{key:"render",value:function(){var e={backgroundImage:"url(".concat(this.getActionImage(),")")};return i.a.createElement("div",{className:g.a.getTileClasses(this.props)},i.a.createElement("div",{className:"tile-with-image__inner"},i.a.createElement("div",{className:"tile-with-image__partner-points"},i.a.createElement("span",{ref:"partnerOrIssues",className:"tile-with-image__partner-points__parnters headline__topic--red"},this.renderPartnerImagesOrIssue())),i.a.createElement("div",{className:"tile-with-image__border"},i.a.createElement("div",{className:"tile-with-image__image-wrapper__overflow"},i.a.createElement(b.a,w({},this.props,{ref:"actionImageLink",style:e,buttonClass:"tile-with-image__image-wrapper ".concat(this.props.zoom&&"zoom"),buttonContent:" ",resourceUrl:this.props.action.url,navElement:this.props.navElement,openInIframe:this.props.openInIframe,backButtonText:"Back for more actions",title:this.props.action.title}))),i.a.createElement("div",{className:"tile-with-image__content-wrapper"},i.a.createElement("div",{className:"tile-with-image__content-wrapper-inner"},i.a.createElement("div",{className:"tile-with-image__completed-inner"},i.a.createElement("span",{className:"tile-with-image__completed-check tile-with-image__completed-check"},i.a.createElement("img",{src:"/static/img/check-red.png",alt:"Action Completed"})),i.a.createElement("h5",{className:"tile-with-image__description text-center"},Object(y.c)("Thank you for completing this action!")),i.a.createElement("p",{ref:"pointsMessage",className:"tile-with-image__description text-center",dangerouslySetInnerHTML:this.pointsMessage()})))))))}}]),t}();S.defaultProps={numberOfTiles:3,zoom:!0};var E=n(14);function P(e){return(P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function j(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function N(e,t){return!t||"object"!==P(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function T(e){return(T=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function x(e,t){return(x=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var I=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),N(this,T(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&x(e,t)}(t,i.a.Component),function(e,t,n){t&&j(e.prototype,t),n&&j(e,n)}(t,[{key:"componentWillMount",value:function(){var e=this.getActionIds();l.a.loadActions(e,this.props.useLanguageFallbacks,e.length),p.a.loadCompletedActions(),p.a.loadUser()}},{key:"componentDidUpdate",value:function(){Waypoint&&Waypoint.refreshAll()}},{key:"getActionIds",value:function(){return this.props.actionItems.map(function(e){return e.action_id})}},{key:"closeIframeCallback",value:function(){p.a.loadCompletedActions(),p.a.loadUserPoints(),d.a.loadCompletedActions(),d.a.loadCompletedActionSets()}},{key:"render",value:function(){var e=[],t=!0,n=!0,o=!1,r=void 0;try{for(var a,s=this.props.actionItems[Symbol.iterator]();!(n=(a=s.next()).done);n=!0){var c=a.value,l=this.props.actionsById[c.action_id],u=this.props.completedActionsByActionId[c.action_id],p="sub_issue"===this.props.mode;l&&(l.action.issue_override=c.issue_override,u?e.push(i.a.createElement(S,{action:l.action,featured:t,openInIframe:!0,openInNewWindow:this.props.openInNewWindow,completedAction:u,key:l.action.id,user:this.props.user,showSubIssue:p,ignorePartnerImage:this.props.ignorePartnerImage,ignoreFeaturedTile:this.props.ignoreFeaturedTile})):e.push(i.a.createElement(h.a,{key:l.action.id,featured:t,showTitle:!0,item:l.action,user:this.props.user,closeCallback:this.closeIframeCallback,openInIframe:!0,openInNewWindow:this.props.openInNewWindow,backButtonText:this.props.backButtonText,buttonContent:l.action.button_text,showSubIssue:p,ignorePartnerImage:this.props.ignorePartnerImage,ignoreFeaturedTile:this.props.ignoreFeaturedTile}))),t=!1}}catch(e){o=!0,r=e}finally{try{n||null==s.return||s.return()}finally{if(o)throw r}}var f="tile-with-image-wrapper tile-with-image-wrapper--actions bst-row align-items-stretch";return e.length>1&&(f+=" tile-with-image-wrapper--slideshow"),e.length?i.a.createElement("div",{className:"bst"},i.a.createElement("div",{className:f,ref:"takeActionSectionWrapper"},i.a.createElement(m.a,null,e))):i.a.createElement(E.a,null)}}],[{key:"getStores",value:function(){return[u.a,f.a]}},{key:"getPropsFromStores",value:function(){var e=f.a.getState(),t=u.a.getState();return{user:e.user,completedActionsByActionId:e.completedActionsByActionId,actionsById:t.actionsById}}}]),t}();I.propTypes={user:c.a.arrayOf(c.a.object),actionItems:c.a.arrayOf(c.a.object),useLanguageFallbacks:c.a.bool,completedActionsByActionId:c.a.arrayOf(c.a.object),mode:c.a.string,openInNewWindow:c.a.bool,ignorePartnerImage:c.a.bool,ignoreFeaturedTile:c.a.bool,backButtonText:c.a.string},I.defaultProps={openInNewWindow:!1,useLanguageFallbacks:!1,backButtonText:Object(y.c)("Back for more actions"),ignoreFeaturedTile:!1,ignorePartnerImage:!1};t.a=r()(I)},2:function(e,t,n){"use strict";var o=n(6),r=n.n(o),a=(n(159),n(137)),i=n.n(a),s=n(7),c=n.n(s),l=n(28);n.d(t,"c",function(){return f}),n.d(t,"a",function(){return d}),n.d(t,"b",function(){return m}),n.d(t,"d",function(){return h});var u=r.a.cookie(l.a.language.cookieName);function p(e){return c.a.omit(e,function(e,t,n){return""===e})}i.a.init({lng:u,lngs:["de","es","fr"],fallbackLng:!1,nsSeparator:!1,keySeparator:!1,resources:{de:{translation:p({" to claim Gift Aid on this donation, as well as any future donations. *":"","${cost} ${paymentType}s to enter. ":"${cost} ${paymentType}s, um teilzunehmen. ","(twenty-five MULTIPLIED BY four DIVIDED BY five PLUS fifty-seven MINUS two EQUALS)":"(fünfundzwanzig MULTIPLIZIERT MIT vier DIVIDIERT DURCH fünf PLUS siebenundfünfzig MINUS zwei GLEICH)","* I am a UK taxpayer. I understand that if I pay less Income Yax and/or Capital Gains Tax in the current tax year than the amount of Gift Aid claimed on my donations I must pay the difference.":"","+ {{ points }} point available":"+ {{ points }} Punkt verfügbar","+ {{ points }} points available":"+ {{ points }} verfügbar","1 ${paymentType} to enter.  ":"1 ${paymentType}, um teilzunehmen.","1 day left to enter":"Noch 1 Tag bis Teilnahmeschluss","1 point":"1 Punkt","A valid email is required":"Bitte gib eine gültige E-Mail-Adresse an","Action Completed!":"Aktion abgeschlossen!","Action in progress":"Aktion läuft",Actions:"Aktionen","Actions Taken to Create Change":"","Add your {{ fieldName  }} below":"Füge hier deine {{ fieldName  }} ein","Address Name":"",Admin:"Admin","All Events":"Alle Events","All you need to do is click the link in the email we just sent you to confirm your address and complete this action.":"Du musst nur auf den Link in der E-Mail zu klicken, die wir dir gerade geschickt haben, um deine Adresse zu bestätigen und diese Aktion abzuschließen.","Already a user?":"Du bist bereits Mitglied?","Already have an account?":"Du hast bereits ein Konto?","An error has occured! Please refresh the page.":"Huch! Irgendwas ist schief gelaufen. Bitte die Seite neu laden. ","An error occurred. Please try again later.":"Ein Fehler ist aufgetreten. Bitte versuche es später erneut.",Answered:"Beantwortet","Are you sure you want to delete your avatar?":"Bist du sicher, dass du dein Avatar löschen willst? ","Are you sure? This will deactivate your account":"Bist du dir sicher? Diese Aktion deaktiviert deinen Account",Articles:"Artikel","As a Global Citizen, I can contribute to helping solve the world's biggest issues by:":"Als Global Citizen kann ich zur Lösung der größten Probleme der Welt beitragen, indem:",Back:"Zurück","Back for more actions":"Zurück zur Übersicht ","Back for more stories":"Zurück zu Content Übersicht","Back to Rewards":"Zurück zu den Rewards","Become a Global Citizen":"Werde ein Global Citizen","Become a Global Citizen to start earning points today":"So geht's: bei Global Citizen anmelden, aktiv werden und Punkte erhalten. ","Begin Quiz":"Quiz starten","But you can still win other tickets! Check out other Rewards near you.":"Du kannst jedoch andere Tickets gewinnen! Schau dir weitere Rewards in deiner Nähe an.",By:"Ein Beitrag von","By Month":"Nach Monat","By clicking Sign Up, you agree to (i) our {{termsLinkOpen}}Terms{{linkClose}} and {{privacyLinkOpen}}Privacy Policy{{linkClose}}; and (ii) grant permission to Global Citizen to provide your first name, last name, country, and email address to {{partners}}, who may send communications to you in accordance with its Privacy Policy.":"Wenn du auf „Registrieren“ klickst, stimmst du (i) unseren {{termsLinkOpen}}Nutzungsbedingungen{{linkClose}} und {{privacyLinkOpen}}Datenschutzbestimmungen{{linkClose}} zu. Zudem (ii) gewährst du Global Citizen das Recht, deinen Vor- und Nachnamen, dein Land sowie deine E-Mail-Adresse {{partners}} bereitzustellen, die dir Informationen gemäß ihren Datenschutzbestimmungen zusenden können.","By clicking Sign Up, you agree to our {{termsLinkOpen}}Terms{{linkClose}} and {{privacyLinkOpen}}Privacy Policy{{linkClose}}.":"Mit deiner Registrierung auf Global Citizen stimmst du ausdrücklich dem  {{termsLinkOpen}}Terms{{linkClose}} und den {{privacyLinkOpen}}Privacy Policy{{linkClose}} Bestimmungen zu.","By entering this contest, you agree to (i) our {{termsLinkOpen}}Terms{{linkClose}} and {{privacyLinkOpen}}Privacy Policy{{linkClose}}; and (ii) grant permission to Global Citizen to provide your first name, last name and email address to {{partners}}, who may send communications to you in accordance with its Privacy Policy.":"Mit der Teilnahme an diesem Wettbewerb stimmst du (i) unseren {{termsLinkOpen}}Nutzungsbedingungen{{linkClose}} und {{privacyLinkOpen}}Datenschutzbestimmungen{{linkClose}} zu. Zudem (ii) gewährst du Global Citizen das Recht, deinen Vor- und Nachnamen sowie deine E-Mail-Adresse {{partners}} bereitzustellen, die dir Informationen gemäß ihren Datenschutzbestimmungen zusenden können.","By what year does Global Citizen want to end extreme poverty?":"Bis zu welchem Jahr will Global Citizen die extreme Armut beenden?","Call now":"Jetzt anrufen","Canadian law requires that you correctly answer the skill testing question below.  Kindly answer the question and provide us with your response.":"Das kanadische Recht verlangt, dass du die Wissensprüfungsfrage unten korrekt beantwortest. Also beantworte die Frage freundlich und schicke uns deine Antwort.","Change Email":"E-Mail-Adresse ändern","Choose an amount:":"","Choose language":"Wähle deine Sprache aus","Choose which show you would like to enter":"Wähle ein Konzert oder eine Show aus.","City/State":"Stadt/Bundesland","Click for events near you":"Klicken, um Events in deiner Nähe anzuzeigen","Click here to get started":"Hier klicken und loslegen","Click here to resend confirmation email":"Hier klicken, um deine Email-Adresse erneut zu bestätigen","Closing Soon":"Bald endend","Closing soon":"Bald endend","Complete all actions to enter":"Du musst alle Aktionen abschließen!",Completed:"Abgeschlossen","Confirm your email":"Bitte E-Mail Adresse bestätigen. ","Confirmation email sent":"E-mail versendet","Congrats, you've completed all the actions!":"Glückwunsch! Du hast an der Aktion erfolgreich teilgenommen. ","Congratulations! You're officially a Global Citizen.":"Fertig! Du bist offiziell ein Global Citizen. Großartig!","Continue Taking Action":"Bleib weiterhin aktiv","Continue taking Action":"Bleib weiterhin aktiv","Copied!":"Kopiert","Copy link":"Link kopieren","Copy the following Offer Code:":"Kopiere den folgenden Angebotscode:",Country:"Land","Create a password that is at least 6 characters long with one number and one letter.":"Bitte ein Passwort erstellen, dass aus mindestens 6 Zeichen inklusive einer Zahl und einem Buchstaben besteht.","Day Until Drawing Closes":"Tag bis Teilnahmeschluss","Days Until Drawing Closes":"Tage bis Teilnahmeschluss","Days until draw date":"Tage mit Ziehungsdatum",Disability:"Menschen mit Behinderung",Donate:"Spenden","Donate now:":"Spende jetzt","Donation was canceled":"","Drawing date\\n (Melbourne Time)":"Ziehungszeit\\n (Ortszeit Melbourne)","Earn 1 point for every friend, who register to become Global Citizens with your link.":"Erhalte 1 Punkt für jeden Freund, der sich über deinen Link auf Global Citizen registriert. ","Earn Rewards":"Gewinne Rewards ","Earn more points to enter":"Verdiene mehr Punkte, um teilzunehmen","Earn points for doing your part in the fight to end poverty":"Erhalte Punkte für deinen Einsatz, globale Armut zu beenden.   ","Earn {{ points }} point":"{{ points }} Punkt sammeln","Earn {{ points }} points":"{{ points }} Punkte sammeln",Email:"E-Mail","Email Address":"E-Mail-Adresse",Enter:"Mitmachen","Enter a valid phone number.":"Gib eine gültige Telefonnummer ein.","Enter now":"Jetzt teilnehmen","Enter to win":"An Verlosung teilnehmen","Enter your email & learn how to earn your tickets for the festival on 6 July 2017":"Hier eintragen & mehr über kostenlose Tickets zum Festival am 6. Juli 2017 erfahren","Enter your email to learn more about solving the world's biggest challenges.":"Gib deine E-Mail-Adresse ein, um mehr über die Lösung der weltweit größten Herausforderungen zu erfahren.",Entered:"teilgenommen",Entries:"Einträge","Entries to this reward have not opened yet":"Einträge zu diesem Reward wurden noch nicht geöffnet","Entries to this reward have now closed":"Die Teilnahme für diesen Reward ist jetzt geschlossen",Ethnicity:"Antirassismus","Final day to enter":"Letzer Tag der Teilnahme","Finish quiz":"Quiz beenden","First Name":"Vorname",Follow:"Folgen","Follow issue":"Folgen","Follow these issues":"Diesen Themen folgen",Following:"Interessiert an","Full Name":"","Full terms and conditions for this reward can be found {{termsLinkOpen}}here{{linkClose}}":"Die vollständigen Bedingungen für diese Belohnung findest du {{termsLinkOpen}}hier{{linkClose}}",Gender:"Geschlechtergleichstellung","Get your friends to join the movement.":"Lade deine Freunde ein, ebenfalls als Global Citizen aktiv zu werden.","Global Citizen":"Global Citizen","Global Citizen Festival in Hamburg":"Global Citizen Festival in Hamburg","Global Citizen Rewards":"Global Citizen Rewards","Global Citizen is a growing movement of people across the planet taking action to solve the world's biggest challenges. Thanks to your friend {{ referralName }}, you're invited to become a Global Citizen.":"Global Citizen ist eine Gemeinschaft von Menschen aus aller Welt, die gemeinsam aktiv werden wollen, um Lösungen für globale Herausforderungen zu finden. {{ referralName }} ist bereits dabei und lädt dich ein, ebenfalls ein Global Citizen zu werden. ","Global Citizen is a movement of engaged citizens who are using their collective voice to end extreme poverty by 2030. On our platform, Global Citizens learn about the systemic causes of extreme poverty, take action on those issues, and earn rewards for their actions ${'\\u2014'} as part of a global community committed to lasting change.":"Global Citizen ist eine Bewegung engagierter Bürger, die ihre kollektive Stimme nutzen und somit die extreme Armut bis 2030 beenden wollen. Auf unserer Plattform lernen Global Citizens die systemischen Ursachen extremer Armut kennen, werden aktiv zu diesen Themen und verdienen sich Rewards für ihr Handeln ${'\\u2014'} als Teil einer globalen Gemeinschaft, die sich für nachhaltige Veränderungen einsetzt.","Go To Ticketmaster":"Zu Ticketmaster gehen","Go to the Ticketmaster website, enter the code, and follow the instruction.":"Gehe zur Ticketmaster-Website, gib den Code ein und folge der Anweisung.","Great! Thanks for downloading the Global Citizen app.":"Klasse! Danke, dass du die Global Citizen-App herunterlädst.","Hey, we‘ve noticed your friends haven’t signed up yet.":"Hi! Scheint, dass deine Freunde den Weg zu Global Citizen noch nicht gefunden haben?",How:"Wie","How it works":"So geht's ","I just entered to win tickets to {{ name }}. Enter now at ":"Ich nehme an der Verlosung für Tickets zu {{ name }} teil. Jetzt teilnehmen unter","I've read, understood and agree to Global Citizen’s {{ gcTermsLinkOpen }}Terms{{ linkClose }} and {{ gcPrivacyPolicyLinkOpen}}Privacy Policy{{ linkClose }}.":"Hiermit bestätige ich, dass ich die {{ gcTermsLinkOpen }}Teilnahmebedingungen{{ linkClose }} und {{ gcPrivacyPolicyLinkOpen}} Datenschutzerklärung{{ linkClose }} für Global Citizen gelesen und verstanden habe und beidem ausdrücklich zustimme.","If your Facebook account does not have an attached e-mail address, you'll need to add that before you can sign up.":"Falls dein Facebook-Account mit keiner E-Mail Adresse verknüpft ist, musst du hier bitte eine E-Mail-Adresse für die Registrierung eingeben. ",Ignored:"Ignoriert","In Partnership With":"In Zusammenarbeit mit","In order to check in we need access to your location. Please enable location services for your web browser in your phone settings.":"Für die 'Check-In' Funktion müssen wir deinen Standort ermitteln. Bitte schalte hierzu den Lokalisierungsdienst auf deinem Handy ein. ","In partnership with":"In Zusammenarbeit mit","It Starts with {{highlightOpen}}You{{spanClose}}.":"","It all starts with becoming a Global Citizen.":"Willkommen bei Global Citizen. Sollen wir loslegen?","Join the movement":"Jetzt mitmachen","Join us. Be the Generation.":"Schließ dich uns an. Sei die Generation.",LGBTI:"LGBTI",Language:" Sprache","Last Name":"Nachname",Learn:"Learn","Learn More":"Mehr erfahren","Learn More by Issue":"Mehr erfahren nach Themen sortiert","Learn more":"Mehr erfahren","Learn more and register to vote":"Mehr erfahren und zur Wahl eintragen","Leave your message":"Hinterlasse deine Nachricht","Let us know who you are to start taking action!":"Ein paar Angaben, damit du aktiv werden kannst.","Live Site":"",'Loading search results for "{{query}}"...':'Lade Suchergebnisse für "{{query}}"...',"Loading your location...":"Standort wird ermittelt...","Loading...":"Lädt...","Log in":"Einloggen","Looks like you've been disconnected or haven't received our call.\\n\\n Make sure your phone number is correct and try again!":"Anscheinend wurde deine Verbindung getrennt oder du hast unseren Anruf nicht erhalten.\\n\\n Gewährleiste, dass deine Telefonnummer korrekt ist und versuche es erneut!","Make a donation now to support the work of":"Spende jetzt, um die Arbeit von ... zu unterstützen","Make sure to check your spam folder, in case your email provider has incorrectly labelled it as spam.":"Bitte überprüfe auch deinen Spam-Ordner, falls unsere E-Mail aus Versehen dort gelandet ist.","Making an Impact":"Einsatz zeigen",Map:"Karte","More Info":"Weitere Infos","Near me":"In meiner Nähe",Next:"Nächster Schritt","Next question":"Nächste Frage",No:"Nein","No actions found, try selecting other issues":"Es konnten keine Aktionen gefunden werden, versuche es mit einem anderen Thema. ","No results were found matching your search criteria":"Deine Suche ergab leider keine Treffer.","Not a Global Citizen yet?":"Noch kein Global Citizen?","Not seeing the email?":"E-Mail wird nicht angezeigt? ","Oh No! Something went wrong":"Oh nein! Irgendetwas ist schiefgelaufen.","One more step":"Ein weiterer Schritt","Oops please enter valid email":"Bitte eine gültige E-Mail-Adresse eingeben","Our mission is to build the largest possible movement of global citizens taking action to solve the world's biggest challenges.":"Wir sind davon überzeugt, dass die größten globalen Herausforderungen nur gemeinsam gelöst werden können - deswegen wollen wir weltweit so viele Global Citizens wie möglich erreichen und zum aktiv werden motivieren.       ",Password:"Passwort","Password is required":"Passwort wird benötigt","Please allow access to your location to find events near you.":"Bitte erlaube den Zugriff auf deinen Standort, um Events in deiner Nähe zu finden.","Please answer the following skill testing question before you can enter":"Bitte beantworte vor der Teilnahme die folgende Wissensprüfungsfrage","Please choose an answer.":"Bitte wähle eine Antwort aus.","Please confirm that you agree to the {{ termsLinkOpen }}Global Citizen Rewards Terms and Conditions{{ termsLinkClose}} and would like to use {{ pointsOpen }}{{ points }} points{{ pointsClose }} to enter the drawing by clicking the button below.":"Bitte bestätige durch Klicken der folgenden Schaltfläche, dass du den {{ termsLinkOpen }}Nutzungsbedingungen von Global Citizen Rewards{{ termsLinkClose}} zustimmst und für {{ pointsOpen }}{{ points }} Punkte{{ pointsClose }} an der Auslosung teilnehmen möchtest.","Please confirm that you agree to the {{ termsLinkOpen }}Global Citizen Rewards Terms and Conditions{{ termsLinkClose}} and would like to use {{ pointsOpen }}{{ points }} point{{ pointsClose }} to enter the drawing by clicking the button below.":"Bitte bestätige durch Klicken der folgenden Schaltfläche, dass du den {{ termsLinkOpen }}Nutzungsbedingungen von Global Citizen Rewards{{ termsLinkClose}} zustimmst und für einen {{ pointsOpen }}{{ points }} Punkt{{ pointsClose }} an der Auslosung teilnehmen möchtest.","Please provide my name, email address and country to {{ openSpan }}{{ partnerName }}{{ closeSpan }} so that they can keep me up to date on this campaign and others.":"Bitte gib meinen Namen, E-Mail-Adresse und Land an {{ openSpan }} {{ partnersName }} {{ closeSpan }} weiter, damit sie mich über diese und andere Kampagnen auf dem Laufenden halten können.","Please refresh the page when the call has ended.":"Bitte nach Beendigung des Anrufes die Seite neu laden.  ","Please try again":"Bitte versuche es nochmals",Points:"Punkte",Poll:"Umfrage","Post Tweet":"Tweet versenden","Postal Code":"PLZ",Profile:"Profil",Published:"Veröffentlicht","Question {{ questionNumber }} of {{ total }}":"Frage {{ questionNumber }} von {{ total }}",REGISTER:"REGISTRIEREN","Re-enter Password":"Passwort erneut eingeben","Read More":"Mehr Lesen","Read more":"Mehr Lesen","Read more.":"Mehr Lesen","Read the latest stories to learn more about {{noWrapOpen}}the issues.{{noWrapClose}}":"Lies hier aktuelle Artikel zu diesen Themen","Receive alerts about the world's biggest challenges.":"Trage dich ein, um das Neuste über die Herausforderungen unserer Generation zu erfahren","Recent recruits":"Neue Global Citizens","Recommended Stories":"Lesenswerte Geschichten","Recommended because you follow {{ reasons }}.":"Lesenswertes zum Thema {{ reasons }}.","Redeem points for a chance to win tickets to your favorite events":"Punkte einlösen, um Tickets für Konzerte und Events zu gewinnen","Refer friends":"Freunde empfehlen","Refine Results":"Ergebnisse eingrenzen",Required:"erforderlich","Resend Verification Email":"Verifizierungs-E-Mail erneut senden","Reset your filters and view all available rewards.":"Setze die Auswahlkriterien zurück, um alle Rewards zu sehen.",Retry:"Erneut versuchen",Reward:"Reward",Rewards:"Rewards","SIGN UP":"REGISTRIEREN","STRIPE successfully connected":"Verbindung zu STRIPE erfolgreich hergestellt","SUPPORTED BY":"","Score Now":"Jetzt auswerten",Scored:"Ausgewertet",Search:"Suchen","Search rewards...":"Rewards durchsuchen...","See all info.":"Mehr erfahren. ","See details":"Detailansicht","Sept 24":"24. September","Set up a password for your new profile.":"Wähle ein Passwort für deinen Account.",Settings:"Einstellungen",Share:"Teilen","Share on Facebook":"Auf Facebook teilen","Share on Twitter":"Über Twitter teilen","Share on Whatsapp":"Über WhatsApp teilen","Share on Workplace":"","Share with Email":"Via E-Mail teilen","Share with Facebook Messenger":"Auf Facebook Messenger teilen","Share your invite link":"Mit diesem Link kannst du deine Freunde zu Global Citizen einladen ","Showing page {{currentPage}} of {{totalPages}}.":"Siete {{currentPage}} von {{totalPages}}.",ShowupVote:"ShowupVote","Sign In":"Anmelden","Sign In with Facebook":"Mit Facebook registrieren","Sign Up":"Registrieren","Sign Up with Facebook":"Mit Facebook registrieren","Sign in":"Anmelden","Sign in to redeem rewards":"Du musst eingeloggt sein, um Rewards erhalten zu können","Sign into your account":"Melde dich bei deinem Konto an","Sign out":"Ausloggen","Sign petitions, send emails, tweet, and call your {{noWrapOpen}}world leaders.{{noWrapClose}}":"","Sign up":"Registrieren","Sign up and be the first to know the latest":"Registriere dich und erfahre zuerst alle Neuigkeiten.","Sign up for emails (optional): ":"Für E-Mails registrieren (optional):","Sign up to Enter":"Registrieren, um teilzunehmen","Sign up to claim your points and earn rewards, like tickets to shows by your favorite artists.":"Melde dich an, um Punkte einzulösen und Rewards zu verdienen, wie Tickets für Shows von deinen Lieblingskünstlern.","Sign up to win tickets":"Registrieren und Tickets gewinnen","Sign up today and receive your bonus point to get started. The more actions you take as a Global Citizen, the more points you earn. You can redeem those points for the chance to win rewards like Festival tickets.":"Registriere dich jetzt, um Bonuspunkte zu erhalten. Für jede Aktion, an der du auf Global Citizen teilnimmst, erhältst du weitere Punkte, mit denen du an Verlosungen für Tickets zu Konzerten und Festivals teilnehmen kannst.     ","Sign up with your {{ provider }} account":"Mit {{ provider }} Account registrieren ","Sign up\x3c!-- Germany Festival Modal --\x3e":"Eintragen","Skip for now >>":"Vorerst überspringen >>","Skip this for now >":"Vorerst überspringen >","Skip to Sign Up":"Überspringen, um zur Anmeldung zu gelangen","Something went wrong":"Irgendetwas ist schiefgelaufen.","Sort By:":"Sortieren nach:","Stay up to date":"Auf dem Laufenden bleiben","Step {{ current }} of {{ total }}: ":"Schritt {{ current }} von {{ total }}: ",Submit:"Abschicken","Submit answer":"Antwort einreichen","Take Action":"Aktiv werden","Take Action Now":"Jetzt aktiv werden","Take More Action":"Weitere Aktionen ausführen","Take action":"Aktiv werden","Take action to enter":"Aktiv werden, um teilzunehmen","Terms and Privacy Policy agreement (required): ":"Zustimmung zur Datenschutzerklärung und den Teilnahmebedingungen (erforderlich):","Thank You":"","Thank you for completing this action!":"Danke für deinen Einsatz.","Thank you for your donation!":"Danke für deine Spende!","Thank you!":"Danke!","Thanks for Entering!":"Vielen Dank für den Beitritt!","Thanks for signing up as a global citizen. In order to create your account we need you to provide your email address. You can check out our {{linkOpen}}Privacy Policy{{linkClose}} to see how we safeguard and use the information you provide us with.":"Danke für deine Registrierung bei Global Citizen. Damit wir dein Konto abschließend freigeben können, brauchen wir eine gültige E-Mail Adresse von dir. Alles zum Thema {{linkOpen}}Datenschutz{{linkClose}} kannst du selbstverständlich nachlesen.     ","Thanks for signing up!":"Danke, dass du ein Global Citizen bist.","Thanks for taking action.":"Danke für deinen Einsatz.","That email appears incorrect. Did you mean {{ didYouMean }}?":"Diese E-Mail wird fehlerhaft angezeigt. Meintest du {{ meintestdu }}? ","The answer cannot be blank":"Die Antwort darf nicht leer sein.","The answer was incorrect. Please try again.":"Die Antwort war falsch. Bitte versuche es erneut.","The drawing for these tickets has already closed":"Die Ziehung für diese Tickets ist bereits abgeschlossen.","There are currently no rewards available in your country. {{ rewardLinkOpen }}Click here{{ rewardLinkClose }} to view all of our available rewards":"Derzeit sind in deinem Land keine Rewards verfügbar. {{ rewardLinkOpen }}Klicke hier{{ rewardLinkClose }}, um alle verfügbaren Rewards anzuzeigen.","This action can only be completed between {{ start }} and {{ end }}{{ weekdays }}. Please check back later to take this action.":"Diese Aktion kann nur zwischen {{ start }} und {{ end }}{{ weekdays }} ausgeführt werden. Bitte versuche später erneut, diese Aktion auszuführen.","This action is not available in your country":"Diese Aktion ist in deinem Land nicht verfügbar.","This action is only available to users in {{ countryName }}.\\n\\nPlease update your country and try again.":"Diese Aktion ist nur für Benutzer in {{ countryName }} verfügbar.\\n\\nBitte ändere dein Land und versuche es erneut.","This site uses cookies to provide you with the best experience.":"Diese Webseite verwendet Cookies, um dir ein maßgeschneidertes Surfen zu ermöglichen. Durch die Nutzung dieser Webseite erklärst du dich damit einverstanden, dass Cookies verwendet werden.","Ticket Per Winner":"Ticket pro Gewinner","Tickets Per Winner":"Tickets pro Gewinner","To know about":"Mehr erfahren über","To know about Sept 24":"die vom 24. September erfahren","Try Again":"Erneut versuchen",Tweet:"Tweet",Unfollow:"Nicht mehr folgen","Unfollow issue":"Nicht weiter folgen","Up Next":"Nächster Schritt",Upcoming:"Kommende Shows",Update:"Update","Update status":"Status aktualisieren","Use template":"Vorlage verwenden","Use your points from action-taking to enter to win {{noWrapOpen}}exclusive rewards.{{noWrapClose}}":"",Venue:"Veranstaltungsort",Videos:"Videos","View Details":"Detailansicht","View rewards":"Rewards anzeigen","We are one human race. But in many places around the world, people are judged and discriminated against because of their race or ethnicity due to prejudice that is ingrained in cultures and {{noWrapOpen}}societal norms.{{noWrapClose}}":"","We are partnering with {{noWrapOpen}}Global Citizen{{spanClose}} to tackle {{highlightOpen}}prejudice{{spanClose}} and {{highlightOpen}}discrimination{{spanClose}} on a global scale through {{noWrapOpen}}{{highlightOpen}}action-taking{{spanClose}} and {{highlightOpen}}advocacy{{spanClose}}{{spanClose}}":"Wir arbeiten mit {{noWrapOpen}}Global Citizen{{spanClose}} zusammen, um {{highlightOpen}}Vorurteile{{spanClose}} und {{highlightOpen}}Diskriminierung{{spanClose}} auf globaler Ebene durch {{noWrapOpen}}{{highlightOpen}}Aktionen{{spanClose}} und {{highlightOpen}} nteressenvertretung{{spanClose}}{{spanClose}} zu bekämpfen","We are unable to find your representative's twitter handle.":"Wir sind nicht in der Lage, den Twitter-Handle Deines Vertreters zu finden.","We can't find your MP. Please update your address and try again.":"Wir können deinen lokalen Abgeordneten nicht finden. Bitte aktualisiere deine Adresse im Eingabefeld und versuche es erneut.","We can't find your MP. Please update your postal code and try again.":"Wir können deinen lokalen Abgeordneten nicht finden. Bitte aktualisiere deine Postleitzahl im Eingabefeld und versuche es erneut.","We can't find your Representative. Please update your address and try again.":"Wir können deinen Representative nicht finden. Bitte aktualisiere deine Adresse im Eingabefeld und versuche es erneut.","We can't find your Representative. Please update your postal code and try again.":"Wir können deinen Representative nicht finden. Bitte aktualisiere deine Postleitzahl im Eingabefeld und versuche es erneut.","We can't find your Senator. Please update your address and try again.":"Wir können deinen Senator nicht finden. Bitte aktualisiere deine Adresse im Eingabefeld und versuche es erneut.","We can't find your Senator. Please update your postal code and try again.":"Wir können deinen Senator nicht finden. Bitte aktualisiere deine Postleitzahl im Eingabefeld und versuche es erneut.","We can't find your local newspaper. Please update your address and try again.":"","We can't find your local newspaper. Please update your postal code and try again.":"","We can't find your state newspaper. Please update your address and try again.":"","We can't find your state newspaper. Please update your postal code and try again.":"","We can't find your store. Please update your address and try again.":"Wir können dein Geschäft nicht finden. Bitte aktualisiere deine Adresse und versuche es erneut.","We can't find your store. Please update your postal code and try again.":"Wir können dein Geschäft nicht finden. Bitte aktualisiere deine Postleitzahl und versuche es erneut.","We partnered with {{noWrapOpen}}Global Citizen{{noWrapClose}} on our first disability campaign want to build a world that is more inclusive and accessible for people with disabilities. We want to champion that we are all are {{noWrapOpen}}differently-abled.{{noWrapClose}}":"","We stand for you":"Wir stehen für dich ein","We want to create an equal world where everyone is free to express themselves, and create a diverse and inclusive organization, where everyone can bring their whole self {{noWrapOpen}}to work.{{noWrapClose}}":"","We will email you as soon as our partner has confirmed that you have completed the action with them and your points have been awarded.":"Wir schicken dir eine E-Mail, sobald unser Partner bestätigt hat, dass du die Aktion mit ihm abgeschlossen hast und deine Punkte gutgeschrieben wurden.","We will let you know if you are a winner after the drawing on {{ date }}. Best of luck!":"Nach der Ziehung am  {{ date }} geben wir dir Bescheid, ob du gewonnen hast. Viel Glück!","We'll email you soon with the latest.":"Wir senden dir bald eine E-Mail mit aktuellen Infos.","We're looking to promote the empowerment of girls & women for building healthier, better-educated, and more {{noWrapOpen}}prosperous communities.{{noWrapClose}}":"","We're sorry but the phone number you provided is outside our coverage range. \\n\\n You can still add your voice to the movement by calling the target directly at {{ phoneNumber }} or please refresh the page and provide an alternative number.":"Es tut uns leid, aber die von dir angegebene Telefonnummer befindet sich außerhalb unserer Reichweite. \\n\\n Du kannst dich trotzdem mit deiner Stimme an der Bewegung beteiligen, indem du das Ziel direkt unter {{ phoneNumber }} anrufst, oder du lädst die Seite neu und gibst eine alternative Nummer an.","Welcome Back! Sign in.":"Willkommen zurück! Bitte anmelden.","Welcome back, {{ name }}!":"Willkommen zurück, {{ name }}!","Welcome, {{ name }}!":"Willkommen, {{ name }}!","We’ve sent you an email. Please click the link in the message, then refresh this page.":"Wir haben dir eine Nachricht an deine E-Mail Adresse geschickt. Bitte folge dem Link in der E-Mail und lade diese Seite neu. ",What:"Was","What is this content piece?":"","What issues are you most passionate about?":"Für welche der Themen interessierst du dich besonders?","What to Know":"Wichtige Infos",When:"Wann",'When your friends sign up, their names will appear in the "Recent recruit" section on this page. If you have any issues please get in touch with us at':"Sobald deine Freunde sich bei Global Citizen angemeldet haben, erscheinen ihre Namen unter 'Neue Global Citizens' auf dieser Seite. Bei Fragen hierzu kannst du dich jederzeit an uns wenden.  ",Where:"Wo",Why:"Warum","Win rewards":"Rewards erhalten",Winner:"Gewinner",Winners:"Gewinner",Yes:"Ja","Yes, I'd like":"","Yes, please send me updates and opportunities from {{ gcLinkOpen }}Global Citizen{{ linkClose}} to be part of the movement to end extreme poverty.":"Ja, ich möchte von {{ gcLinkOpen }}Global Citizen{{ linkClose}} Nachrichten & Updates erhalten, um zu erfahren, welche Möglichkeiten es gibt, mich im Kampf gegen extreme Armut zu engagieren. ","You answered {{ correctCount }} of {{ total }} correctly":"Du hast {{ correctCount }} von {{ total }} Fragen richtig beantwortet","You are already signed in!":"Du bist bereits angemeldet.","You can get informed, take action, and meet other like-minded change-makers. It has never been easier to make a real positive impact!":"Du kannst dich informieren, aktiv werden und weitere gleichgesinnte Weltveränderer treffen. Es war noch nie einfacher, wirklich etwas Positives zu bewirken!","You have 1 point available. Great work! Treat yourself to some awesome rewards.":"Du hast dir 1 Punkt verdient. Gut gemacht! Für diese Konzerte und Events kannst du mit deinen Punkten Tickets gewinnen.","You have completed all available actions. Thank you for doing your part to end extreme poverty!":"Du hast alle verfügbaren Aktionen abgeschlossen. Vielen Dank, dass du deinen Beitrag dazu geleistet hast, die extreme Armut zu beenden!","You have no points available. Go earn more points by {{ openLink }}taking action{{ closeLink}}!":"Du hast keine Punkte. {{ openLink }}Werde aktiv{{ closeLink}} und verdiene mehr Punkte!","You have {{ points }} points available. Great work! Treat yourself to some awesome rewards.":"Du hast dir {{ points }} Punkte verdient. Gut gemacht! Für diese Konzerte und Events kannst du mit deinen Punkten Tickets gewinnen.","You need {{ points }} more point":"Du benötigst {{ points }} weiteren Punkt.","You need {{ points }} more points":"Du benötigst {{ points }} weitere Punkte.","You will be the first":"Du wirst zu den Ersten gehören,","You've answered {{answerCount}} correctly":"Du hast {{ answerCount }} Fragen richtig beantwortet. ","You've completed this action":"An dieser Aktion hast du bereits teilgenommen","You've completed this campaign.":"","You've earned {{ openPoints }}{{ points }}{{ closeSpan }}!":"Du hast {{ openPoints }}{{ points }}{{ closeSpan }} verdient!","You've earned {{ pointsString }}!":"Du hast {{ pointsString }} verdient!","You've earned {{ spanOpen }}{{ points }} point!{{ spanClose}}":"Du hast {{ spanOpen }}{{ points }} Punkt verdient!{{ spanClose}}","You've earned {{ spanOpen }}{{ points }} points!{{ spanClose}}":"Du hast {{ spanOpen }}{{ points }} Punkte verdient!{{ spanClose}}","You've entered to win tickets!":"Du nimmst an der Ticket-Verlosung teil!","Your MP":"Dein Parlamentsvertreter","Your MPs":"Deine Parlamentsvertreter","Your Representative":"Dein Vertreter","Your Representatives":"Deine Vertreter","Your Senator":"Dein Senator","Your Senators":"Deine Senatoren","Your Store":"Dein Geschäft","Your Stores":"Deine Geschäfte","Your actions really do make a difference and every action you take earns you points that you can use to enter to win awesome experiences and rewards. Read more about your impact {{ linkStart }}here{{ linkEnd }}.":"Dein Einsatz macht einen spürbaren Unterschied! Und mit jeder abgeschlossenen Aktion erhältst du Punkte, mit denen du an Ticketverlosungen für großartige Events und Veranstaltungen teilnehmen kannst.  Erfahre {{ linkStart }}here{{ linkEnd }} mehr über den Impact deiner Aktionen.","Your actions really do make a difference! Learn more about your impact {{ openAnchor }}here{{ closeAnchor}}.":"Deine Aktionen machen wirklich einen Unterschied! Erfahre {{ openAnchor }}hier{{ closeAnchor}} mehr über deinen Einfluss.","Your email has been sent":"Deine E-Mail wurde gesendet. ","Your email will not be sent until you click the link in the email":"Deine E-Mail wird nicht gesendet, bis du auf den Link in der E-Mail klickst","Your local newspaper":"","Your local newspapers":"","Your password must be at least 6 characters":"Das Passwort muss aus mindestens 6 Zeichen bestehen. ","Your password must contain at least one number and letter":"Das Passwort muss mindestens eine Zahl und einen Buchstaben enthalten. ","Your state newspaper":"","Your state newspapers":"","actions taken":"durchgeführte Aktionen",address:"Adresse","and ":"und ","checked in":"ist hier:","completed an action":"hat an dieser Aktion teilgenommen",date:"Datum","for your points.":"für deine Punkte.","in partnership with":"in Zusammenarbeit mit","made a call":"hat hierfür angerufen",or:"oder",point:"Punkt",points:"Punkte","postal code":"PLZ",relevance:"Relevanz","sent an email":"hat eine E-Mail versendet","signed a petition":"unterzeichnete die Petition","take action":"aktiv werden","these are not my MPs":"das sind nicht meine Parlamentsvertreter","these are not my Representatives":"das sind nicht meine Vertreter","these are not my Senators":"das sind nicht meine Senatoren","these are not my Stores":"das sind nicht meine Geschäfte","these are not my local newspapers":"","these are not my state newspapers":"","this is not my MP":"das ist nicht mein Parlamentsvertreter","this is not my Representative":"das ist nicht mein Vertreter","this is not my Senator":"das ist nicht mein Senator","this is not my Store":"das ist nicht mein Geschäft","this is not my local newspaper":"","this is not my state newspaper":"",tweeted:"twitterte","{{ city }} | {{ venue }}":"","{{ city }}, {{ state }} | {{ venue }}":"{{ city }}, {{ state }} | {{ venue }}","{{ daysLeft }} day left to enter":"{{ daysLeft }} Tag bis zum Teilnahmeschluss","{{ daysLeft }} days left to enter":"{{ daysLeft }} Tage bis zum Teilnahmeschluss","{{ h2 }}<p>CENTRAL PARK</p>{{ headlineDate }}09.23.2017{{ closeP }}{{ closeH2 }} {{ h1 }}GL{{headlineHighlightAlt}}O{{ spanClose }}BAL {{ headlineHighlight }}CITIZEN{{ spanClose }} {{ headlineSmall }}FESTIVAL{{ spanClose }}{{ closeH1 }}":"{{ h2 }}<p>CENTRAL PARK</p>{{ headlineDate }}09.23.2017{{ closeP }}{{ closeH2 }} {{ h1 }}GL{{headlineHighlightAlt}}O{{ spanClose }}BAL {{ headlineHighlight }}CITIZEN{{ spanClose }} {{ headlineSmall }}FESTIVAL{{ spanClose }}{{ closeH1 }}","{{ h2 }}Thank you{{ closeH2 }} {{ h2}}for joining the movement{{ closeH2 }}":"{{ h2 }}Danke,{{ closeH2 }} {{ h2}}dass du dich der Bewegung anschließt{{ closeH2 }}","{{ icon }} Language":"{{ icon }} Sprache","{{ name }}":"{{ name }}","{{ name }} at {{ venue }} in {{ city }} on {{ date }}":"{{ name }} in {{ city }}, {{ venue }} am {{ date }}","{{ name }} in {{ city }}":"{{ name }} in {{ city }}","{{ name }} in {{ city }} on {{ date }}":"{{ name }} in {{ city }} am {{ date }}","{{ name }} on {{ date }}":"{{ name }} am {{ date }}","{{ number }} people have taken this action so far":"{{ number }} haben bisher bei dieser Aktion mitgemacht","{{ pCenter }}Between now and Nov. 8, we are building a movement of global citizens around the U.S., who will show up and vote this election.{{ closeP }}{{ pCenter }}Citizenship starts with you.{{ br }}Be a Global Citizen.{{ closeP }}":"{{ pCenter }}Between now and Nov. 8, we are building a movement of global citizens around the U.S., who will show up and vote this election.{{ closeP }}{{ pCenter }}Citizenship starts with you.{{ br }}Be a Global Citizen.{{ closeP }}","{{ points }} point available":"{{ points }} Punkt","{{ points }} point earned":"{{ points }} verdiente Punkt","{{ points }} point to enter":"{{ points }} Punkt um teilzunehmen","{{ points }} points":"{{ points }} Punkte","{{ points }} points available":"{{ points }} Punkte","{{ points }} points earned":"{{ points }} verdiente Punkte","{{ points }} points to enter":"{{ points }} Punkte um teilzunehmen","{{ pointsOpen }}Click{{ pointsClose }} to enter":"{{ pointsOpen }}Klicke{{ pointsClose }}, um teilzunehmen","{{ pointsOpen }}{{ actions }} actions{{ pointsClose }} left to complete":"Noch {{ pointsOpen }}{{ actions }} Aktionen{{ pointsClose }} abzuschließen","{{ pointsOpen }}{{ actions }} action{{ pointsClose }} left to complete":"Noch {{ pointsOpen }}{{ actions }} Aktion{{ pointsClose }} abzuschließen","{{ pointsOpen }}{{ points }} points{{ pointsClose }} to enter":"{{ pointsOpen }}{{ points }} Punkte{{ pointsClose }} zur Teilnahme","{{ pointsOpen }}{{ points }} point{{ pointsClose }} to enter":"{{ pointsOpen }}{{ points }} Punkt{{ pointsClose }} zur Teilnahme","{{ rewardCount }} available rewards.":"{{ rewardCount }} verfügbare Rewards.","{{ state }} | {{ venue }}":"","{{ strong  }} {{points }} Point {{ closeStrong }} to redeem":"{{ strong  }} {{points }} Punkt {{ closeStrong }} zum Einlösen","{{ strong  }} {{points }} Points {{ closeStrong }} to redeem":"{{ strong  }} {{points }} Punkte {{ closeStrong }} zum Einlösen","{{ strongOpen }}Sign up for emails (optional):{{ strongClose }} Yes, please send me updates and opportunities from Global Citizen to be part of the movement to end extreme poverty.":"{{ strongOpen }} Melde dich für E-Mails an (optional):{{ strongClose }} Ja, bitte sende mir Updates und Möglichkeiten von Global Citizen, um Teil der Bewegung gegen extreme Armut zu sein.","{{ strongOpen }}Social media engagement guideline acknowledgement (required):{{ strongClose }} I have read, understood and agree to {{ provider }}'s social media {{ linkOpen }}policy{{ linkClose }}.":"{{ strongOpen }}Einverständniserklärung zu den Richtlinien für Social Media Engagement (erforderlich):{{ strongClose }} Hiermit bestätige ich, dass ich die {{ provider }} {{ linkOpen }}Social Media Richtlinien{{ linkClose }} gelesen und verstanden habe und stimme diesen hiermit ausdrücklich zu..","{{ strongOpen }}Terms and Privacy Policy agreement (required):{{ strongClose }} {{ noWrapOpen }}I have read,{{ noWrapClose }} understood and agree to:{{ lineBreak}}(i) Global Citizen’s {{ gcTermsLinkOpen }}Terms{{ linkClose }} and {{ gcPrivacyPolicyLinkOpen}}Privacy Policy{{ linkClose }}.{{ lineBreak }}(ii) granting permission to Global Citizen to provide my first name, last name, email address and country to {{ provider }} who may use my information and send to me communications related to the partnership and the platform in accordance with its {{ ssoTermsLinkOpen }}Privacy Policy{{ linkClose }}.":"","{{ textLength }}/{{ maxLength }} Characters":"{{ textLength }}/{{ maxLength }} Zeichen","{{ textLength }}/{{ minLength }} Characters":"{{ textLength }}/{{ minLength }} Zeichen","{{ tickets }} Ticket to {{ rewardName }}":"{{ tickets }} Ticket für {{ rewardName }}","{{ tickets }} Tickets to {{ rewardName }}":"{{ tickets }} Tickets für {{ rewardName }}","{{noWrapOpen}}Global Citizen's{{noWrapClose}} goal of ending extreme poverty is possible by calling on leaders to focus support behind {{noWrapOpen}}marginalized groups.{{noWrapClose}}":"Das Ziel von {{noWrapOpen}}Global Citizen{{noWrapClose}}, extreme Armut zu beenden, ist erreichbar, indem Führungskräfte aufgefordert werden, ihre Unterstützung auf {{noWrapOpen}}Randgruppen{{noWrapClose}} zu fokussieren.","{{noWrapOpen}}Global Citizen{{noWrapClose}} is a platform that helps you have your voice heard on {{noWrapOpen}}what matters{{noWrapClose}}":"{{noWrapOpen}}Global Citizen{{noWrapClose}} ist eine Plattform, die dir dort Gehör verschafft, {{noWrapOpen}}wo es drauf ankommt{{noWrapClose}}","{{spanOpen}}Hi{{spanClose}} {{ username }}{{ spanEndOpen }}!{{ spanClose }}":"{{spanOpen}}Hi{{spanClose}} {{ username }}{{ spanEndOpen }}!{{ spanClose }}","{{termsLinkOpen}}Terms and Conditions{{linkClose}}":"{{termsLinkOpen}} Allgemeine Geschäftsbedingungen {{linkClose}}",'{{totalResultCount}} result found for "{{query}}".':'{{totalResultCount}} Ergebnis für "{{query}}" gefunden.','{{totalResultCount}} results found for "{{query}}".':'{{totalResultCount}} Ergebnisse für "{{query}}" gefunden.',"{{ points }} point to enter drawing {{ br }} {{ available_tickets }} pair of tickets available":"{{ points }} Punkt für Verlosung {{ br }} {{ available","{{ points }} points to enter drawing {{ br }} {{ available_tickets }} pair of tickets available":"{{ points }} Punkte für Verlosung {{ br }} {{ available","{{ points }} point to enter drawing {{ br }} {{ available_tickets }} pairs of tickets available":"{{ points }} Punkt für Verlosung {{ br }} {{ available","{{ points }} points to enter drawing {{ br }} {{ available_tickets }} pairs of tickets available":"{{ points }} Punkte für Verlosung {{ br }} {{ available","{{ strong }}{{ days_left }} Days{{ closeStrong }} Until Drawing":"{{ strong }}{{ days","{{ strong }}{{ days_left }} Day{{ closeStrong }} Until Drawing":"{{ strong }}{{ days","{{ strong }}{{ tickets_per_winner }} Tickets{{ closeStrong }} Per Winner":"{{ strong }}{{ tickets_per","{{ strong }}{{ tickets_per_winner }} Ticket{{ closeStrong }} Per Winner":"{{ strong }}{{ tickets_per","{{ strong }}{{ total_available }} Winners{{ closeStrong }} Per Drawing":"{{ strong }}{{ total","{{ strong }}{{ total_available }} Winner{{ closeStrong }} Per Drawing":"{{ strong }}{{ total"})},es:{translation:p({" to claim Gift Aid on this donation, as well as any future donations. *":"","${cost} ${paymentType}s to enter. ":"${cost} ${paymentType}s para ingresar. ","(twenty-five MULTIPLIED BY four DIVIDED BY five PLUS fifty-seven MINUS two EQUALS)":"(veinticinco MULTIPLICADO POR cuatro DIVIDIDO POR cinco MÁS cincuenta y siete MENOS dos ES IGUAL A)","* I am a UK taxpayer. I understand that if I pay less Income Yax and/or Capital Gains Tax in the current tax year than the amount of Gift Aid claimed on my donations I must pay the difference.":"","+ {{ points }} point available":"+ {{ points }} punto disponible","+ {{ points }} points available":"+ {{ points }} puntos disponibles","1 ${paymentType} to enter.  ":"1 ${paymentType} para ingresar.  ","1 day left to enter":"queda 1 día para ingresar","1 point":"1 punto","A valid email is required":"Se requiere un correo electrónico válido","Action Completed!":"¡Acción completada!","Action in progress":"Acción en curso",Actions:"Acciones","Actions Taken to Create Change":"","Add your {{ fieldName  }} below":"Agrega tu {{ fieldName  }} a continuación","Address Name":"",Admin:"Administrador","All Events":"Todos los eventos","All you need to do is click the link in the email we just sent you to confirm your address and complete this action.":"Solo debes hacer clic en el enlace presente en el correo electrónico que acabamos de enviarte para confirmar tu dirección y completar esta acción.","Already a user?":"¿Ya eres usuario?","Already have an account?":"¿Ya tienes una cuenta?","An error has occured! Please refresh the page.":"¡Se produjo un error! Debes actualizar la página.","An error occurred. Please try again later.":"Se produjo un error. Inténtalo nuevamente más tarde.",Answered:"Respondido","Are you sure you want to delete your avatar?":"¿Estás seguro de que deseas eliminar tu avatar?","Are you sure? This will deactivate your account":"¿Estás seguro? Se desactivará tu cuenta",Articles:"Artículos","As a Global Citizen, I can contribute to helping solve the world's biggest issues by:":"Como Global Citizen, puedes ayudar a resolver los problemas más importantes del mundo con las siguientes acciones:",Back:"Regresar","Back for more actions":"Regresar para más acciones","Back for more stories":"Regresar para más historias","Back to Rewards":"Regresar a Recompensas","Become a Global Citizen":"Conviértete en miembro de Global Citizen","Become a Global Citizen to start earning points today":"Conviértete en miembro de Global Citizen para comenzar a ganar puntos hoy","Begin Quiz":"Comenzar el cuestionario","But you can still win other tickets! Check out other Rewards near you.":"¡Aún puedes ganar otras entradas! Echa un vistazo a otras recompensas cerca de ti.",By:"Por","By Month":"Por mes","By clicking Sign Up, you agree to (i) our {{termsLinkOpen}}Terms{{linkClose}} and {{privacyLinkOpen}}Privacy Policy{{linkClose}}; and (ii) grant permission to Global Citizen to provide your first name, last name, country, and email address to {{partners}}, who may send communications to you in accordance with its Privacy Policy.":"Al hacer clic en Registrarse, aceptas (i) nuestros {{termsLinkOpen}}Términos{{linkClose}} y {{privacyLinkOpen}}Política de privacidad{{linkClose}}, así como (ii) otorgar el permiso para que Global Citizen proporcione tu nombre, apellido, país y dirección de correo electrónico a {{partners}}, cuyas comunicaciones puedes recibir de acuerdo con su Política de privacidad.","By clicking Sign Up, you agree to our {{termsLinkOpen}}Terms{{linkClose}} and {{privacyLinkOpen}}Privacy Policy{{linkClose}}.":"Al hacer clic en Registrarse, aceptas nuestros {{termsLinkOpen}}Términos{{linkClose}} y {{privacyLinkOpen}}Política de privacidad{{linkClose}}.","By entering this contest, you agree to (i) our {{termsLinkOpen}}Terms{{linkClose}} and {{privacyLinkOpen}}Privacy Policy{{linkClose}}; and (ii) grant permission to Global Citizen to provide your first name, last name and email address to {{partners}}, who may send communications to you in accordance with its Privacy Policy.":"Al participar de este concurso, aceptas (i) nuestros {{termsLinkOpen}}Términos{{linkClose}} y {{privacyLinkOpen}}Política de privacidad{{linkClose}}, así como (ii) otorgar el permiso para que Global Citizen proporcione tu nombre, apellido y dirección de correo electrónico a {{partners}}, cuyas comunicaciones puedes recibir de acuerdo con su Política de privacidad.","By what year does Global Citizen want to end extreme poverty?":"¿Para qué año Global Citizen desea poner fin a la pobreza extrema?","Call now":"Llama ahora","Canadian law requires that you correctly answer the skill testing question below.  Kindly answer the question and provide us with your response.":"La legislación canadiense requiere que contestes correctamente la pregunta de destreza a continuación. Tómate un momento para responder la pregunta y proporcionar una respuesta.","Change Email":"Cambiar correo electrónico","Choose an amount:":"","Choose language":"Sélectionnez votre langue","Choose which show you would like to enter":"Elige a qué espectáculo deseas ingresar","City/State":"Ciudad/Estado","Click for events near you":"Haz clic para ver los eventos cerca de ti","Click here to get started":"Haz clic aquí para comenzar","Click here to resend confirmation email":"Haz clic aquí para reenviar el correo electrónico de confirmación","Closing Soon":"Por finalizar","Closing soon":"Por finalizar","Complete all actions to enter":"Completa todas las acciones para ingresar",Completed:"Completo","Confirm your email":"Confirma tu dirección de correo electrónico","Confirmation email sent":"Correo electrónico de confirmación enviado","Congrats, you've completed all the actions!":"Felicitaciones, ¡has completado todas las acciones!","Congratulations! You're officially a Global Citizen.":"¡Felicitaciones! Eres miembro de Global Citizen de manera oficial.","Continue Taking Action":"Continuar emprendiendo acciones","Continue taking Action":"Continuar emprendiendo acciones","Copied!":"¡Copiado!","Copy link":"Copiar enlace","Copy the following Offer Code:":"Copiar el siguiente código de oferta:",Country:"País","Create a password that is at least 6 characters long with one number and one letter.":"Crea una contraseña que cuente con una extensión mínima de 6 caracteres que incluyan una letra y un número.","Day Until Drawing Closes":"Día hasta el cierre del sorteo","Days Until Drawing Closes":"Días hasta el cierre del sorteo","Days until draw date":"Días hasta la fecha del sorteo",Disability:"Discapacidad",Donate:"Donar","Donate now:":"","Donation was canceled":"","Drawing date\\n (Melbourne Time)":"Fecha del sorteo\\n (Hora de Melbourne)","Earn 1 point for every friend, who register to become Global Citizens with your link.":"Gana 1 punto por cada amigo que se registre con tu enlace para convertirse en miembro de Global Citizen.","Earn Rewards":"","Earn more points to enter":"Gana más puntos para ingresar","Earn points for doing your part in the fight to end poverty":"Gana puntos por contribuir en la lucha contra la pobreza","Earn {{ points }} point":"Gana {{ points }} punto","Earn {{ points }} points":"Gana {{ points }} puntos",Email:"Correo electrónico","Email Address":"Dirección de correo electrónico",Enter:"Ingresar","Enter a valid phone number.":"Ingresa un número de teléfono válido.","Enter now":"Ingresar ahora","Enter to win":"Ingresa para ganar","Enter your email & learn how to earn your tickets for the festival on 6 July 2017":"Ingresa tu correo electrónico y conoce cómo ganar tus entradas para el festival del 6 de julio de 2017","Enter your email to learn more about solving the world's biggest challenges.":"Ingresa tu correo electrónico para conocer más acerca de cómo resolver los desafíos más importantes del mundo.",Entered:"Ingresado",Entries:"Entradas","Entries to this reward have not opened yet":"Las entradas para esta recompensa no se han abierto aún.","Entries to this reward have now closed":"Los ingresos a esta recompensa ya se cerraron",Ethnicity:"Etnia","Final day to enter":"Último día para ingresar","Finish quiz":"Terminar el cuestionario","First Name":"Nombre",Follow:"Seguir","Follow issue":"Seguir asunto","Follow these issues":"Seguir estos asuntos",Following:"Siguiendo","Full Name":"","Full terms and conditions for this reward can be found {{termsLinkOpen}}here{{linkClose}}":"Términos y Condiciones para esta recompensa se pueden encontrar {{termsLinkOpen}}aquí{{linkClose}}",Gender:"Género","Get your friends to join the movement.":"Haz que tus amigos se unan al movimiento.","Global Citizen":"Global Citizen","Global Citizen Festival in Hamburg":"Festival de Global Citizen en Hamburgo","Global Citizen Rewards":"Recompensas de Global Citizen","Global Citizen is a growing movement of people across the planet taking action to solve the world's biggest challenges. Thanks to your friend {{ referralName }}, you're invited to become a Global Citizen.":"Global Citizen es un creciente movimiento de personas de todo el planeta que emprenden acciones para resolver los desafíos más importantes del mundo. Gracias a tu amigo {{ referralName }}, estás invitado a convertirte en miembro de Global Citizen.","Global Citizen is a movement of engaged citizens who are using their collective voice to end extreme poverty by 2030. On our platform, Global Citizens learn about the systemic causes of extreme poverty, take action on those issues, and earn rewards for their actions ${'\\u2014'} as part of a global community committed to lasting change.":"Global Citizen es un movimiento de ciudadanos comprometidos que usan su voz colectiva para acabar con la pobreza extrema para el 2030. En nuestra plataforma, los miembros de Global Citizen aprenden sobre las causas sistémicas de la pobreza extrema, emprenden acciones sobre esos problemas y obtienen recompensas por sus acciones ${'\\u2014'} como parte de una comunidad global comprometida por lograr un cambio duradero.","Go To Ticketmaster":"Ir a Ticketmaster","Go to the Ticketmaster website, enter the code, and follow the instruction.":"Ve al sitio web de Ticketmaster, ingresa el código y sigue las instrucciones.","Great! Thanks for downloading the Global Citizen app.":"¡Excelente! Gracias por descargar la aplicación de Global Citizen","Hey, we‘ve noticed your friends haven’t signed up yet.":"Oye, notamos que tus amigos aún no se registraron.",How:"Cómo","How it works":"Cómo funciona","I just entered to win tickets to {{ name }}. Enter now at ":"Acabo de participar para ganar entradas para {{ name }}. Participa ahora en","I've read, understood and agree to Global Citizen’s {{ gcTermsLinkOpen }}Terms{{ linkClose }} and {{ gcPrivacyPolicyLinkOpen}}Privacy Policy{{ linkClose }}.":"He leído, comprendo y acepto los {{ gcTermsLinkOpen }}Términos{{ linkClose }} y la {{ gcPrivacyPolicyLinkOpen}}Política de privacidad{{ linkClose }} de Global Citizen.","If your Facebook account does not have an attached e-mail address, you'll need to add that before you can sign up.":"Si tu cuenta de Facebook no está asociada a una dirección de correo electrónico, deberás agregarla antes de poder registrarte.",Ignored:"Ignorado","In Partnership With":"En asociación con","In order to check in we need access to your location. Please enable location services for your web browser in your phone settings.":"Para poder realizar tu registro, necesitamos contar con acceso a tu ubicación. Habilita los servicios de ubicación de tu navegador web en la configuración de tu teléfono.","In partnership with":"En asociación con","It Starts with {{highlightOpen}}You{{spanClose}}.":"","It all starts with becoming a Global Citizen.":"Todo comienza al convertirte en miembro de Global Citizen.","Join the movement":"Únete al movimiento","Join us. Be the Generation.":"Únete a nosotros. Sé parte de la Generación.",LGBTI:"LGBTI",Language:"Idioma","Last Name":"Apellido",Learn:"Learn","Learn More":"Obtener más información","Learn More by Issue":"Obtén más información por problema.","Learn more":"Aprende más","Learn more and register to vote":"Obtén más información y regístrate para votar","Leave your message":"Deja tu mensaje","Let us know who you are to start taking action!":"¡Cuéntanos quién eres para comenzar a emprender acciones!","Live Site":"",'Loading search results for "{{query}}"...':'Cargando resultados de búsqueda para "{{query}}"...',"Loading your location...":"Cargando tu ubicación...","Loading...":"Cargando...","Log in":"Iniciar sesión","Looks like you've been disconnected or haven't received our call.\\n\\n Make sure your phone number is correct and try again!":"Parece que te has desconectado o no has recibido nuestra llamada.\n\n Asegúrate de que tu número de teléfono sea correcto e inténtalo de nuevo.","Make a donation now to support the work of":"","Make sure to check your spam folder, in case your email provider has incorrectly labelled it as spam.":"Asegúrate de verificar tu carpeta de correo no deseado en caso de que tu proveedor de correo electrónico lo haya clasificado incorrectamente.","Making an Impact":"Lograr un impacto",Map:"Mapa","More Info":"Más información","Near me":"Cerca de mí",Next:"Siguiente","Next question":"Próxima pregunta",No:"No","No actions found, try selecting other issues":"","No results were found matching your search criteria":"No se encontraron resultados que coincidan con tu búsqueda","Not a Global Citizen yet?":"¿Todavía no eres miembro de Global Citizen?","Not seeing the email?":"¿No puedes ver el correo electrónico?","Oh No! Something went wrong":"¡Oh, no! Se produjo un error.","One more step":"Un paso más","Oops please enter valid email":"Ups, ingresa un correo electrónico válido","Our mission is to build the largest possible movement of global citizens taking action to solve the world's biggest challenges.":"Nuestra misión es crear el movimiento más grande posible de miembros de Global Citizen que emprendan acciones para resolver los desafíos más importantes del mundo.",Password:"Contraseña","Password is required":"Se requiere la contraseña","Please allow access to your location to find events near you.":"Permite el acceso a tu ubicación para encontrar eventos cerca de ti.","Please answer the following skill testing question before you can enter":"Responde la siguiente pregunta de prueba de habilidad antes de ingresar.","Please choose an answer.":"Elige una respuesta.","Please confirm that you agree to the {{ termsLinkOpen }}Global Citizen Rewards Terms and Conditions{{ termsLinkClose}} and would like to use {{ pointsOpen }}{{ points }} points{{ pointsClose }} to enter the drawing by clicking the button below.":"Confirma que aceptas los {{ termsLinkOpen }}Términos y condiciones de las recompensas de Global Citizen{{ termsLinkClose}} y que deseas usar {{ pointsOpen }}{{ points }} puntos{{ pointsClose }} para ingresar al sorteo al hacer clic en el botón a continuación.","Please confirm that you agree to the {{ termsLinkOpen }}Global Citizen Rewards Terms and Conditions{{ termsLinkClose}} and would like to use {{ pointsOpen }}{{ points }} point{{ pointsClose }} to enter the drawing by clicking the button below.":"Confirma que aceptas los {{ termsLinkOpen }}Términos y condiciones de las recompensas de Global Citizen{{ termsLinkClose}} y que deseas usar {{ pointsOpen }}{{ points }} puntos{{ pointsClose }} para ingresar al sorteo al hacer clic en el botón a continuación.","Please provide my name, email address and country to {{ openSpan }}{{ partnerName }}{{ closeSpan }} so that they can keep me up to date on this campaign and others.":"Proporcione mi nombre, dirección de correo electrónico y país a {{ openSpan }}{{ partnerName }}{{ closeSpan }} para que puedan mantenerme actualizado sobre esta campaña y otras.","Please refresh the page when the call has ended.":"Actualiza la página cuando la llamada haya finalizado.","Please try again":"Vuelve a intentarlo",Points:"Puntos",Poll:"Encuesta","Post Tweet":"Publicar tweet","Postal Code":"Código postal",Profile:"Perfil",Published:"Publicado","Question {{ questionNumber }} of {{ total }}":"Pregunta {{ questionNumber }} de {{ total }}",REGISTER:"REGISTRARSE","Re-enter Password":"Ingresa la contraseña nuevamente","Read More":"Leer más","Read more":"Leer más","Read more.":"Leer más.","Read the latest stories to learn more about {{noWrapOpen}}the issues.{{noWrapClose}}":"","Receive alerts about the world's biggest challenges.":"Recibe alertas acerca de los desafíos más importantes del mundo.","Recent recruits":"Reclutas recientes","Recommended Stories":"Historias recomendadas","Recommended because you follow {{ reasons }}.":"Se recomendó porque sigues a {{ reasons }}.","Redeem points for a chance to win tickets to your favorite events":"Canjea puntos para poder ganar entradas para tus eventos favoritos","Refer friends":"Recomienda a amigos","Refine Results":"Ajustar resultados",Required:"","Resend Verification Email":"Reenviar correo electrónico de verificación","Reset your filters and view all available rewards.":"Restablece tus filtros y ve todas las recompensas disponibles.",Retry:"Intentarlo nuevamente",Reward:"Recompensa",Rewards:"Recompensas","SIGN UP":"REGISTRARSE","STRIPE successfully connected":"STRIPE conectado correctamente","SUPPORTED BY":"","Score Now":"Calificar ahora",Scored:"Calificadas",Search:"Buscar","Search rewards...":"Buscar recompensas...","See all info.":"Ve toda la información.","See details":"Ver detalles","Sept 24":"24 de septiembre","Set up a password for your new profile.":"Establece una contraseña para tu nuevo perfil.",Settings:"Configuración",Share:"Compartir","Share on Facebook":"Compartir en Facebook","Share on Twitter":"Compartir en Twitter","Share on Whatsapp":"Compartir en WhatsApp","Share on Workplace":"","Share with Email":"Compartir con correo electrónico","Share with Facebook Messenger":"Compartir con Facebook Messenger","Share your invite link":"Comparte tu enlace de invitación","Showing page {{currentPage}} of {{totalPages}}.":"Mostrando página {{currentPage}} de {{totalPages}}.",ShowupVote:"ShowupVote","Sign In":"Iniciar sesión","Sign In with Facebook":"Iniciar sesión con Facebook","Sign Up":"Registrarse","Sign Up with Facebook":"Registrarse con Facebook","Sign in":"Iniciar sesión","Sign in to redeem rewards":"Inicia sesión para canjear recompensas","Sign into your account":" Iniciar Sesión","Sign out":"Cerrar sesión","Sign petitions, send emails, tweet, and call your {{noWrapOpen}}world leaders.{{noWrapClose}}":"","Sign up":"Registrarse","Sign up and be the first to know the latest":"Regístrate y sé la primera persona en saber las últimas novedades","Sign up for emails (optional): ":"Suscríbete para recibir correos electrónicos (opcional):","Sign up to Enter":"Regístrate para ingresar","Sign up to claim your points and earn rewards, like tickets to shows by your favorite artists.":"Inscríbete para reclamar tus puntos y ganar recompensas, como entradas para espectáculos de tus artistas favoritos.","Sign up to win tickets":"Regístrate para ganar entradas","Sign up today and receive your bonus point to get started. The more actions you take as a Global Citizen, the more points you earn. You can redeem those points for the chance to win rewards like Festival tickets.":"Regístrate hoy y recibe puntos adicionales para comenzar. Mientras más acciones emprendas como miembro de Global Citizen, más puntos ganarás. Puedes canjear esos puntos por la posibilidad de ganar recompensas como entradas al Festival.","Sign up with your {{ provider }} account":"Regístrate con tu cuenta de {{ provider }}","Sign up\x3c!-- Germany Festival Modal --\x3e":"Registrarse\x3c!-- Germany Festival Modal --\x3e","Skip for now >>":"Omitir por ahora >>","Skip this for now >":"Omitir esto por ahora >","Skip to Sign Up":"Pasar a Registro","Something went wrong":"Se produjo un error.","Sort By:":"Ordenar por:","Stay up to date":"Mantente actualizado","Step {{ current }} of {{ total }}: ":"Paso {{ current }} de {{ total }}: ",Submit:"Enviar","Submit answer":"Enviar respuesta","Take Action":"Pasa a la acción","Take Action Now":"Emprender acciones ahora","Take More Action":"Emprender más acciones","Take action":"Pasa a la acción","Take action to enter":"Emprende acciones para ingresar","Terms and Privacy Policy agreement (required): ":"Acuerdo de Términos y Política de privacidad (obligatorio):","Thank You":"","Thank you for completing this action!":"¡Gracias por completar esta acción!","Thank you for your donation!":"¡Gracias por tu donación!","Thank you!":"¡Gracias!","Thanks for Entering!":"¡Gracias por ingresar!","Thanks for signing up as a global citizen. In order to create your account we need you to provide your email address. You can check out our {{linkOpen}}Privacy Policy{{linkClose}} to see how we safeguard and use the information you provide us with.":"Gracias por registrarte para ser miembro de Global Citizen. Para poder crear tu cuenta, debes proporcionarnos tu dirección de correo electrónico. Puedes echarle un vistazo a nuestra {{linkOpen}}Política de privacidad{{linkClose}} para ver cómo resguardamos y usamos la información que compartes con nosotros.","Thanks for signing up!":"¡Gracias por registrarte!","Thanks for taking action.":"Gracias por emprender acciones.","That email appears incorrect. Did you mean {{ didYouMean }}?":"","The answer cannot be blank":"La respuesta no puede estar vacía","The answer was incorrect. Please try again.":"La respuesta fue incorrecta. Inténtalo nuevamente.","The drawing for these tickets has already closed":"El sorteo para estas entradas ya se ha cerrado","There are currently no rewards available in your country. {{ rewardLinkOpen }}Click here{{ rewardLinkClose }} to view all of our available rewards":"Actualmente no hay recompensas disponibles en tu país. {{ rewardLinkOpen }}Haz clic aquí{{ rewardLinkClose }} para ver todas nuestras recompensas disponibles","This action can only be completed between {{ start }} and {{ end }}{{ weekdays }}. Please check back later to take this action.":"Esta acción solo se puede completar entre {{ start }} y {{ end }}{{ weekdays }}. Vuelve a chequear más tarde para emprender esta acción.","This action is not available in your country":"Esta acción no está disponible en tu país.","This action is only available to users in {{ countryName }}.\\n\\nPlease update your country and try again.":"Esta acción solo está disponible para los usuarios de {{ countryName }}.\n\nActualiza tu país e inténtalo nuevamente.","This site uses cookies to provide you with the best experience.":"Este sitio emplea cookies para proporcionarte la mejor experiencia posible.","Ticket Per Winner":"Entrada por ganador","Tickets Per Winner":"Entradas por ganador","To know about":"Conocer acerca de","To know about Sept 24":"Conocer acerca del 24 de septiembre","Try Again":"Inténtalo nuevamente",Tweet:"Tweet",Unfollow:"Dejar de seguir","Unfollow issue":"Dejar de seguir el asunto","Up Next":"Siguiente",Upcoming:"Próximos",Update:"Actualizar","Update status":"Actualizar estado","Use template":"Usa nuestra plantilla","Use your points from action-taking to enter to win {{noWrapOpen}}exclusive rewards.{{noWrapClose}}":"",Venue:"Lugar",Videos:"Videos","View Details":"Ver detalles","View rewards":"Ver recompensas","We are one human race. But in many places around the world, people are judged and discriminated against because of their race or ethnicity due to prejudice that is ingrained in cultures and {{noWrapOpen}}societal norms.{{noWrapClose}}":"","We are partnering with {{noWrapOpen}}Global Citizen{{spanClose}} to tackle {{highlightOpen}}prejudice{{spanClose}} and {{highlightOpen}}discrimination{{spanClose}} on a global scale through {{noWrapOpen}}{{highlightOpen}}action-taking{{spanClose}} and {{highlightOpen}}advocacy{{spanClose}}{{spanClose}}":"Nos asociamos con {{noWrapOpen}}Global Citizen{{spanClose}} para derribar el {{highlightOpen}}prejuicio{{spanClose}} y la {{highlightOpen}}discriminación{{spanClose}} a escala mundial a través de la {{noWrapOpen}}{{highlightOpen}}toma de acciones{{spanClose}} y la {{highlightOpen}}defensa{{spanClose}}{{spanClose}}","We are unable to find your representative's twitter handle.":"No pudimos encontrar el nombre de usuario de Twitter de tu representante.","We can't find your MP. Please update your address and try again.":"No fue posible encontrar a tu miembro del parlamento. Actualiza tu dirección e inténtalo nuevamente.","We can't find your MP. Please update your postal code and try again.":"No fue posible encontrar a tu miembro del parlamento. Actualiza tu código postal e inténtalo nuevamente.","We can't find your Representative. Please update your address and try again.":"No fue posible encontrar a tu representante. Actualiza tu dirección e inténtalo nuevamente.","We can't find your Representative. Please update your postal code and try again.":"No fue posible encontrar a tu representante. Actualiza tu código postal e inténtalo nuevamente.","We can't find your Senator. Please update your address and try again.":"No fue posible encontrar a tu senador. Actualiza tu dirección e inténtalo nuevamente.","We can't find your Senator. Please update your postal code and try again.":"No fue posible encontrar a tu senador. Actualiza tu código postal e inténtalo nuevamente.","We can't find your local newspaper. Please update your address and try again.":"","We can't find your local newspaper. Please update your postal code and try again.":"","We can't find your state newspaper. Please update your address and try again.":"","We can't find your state newspaper. Please update your postal code and try again.":"","We can't find your store. Please update your address and try again.":"No fue posible encontrar a tu tienda. Actualiza tu dirección e inténtalo nuevamente.","We can't find your store. Please update your postal code and try again.":"No fue posible encontrar a tu tienda. Actualiza tu código postal e inténtalo nuevamente.","We partnered with {{noWrapOpen}}Global Citizen{{noWrapClose}} on our first disability campaign want to build a world that is more inclusive and accessible for people with disabilities. We want to champion that we are all are {{noWrapOpen}}differently-abled.{{noWrapClose}}":"","We stand for you":"Te apoyamos","We want to create an equal world where everyone is free to express themselves, and create a diverse and inclusive organization, where everyone can bring their whole self {{noWrapOpen}}to work.{{noWrapClose}}":"","We will email you as soon as our partner has confirmed that you have completed the action with them and your points have been awarded.":"Te enviaremos un correo electrónico apenas nuestro socio confirme que has completado la acción con ellos y que se te han concedido los puntos.","We will let you know if you are a winner after the drawing on {{ date }}. Best of luck!":"Te avisaremos si eres el ganador luego del sorteo del {{ date }}. ¡Mucha suerte!","We'll email you soon with the latest.":"Pronto te enviaremos un correo electrónico con las últimas noticias.","We're looking to promote the empowerment of girls & women for building healthier, better-educated, and more {{noWrapOpen}}prosperous communities.{{noWrapClose}}":"","We're sorry but the phone number you provided is outside our coverage range. \\n\\n You can still add your voice to the movement by calling the target directly at {{ phoneNumber }} or please refresh the page and provide an alternative number.":"Lo sentimos, pero el número de teléfono que proporcionaste se encuentra fuera de nuestro rango de cobertura. \n\n Puedes agregar tu voz al movimiento de todas formas al llamar al destinatario directamente al {{ phoneNumber }}, o actualiza la página y proporciona un número alternativo.","Welcome Back! Sign in.":"¡Te damos la bienvenida otra vez! Inicia sesión.","Welcome back, {{ name }}!":"Bienvenido, {{ name }}!","Welcome, {{ name }}!":"Bienvenido, {{ name }}!","We’ve sent you an email. Please click the link in the message, then refresh this page.":"Te hemos enviado un correo electrónico. Haz clic en el enlace del mensaje y luego actualiza esta página.",What:"Recompensa","What is this content piece?":"","What issues are you most passionate about?":"¿Qué asuntos te interesan más?","What to Know":"Qué hay que saber",When:"Fecha",'When your friends sign up, their names will appear in the "Recent recruit" section on this page. If you have any issues please get in touch with us at':'Cuando tus amigos se registren, sus nombres aparecerán en la sección "Reclutas recientes" de esta página. Si tienes algún problema, contáctate con nosotros a través de',Where:"Ubicación",Why:"Por qué","Win rewards":"Gana recompensas",Winner:"Ganador",Winners:"Ganadores",Yes:"Sí","Yes, I'd like":"","Yes, please send me updates and opportunities from {{ gcLinkOpen }}Global Citizen{{ linkClose}} to be part of the movement to end extreme poverty.":"Sí, por favor, envíenme actualizaciones y oportunidades de {{ gcLinkOpen }}Global Citizen{{ linkClose}} para ser parte del movimiento para acabar con la pobreza extrema.","You answered {{ correctCount }} of {{ total }} correctly":"Respondiste {{ correctCount }} de {{ total }} correctamente","You are already signed in!":"¡Ya has iniciado sesión!","You can get informed, take action, and meet other like-minded change-makers. It has never been easier to make a real positive impact!":"Puedes informarte, actuar y conocer a otros agentes del cambio que piensen como tú. ¡Nunca fue tan fácil lograr un impacto positivo real!","You have 1 point available. Great work! Treat yourself to some awesome rewards.":"Tienes 1 punto disponible. ¡Bien hecho! Regálate algunas recompensas asombrosas.","You have completed all available actions. Thank you for doing your part to end extreme poverty!":"Ya completaste todas las acciones disponibles. Gracias por hacer tu parte para terminar con la pobreza extrema.","You have no points available. Go earn more points by {{ openLink }}taking action{{ closeLink}}!":"No tienes puntos disponibles. ¡Gana más puntos {{ openLink }}actuando{{ closeLink}}!","You have {{ points }} points available. Great work! Treat yourself to some awesome rewards.":"Tienes {{ points }} puntos disponibles. ¡Excelente trabajo! Deléitate con increíbles recompensas.","You need {{ points }} more point":"Necesitas {{ points }} punto más","You need {{ points }} more points":"Necesitas {{ points }} puntos más","You will be the first":"Serás el primero","You've answered {{answerCount}} correctly":"Has respondido {{answerCount}} correctamente.","You've completed this action":"Completaste todas las acciones","You've completed this campaign.":"","You've earned {{ openPoints }}{{ points }}{{ closeSpan }}!":"¡Ganaste {{ openPoints }}{{ points }}{{ closeSpan}}!","You've earned {{ pointsString }}!":"¡Ganaste {{ pointsString }!","You've earned {{ spanOpen }}{{ points }} point!{{ spanClose}}":"¡Ganaste {{ spanOpen }}{{ points }} punto!{{ spanClose}}","You've earned {{ spanOpen }}{{ points }} points!{{ spanClose}}":"¡Ganaste {{ spanOpen }}{{ points }} puntos!{{ spanClose}}","You've entered to win tickets!":"¡Ya participas para ganar entradas!","Your MP":"Tu MP","Your MPs":"Tus MP","Your Representative":"Tu representante","Your Representatives":"Tus representantes","Your Senator":"Tu senador","Your Senators":"Tus senadores","Your Store":"Tu tienda","Your Stores":"Tus tiendas","Your actions really do make a difference and every action you take earns you points that you can use to enter to win awesome experiences and rewards. Read more about your impact {{ linkStart }}here{{ linkEnd }}.":"Tus acciones realmente hacen una diferencia y cada acción que realizas te otorga puntos que puedes usar para tener la posibilidad de ganar increíbles experiencias y recompensas. Lee más acerca de tu impacto {{ linkStart }}aquí{{ linkEnd }}.","Your actions really do make a difference! Learn more about your impact {{ openAnchor }}here{{ closeAnchor}}.":"¡Tus acciones hacen la diferencia! Aprende más sobre tu impacto {{ openAnchor }}aquí{{ closeAnchor}}.","Your email has been sent":"Se envió tu correo electrónico","Your email will not be sent until you click the link in the email":"Tu correo electrónico no se enviará hasta que hagas clic en el enlace presente en el correo electrónico.","Your local newspaper":"","Your local newspapers":"","Your password must be at least 6 characters":"Tu contraseña debe incluir un mínimo de 6 caracteres","Your password must contain at least one number and letter":"Tu contraseña debe incluir al menos un número y una letra","Your state newspaper":"","Your state newspapers":"","actions taken":"acciones realizadas",address:"dirección","and ":"y","checked in":"inició sesión","completed an action":"completó una acción",date:"fecha","for your points.":"para tus puntos.","in partnership with":"En asociación con","made a call":"realizó una llamada",or:"o",point:"punto",points:"puntos","postal code":"código postal",relevance:"relevancia","sent an email":"envió un correo electrónico","signed a petition":"firmó una petición","take action":"Pasa a la acción","these are not my MPs":"Estos no son mis MP","these are not my Representatives":"Estos no son mis representantes","these are not my Senators":"Estos no son mis senadores","these are not my Stores":"Estas no son mis tiendas","these are not my local newspapers":"","these are not my state newspapers":"","this is not my MP":"Este no es mi MP","this is not my Representative":"Este no es mi representante","this is not my Senator":"Este no es mi senador","this is not my Store":"Esta no es mi tienda","this is not my local newspaper":"","this is not my state newspaper":"",tweeted:"publicó un tweet","{{ city }} | {{ venue }}":"","{{ city }}, {{ state }} | {{ venue }}":"{{ city }}, {{ state }} | {{ venue }}","{{ daysLeft }} day left to enter":"{{ daysLeft }} días restantes para ingresar","{{ daysLeft }} days left to enter":"{{ daysLeft }} días restantes para ingresar","{{ h2 }}<p>CENTRAL PARK</p>{{ headlineDate }}09.23.2017{{ closeP }}{{ closeH2 }} {{ h1 }}GL{{headlineHighlightAlt}}O{{ spanClose }}BAL {{ headlineHighlight }}CITIZEN{{ spanClose }} {{ headlineSmall }}FESTIVAL{{ spanClose }}{{ closeH1 }}":"{{ h2 }}<p>CENTRAL PARK</p>{{ headlineDate }}23/09/2017{{ closeP }}{{ closeH2 }} {{ h1 }}GL{{headlineHighlightAlt}}O{{ spanClose }}BAL {{ headlineHighlight }}CITIZEN{{ spanClose }} {{ headlineSmall }}FESTIVAL{{ spanClose }}{{ closeH1 }}","{{ h2 }}Thank you{{ closeH2 }} {{ h2}}for joining the movement{{ closeH2 }}":"{{ h2 }}Gracias{{ closeH2 }} {{ h2}}por unirte al movimiento{{ closeH2 }}","{{ icon }} Language":"{{ icon }} Idioma","{{ name }}":"{{ name }}","{{ name }} at {{ venue }} in {{ city }} on {{ date }}":"{{ name }} a {{ venue }} en {{ city }} el {{ date }}","{{ name }} in {{ city }}":"{{ name }} en {{ city }}","{{ name }} in {{ city }} on {{ date }}":"{{ name }} en {{ city }} el {{ date }}","{{ name }} on {{ date }}":"{{ name }} el {{ date }}","{{ number }} people have taken this action so far":"{{ number }} personas emprendieron esta acción hasta el momento","{{ pCenter }}Between now and Nov. 8, we are building a movement of global citizens around the U.S., who will show up and vote this election.{{ closeP }}{{ pCenter }}Citizenship starts with you.{{ br }}Be a Global Citizen.{{ closeP }}":"{{ pCenter }}A partir de hoy y hasta el 8 de noviembre, impulsaremos un movimiento de ciudadanos globales en los EE. UU., que se presentarán y realizarán elecciones.{{ closeP }}{{ pCenter }}La ciudadanía inicia contigo.{{ br }}Conviértete en miembro de Global Citizen.{{ closeP }}","{{ points }} point available":"{{ points }} punto disponible","{{ points }} point earned":"{{ points }} punto ganado","{{ points }} point to enter":"{{ points }} punto para participar","{{ points }} points":"{{ points }} puntos","{{ points }} points available":"{{ points }} puntos disponibles","{{ points }} points earned":"{{ points }} puntos ganados","{{ points }} points to enter":"{{ points }} puntos para participar","{{ pointsOpen }}Click{{ pointsClose }} to enter":"{{ pointsOpen }}}Haz clic{ pointsClose }}} para ingresar.","{{ pointsOpen }}{{ actions }} actions{{ pointsClose }} left to complete":"{{ pointsOpen }}{{ actions }} acciones{{ pointsClose }} restantes","{{ pointsOpen }}{{ actions }} action{{ pointsClose }} left to complete":"{{ pointsOpen }}{{ actions }} acción{{ pointsClose }} restante","{{ pointsOpen }}{{ points }} points{{ pointsClose }} to enter":"{{ pointsOpen }}{{ points }} puntos{{ pointsClose }} para ingresar","{{ pointsOpen }}{{ points }} point{{ pointsClose }} to enter":"{{ pointsOpen }}{{ points }} punto{{ pointsClose }} para ingresar","{{ rewardCount }} available rewards.":"{{ rewardCount }} recompensas disponibles.","{{ state }} | {{ venue }}":"","{{ strong  }} {{points }} Point {{ closeStrong }} to redeem":"{{ strong  }} {{points }} Punto {{ closeStrong }} para canjear","{{ strong  }} {{points }} Points {{ closeStrong }} to redeem":"{{ strong  }} {{points }} Puntos {{ closeStrong }} para canjear","{{ strongOpen }}Sign up for emails (optional):{{ strongClose }} Yes, please send me updates and opportunities from Global Citizen to be part of the movement to end extreme poverty.":"{{ strongOpen}} Regístrate para recibir correos electrónicos (opcional):{{ strongClose }} Sí, deseo recibir actualizaciones y oportunidades de Global Citizen para ser parte del movimiento cuyo objetivo es acabar con la pobreza extrema","{{ strongOpen }}Social media engagement guideline acknowledgement (required):{{ strongClose }} I have read, understood and agree to {{ provider }}'s social media {{ linkOpen }}policy{{ linkClose }}.":"{{ strongOpen }}Políticas de seguridad requeridas para redes sociales (Requeridas):{{ strongClose }} Reconozco que he leído, comprendido y aceptado sujetarme a las {{ linkOpen }}políticas de redes sociales{{ linkClose }} de {{ provider }}.","{{ strongOpen }}Terms and Privacy Policy agreement (required):{{ strongClose }} {{ noWrapOpen }}I have read,{{ noWrapClose }} understood and agree to:{{ lineBreak}}(i) Global Citizen’s {{ gcTermsLinkOpen }}Terms{{ linkClose }} and {{ gcPrivacyPolicyLinkOpen}}Privacy Policy{{ linkClose }}.{{ lineBreak }}(ii) granting permission to Global Citizen to provide my first name, last name, email address and country to {{ provider }} who may use my information and send to me communications related to the partnership and the platform in accordance with its {{ ssoTermsLinkOpen }}Privacy Policy{{ linkClose }}.":"","{{ textLength }}/{{ maxLength }} Characters":"{{ textLength }}/{{ maxLength }} caracteres","{{ textLength }}/{{ minLength }} Characters":"{{ textLength }}/{{ minLength }} caracteres","{{ tickets }} Ticket to {{ rewardName }}":"{{ tickets }} Entrada para {{ rewardName }}","{{ tickets }} Tickets to {{ rewardName }}":"{{ tickets }} Entradas para {{ rewardName }}","{{noWrapOpen}}Global Citizen's{{noWrapClose}} goal of ending extreme poverty is possible by calling on leaders to focus support behind {{noWrapOpen}}marginalized groups.{{noWrapClose}}":"Es posible alcanzar el objetivo de {{noWrapOpen}}Global Citizen{{noWrapClose}} de eliminar la pobreza extrema si se solicita a los líderes que aumenten el apoyo detrás de los {{noWrapOpen}}grupos marginalizados.{{noWrapClose}}","{{noWrapOpen}}Global Citizen{{noWrapClose}} is a platform that helps you have your voice heard on {{noWrapOpen}}what matters{{noWrapClose}}":"{{noWrapOpen}}Global Citizen{{noWrapClose}} es una plataforma que te ayuda a hacer oír tu voz en cuanto a {{noWrapOpen}}las problemáticas más relevantes{{noWrapClose}}","{{spanOpen}}Hi{{spanClose}} {{ username }}{{ spanEndOpen }}!{{ spanClose }}":"{{spanOpen}}¡Hola,{{spanClose}} {{ username }}{{ spanEndOpen }}!{{ spanClose }}","{{termsLinkOpen}}Terms and Conditions{{linkClose}}":"{{termsLinkOpen}}Términos y condiciones{{linkClose}}",'{{totalResultCount}} result found for "{{query}}".':'{{totalResultCount}} resultado encontrado para "{{query}}".','{{totalResultCount}} results found for "{{query}}".':'{{totalResultCount}} resultados encontrados para "{{query}}".',"{{ points }} point to enter drawing {{ br }} {{ available_tickets }} pair of tickets available":"{{ points }} punto para participar del sorteo {{ br }} {{ disponible","{{ points }} points to enter drawing {{ br }} {{ available_tickets }} pair of tickets available":"{{ points }} puntos para participar del sorteo {{ br }} {{ disponible","{{ points }} point to enter drawing {{ br }} {{ available_tickets }} pairs of tickets available":"{{ points }} punto para participar del sorteo {{ br }} {{ disponible","{{ points }} points to enter drawing {{ br }} {{ available_tickets }} pairs of tickets available":"{{ points }} puntos para participar del sorteo {{ br }} {{ disponible","{{ strong }}{{ days_left }} Days{{ closeStrong }} Until Drawing":"{{ strong }}{{ días","{{ strong }}{{ days_left }} Day{{ closeStrong }} Until Drawing":"{{ strong }}{{ días","{{ strong }}{{ tickets_per_winner }} Tickets{{ closeStrong }} Per Winner":"{{ strong }}{{ tickets_per","{{ strong }}{{ tickets_per_winner }} Ticket{{ closeStrong }} Per Winner":"{{ strong }}{{ tickets_per","{{ strong }}{{ total_available }} Winners{{ closeStrong }} Per Drawing":"{{ strong }}{{ total","{{ strong }}{{ total_available }} Winner{{ closeStrong }} Per Drawing":"{{ strong }}{{ total"})},fr:{translation:p({" to claim Gift Aid on this donation, as well as any future donations. *":"","${cost} ${paymentType}s to enter. ":"${cost} ${paymentType}s pour participer. ","(twenty-five MULTIPLIED BY four DIVIDED BY five PLUS fifty-seven MINUS two EQUALS)":"(vingt-cinq MULTIPLIÉ PAR quatre DIVISÉ PAR cinq PLUS cinquante-sept MOINS deux ÉGALE)","* I am a UK taxpayer. I understand that if I pay less Income Yax and/or Capital Gains Tax in the current tax year than the amount of Gift Aid claimed on my donations I must pay the difference.":"","+ {{ points }} point available":"+ {{ points }} point disponible","+ {{ points }} points available":"+ {{ points }} points disponibles","1 ${paymentType} to enter.  ":"1 ${paymentType} pour participer.","1 day left to enter":"Plus qu’un jour pour participer","1 point":"1 point","A valid email is required":"Une adresse e-mail valide est nécessaire","Action Completed!":"Action effectuée !","Action in progress":"Action en cours",Actions:"Actions","Actions Taken to Create Change":"","Add your {{ fieldName  }} below":"Ajoutez votre {{ fieldName }} ci-dessous","Address Name":"",Admin:"Administration","All Events":"Tous les événements","All you need to do is click the link in the email we just sent you to confirm your address and complete this action.":"Tu as juste à cliquer sur le lien dans l’e-mail que nous venons de t’envoyer pour confirmer ton adresse et effectuer cette action.","Already a user?":"Vous avez déjà un compte ?","Already have an account?":"Vous avez déjà un compte ?","An error has occured! Please refresh the page.":"Une erreur s’est produite! Veuillez rafraîchir la page.","An error occurred. Please try again later.":"Une erreur s’est produite! Veuillez rafraîchir la page.",Answered:"A répondu","Are you sure you want to delete your avatar?":"Voulez-vous vraiment supprimer votre avatar ?","Are you sure? This will deactivate your account":"Voulez-vous poursuivre ? Votre compte sera désactivé",Articles:"Articles","As a Global Citizen, I can contribute to helping solve the world's biggest issues by:":"En tant que Global Citizen, je peux contribuer à résoudre les défis les plus importants de notre planète en :",Back:"Précédent","Back for more actions":"Revenir pour voir plus d'actions","Back for more stories":"Revenir pour voir plus d'articles","Back to Rewards":"Revenir aux récompenses","Become a Global Citizen":"Deviens un Global Citizen","Become a Global Citizen to start earning points today":"Deviens un Global Citizen pour commencer à gagner des points dès aujourd'hui","Begin Quiz":"Débuter le jeu-questionnaire","But you can still win other tickets! Check out other Rewards near you.":"Mais tu peux encore gagner d'autres billets ! Consulte les autres récompenses disponibles près de chez toi.",By:"Par","By Month":"Par mois","By clicking Sign Up, you agree to (i) our {{termsLinkOpen}}Terms{{linkClose}} and {{privacyLinkOpen}}Privacy Policy{{linkClose}}; and (ii) grant permission to Global Citizen to provide your first name, last name, country, and email address to {{partners}}, who may send communications to you in accordance with its Privacy Policy.":"En cliquant sur S'inscrire, tu (i) acceptes nos {{termsLinkOpen}}Conditions générales{{linkClose}} et notre {{privacyLinkOpen}}Politique de confidentialité{{linkClose}} ; et (ii) donnes à Global Citizen l'autorisation de fournir ton prénom, ton nom, ton pays et ton adresse e-mail à {{partners}}, qui peut ou peuvent t'envoyer des communications conformément à sa ou leur Politique de confidentialité.","By clicking Sign Up, you agree to our {{termsLinkOpen}}Terms{{linkClose}} and {{privacyLinkOpen}}Privacy Policy{{linkClose}}.":"En cliquant sur S'inscrire, tu acceptes nos {{termsLinkOpen}}Conditions générales{{linkClose}} et notre {{privacyLinkOpen}}Politique de confidentialité{{linkClose}}.","By entering this contest, you agree to (i) our {{termsLinkOpen}}Terms{{linkClose}} and {{privacyLinkOpen}}Privacy Policy{{linkClose}}; and (ii) grant permission to Global Citizen to provide your first name, last name and email address to {{partners}}, who may send communications to you in accordance with its Privacy Policy.":"En participant à ce concours, tu (i) acceptes nos {{termsLinkOpen}}Conditions générales{{linkClose}} et notre {{privacyLinkOpen}}Politique de confidentialité{{linkClose}} ; et (ii) donnes à Global Citizen l'autorisation de fournir ton prénom, ton nom et ton adresse e-mail à {{partners}}, qui peut ou peuvent t'envoyer des communications conformément à sa ou leur Politique de confidentialité.","By what year does Global Citizen want to end extreme poverty?":"D’ici quelle année Global Citizen souhaite-t-il mettre fin à la pauvreté extrême?","Call now":"Appeler maintenant","Canadian law requires that you correctly answer the skill testing question below.  Kindly answer the question and provide us with your response.":"La loi canadienne exige que tu répondes correctement au test de compétence suivant. Merci de répondre à la question et de nous communiquer ta réponse.","Change Email":"Changer d'adresse e-mail","Choose an amount:":"","Choose language":"Sélectionnez votre langue","Choose which show you would like to enter":"Choisissez les spectacles auxquels vous souhaitez participer","City/State":"Ville","Click for events near you":"Clique pour voir les événements près de chez toi","Click here to get started":"Cliquez ici pour commencer","Click here to resend confirmation email":"Clique ici pour renvoyer l'e-mail de confirmation","Closing Soon":"Ferme bientôt","Closing soon":"Ferme bientôt","Complete all actions to enter":"Accomplis toutes les actions avant de t'inscrire",Completed:"Terminé","Confirm your email":"Confirme ton adresse e-mail","Confirmation email sent":"Courriel de confirmation envoyé","Congrats, you've completed all the actions!":"Félicitations, vous avez effectué toutes les actions!","Congratulations! You're officially a Global Citizen.":"Félicitations ! Tu es officiellement un Global Citizen.","Continue Taking Action":"Continuez à agir","Continue taking Action":"Continue à agir","Copied!":"Copié !","Copy link":"Copier le lien","Copy the following Offer Code:":"Copie le code d'offre suivant :",Country:"Pays","Create a password that is at least 6 characters long with one number and one letter.":"Créez un mot de passe qui comporte au moins 6 caractères, dont un chiffre et une lettre.","Day Until Drawing Closes":"Jour Avant la Fin de la Loterie","Days Until Drawing Closes":"Jours restants pour s'inscrire au tirage","Days until draw date":"Nombre de jours avant la date du tirage",Disability:"Handicap",Donate:"Donner","Donate now:":"","Donation was canceled":"","Drawing date\\n (Melbourne Time)":"Date du tirage\\n (heure de Melbourne)","Earn 1 point for every friend, who register to become Global Citizens with your link.":"Gagne 1 point chaque fois qu'un de tes amis s'inscrit pour rejoindre Global Citizen en utilisant ton lien.","Earn Rewards":"","Earn more points to enter":"Gagne plus de points pour participer","Earn points for doing your part in the fight to end poverty":"Gagnez des points en devenant acteur de la lutte contre la pauvreté","Earn {{ points }} point":"Gagne {{ points }} point","Earn {{ points }} points":"Gagne {{ points }} points",Email:"E-mail","Email Address":"Adresse e-mail",Enter:"Participer","Enter a valid phone number.":"Saisis un numéro de téléphone valide.","Enter now":"Participez pour gagner","Enter to win":"Participez pour gagner","Enter your email & learn how to earn your tickets for the festival on 6 July 2017":"Entre ton e-mail et découvre comment gagner des places pour le festival le 6 juillet 2017","Enter your email to learn more about solving the world's biggest challenges.":"Entre ton e-mail pour apprendre comment résoudre les plus grands problèmes de la planète.",Entered:"Participe",Entries:"Entrées","Entries to this reward have not opened yet":"Les entrées pour cette récompense ne sont pas encore ouvertes","Entries to this reward have now closed":"Les entrées pour cette récompenses sont closes",Ethnicity:"Origines","Final day to enter":"Dernier jour pour participer","Finish quiz":"Terminer le jeu-questionnaire","First Name":"Prénom",Follow:"Suivre","Follow issue":"Suivre ce thème","Follow these issues":"Suivre ces questions",Following:"Suivi","Full Name":"","Full terms and conditions for this reward can be found {{termsLinkOpen}}here{{linkClose}}":"Le règlement et les conditions complètes de ce jeu peuvent être consultées {{termsLinkOpen}}ici{{linkClose}}",Gender:"Genre","Get your friends to join the movement.":"Incitez vos amis à rejoindre le mouvement.","Global Citizen":"Global Citizen","Global Citizen Festival in Hamburg":"Global Citizen Festival in Hamburg","Global Citizen Rewards":"Récompenses de Global Citizen","Global Citizen is a growing movement of people across the planet taking action to solve the world's biggest challenges. Thanks to your friend {{ referralName }}, you're invited to become a Global Citizen.":"Global Citizen est un mouvement en plein essor de personnes qui agissent pour résoudre les principaux défis auxquels le monde doit faire face. Votre ami {{ referralName }} vous invite à rejoindre Global Citizen.","Global Citizen is a movement of engaged citizens who are using their collective voice to end extreme poverty by 2030. On our platform, Global Citizens learn about the systemic causes of extreme poverty, take action on those issues, and earn rewards for their actions ${'\\u2014'} as part of a global community committed to lasting change.":"Global Citizen est un mouvement de citoyens engagés qui unissent leur voix dans l’espoir de mettre fin à la pauvreté extrême d’ici 2030. Notre plateforme permet aux Global Citizens de découvrir les causes systémiques de l’extrême pauvreté, d’agir face à ces problèmes et de gagner des récompenses pour leurs actions ${'\\u2014'} et ce, au sein d’une communauté mondiale qui s’engage en faveur d’un changement durable.","Go To Ticketmaster":"Aller sur Ticketmaster","Go to the Ticketmaster website, enter the code, and follow the instruction.":"Va sur le site Ticketmaster, saisis ton code et suis les instructions.","Great! Thanks for downloading the Global Citizen app.":"Génial ! Merci d'avoir téléchargé l'application Global Citizen.","Hey, we‘ve noticed your friends haven’t signed up yet.":"Nous avons remarqué que vos amis ne se sont pas encore inscrits.",How:"Comment","How it works":"Fonctionnement","I just entered to win tickets to {{ name }}. Enter now at ":"Je viens de m'inscrire au tirage pour gagner des billets pour {{ name }}. Participer maintenant sur","I've read, understood and agree to Global Citizen’s {{ gcTermsLinkOpen }}Terms{{ linkClose }} and {{ gcPrivacyPolicyLinkOpen}}Privacy Policy{{ linkClose }}.":"J'ai lu, compris et accepté les {{ gcTermsLinkOpen }}Conditions générales{{ linkClose }} et la {{ gcPrivacyPolicyLinkOpen}}Politique de confidentialité{{ linkClose }} de Global Citizen.","If your Facebook account does not have an attached e-mail address, you'll need to add that before you can sign up.":"Si aucune adresse e-mail n'est liée à votre compte Facebook, vous devrez en ajouter une avant de pouvoir vous inscrire.",Ignored:"Ignorée(s)","In Partnership With":"En partenariat avec","In order to check in we need access to your location. Please enable location services for your web browser in your phone settings.":"Pour confirmer votre inscription, nous devons accéder à votre position. Veuillez activer les services de localisation de votre navigateur Web dans les réglages de votre téléphone portable.","In partnership with":"En partenariat avec","It Starts with {{highlightOpen}}You{{spanClose}}.":"","It all starts with becoming a Global Citizen.":"Tout commence en rejoignant Global Citizen.","Join the movement":"Rejoignez le mouvement","Join us. Be the Generation.":"Rejoins nos rangs. Marquons ensemble notre génération.",LGBTI:"LGBTI",Language:"Langue","Last Name":"Nom",Learn:"Learn","Learn More":"En savoir plus","Learn More by Issue":"En savoir plus par thème","Learn more":"En savoir plus","Learn more and register to vote":"Informe-toi et inscris-toi pour voter","Leave your message":"Laisser votre message","Let us know who you are to start taking action!":"Dis-nous quand tu es prêt à passer à l'action !","Live Site":"",'Loading search results for "{{query}}"...':'Chargement des résultats de la recherche "{{query}}"…',"Loading your location...":"Chargement de votre position…","Loading...":"Chargement…","Log in":"Se connecter","Looks like you've been disconnected or haven't received our call.\\n\\n Make sure your phone number is correct and try again!":"Il semblerait que tu aies été déconnecté(e) ou n’aies pas reçu notre appel.\n\n Assure-toi que ton numéro de téléphone est correct et réessaie !","Make a donation now to support the work of":"","Make sure to check your spam folder, in case your email provider has incorrectly labelled it as spam.":"N'oublie pas de vérifier tes courriers indésirables, au cas où ton fournisseur de messagerie se serait trompé et aurait classé cet e-mail comme tel.","Making an Impact":"Avoir un impact",Map:"Carte","More Info":"En savoir plus","Near me":"À proximité",Next:"Suivant","Next question":"Question suivante",No:"Non","No actions found, try selecting other issues":"","No results were found matching your search criteria":"Aucun résultat correspondant à tes critères de recherche n'a été trouvé","Not a Global Citizen yet?":"Pas encore un Global Citizen ?","Not seeing the email?":"Vous ne voyez pas cet e-mail ?","Oh No! Something went wrong":"Oh non ! Une erreur est survenue","One more step":"Tu as bientôt terminé","Oops please enter valid email":"Veuillez entrer une adresse courriel valide","Our mission is to build the largest possible movement of global citizens taking action to solve the world's biggest challenges.":"Notre mission est de construire le plus important mouvement possible de citoyens agissant afin de résoudre les défis les plus importants de notre planète.",Password:"Mot de passe","Password is required":"Mot de passe obligatoire","Please allow access to your location to find events near you.":"Merci de nous laisser accéder à ta localisation pour trouver des événements près de chez toi.","Please answer the following skill testing question before you can enter":"Pour pouvoir participer, réponds d’abord au test de compétence suivant","Please choose an answer.":"Choisis une réponse.","Please confirm that you agree to the {{ termsLinkOpen }}Global Citizen Rewards Terms and Conditions{{ termsLinkClose}} and would like to use {{ pointsOpen }}{{ points }} points{{ pointsClose }} to enter the drawing by clicking the button below.":"Confirmez que vous acceptez les {{ termsLinkOpen }}Conditions générales des récompenses de Global Citizen{{ termsLinkClose}} et que vous souhaitez utiliser {{ pointsOpen }}{{ points }} points{{ pointsClose }} pour participer au tirage au sort en cliquant sur le bouton ci-dessous.","Please confirm that you agree to the {{ termsLinkOpen }}Global Citizen Rewards Terms and Conditions{{ termsLinkClose}} and would like to use {{ pointsOpen }}{{ points }} point{{ pointsClose }} to enter the drawing by clicking the button below.":"Confirmez que vous acceptez les {{ termsLinkOpen }}Conditions générales des récompenses de Global Citizen{{ termsLinkClose}} et que vous souhaitez utiliser {{ pointsOpen }}{{ points }} point{{ pointsClose }} pour participer au tirage au sort en cliquant sur le bouton ci-dessous.","Please provide my name, email address and country to {{ openSpan }}{{ partnerName }}{{ closeSpan }} so that they can keep me up to date on this campaign and others.":"Veuillez fournir mon nom, mon adresse e-mail et mon pays à {{ openSpan }}{{ partnerName }}{{ closeSpan }} afin qu'ils puissent me tenir au courant de cette campagne et d'autres.","Please refresh the page when the call has ended.":"Merci de rafraîchir la page quand l'appel est terminé.","Please try again":"Essaie à nouveau",Points:"Points",Poll:"Sondage","Post Tweet":"Publier un tweet","Postal Code":"Code postal",Profile:"Profil",Published:"Publié","Question {{ questionNumber }} of {{ total }}":"Question {{ questionNumber }} sur {{ total }}",REGISTER:"S'INSCRIRE","Re-enter Password":"Saisissez de nouveau le mot de passe","Read More":"En savoir plus","Read more":"En savoir plus","Read more.":"En savoir plus.","Read the latest stories to learn more about {{noWrapOpen}}the issues.{{noWrapClose}}":"","Receive alerts about the world's biggest challenges.":"Inscrivez-vous pour recevoir des alertes sur les défis les plus importants de notre planète.","Recent recruits":"Recrues récentes","Recommended Stories":"Articles conseillés","Recommended because you follow {{ reasons }}.":"Conseillé parce que vous suivez  {{ reasons }}.","Redeem points for a chance to win tickets to your favorite events":"Échangez des points pour tenter de gagner des billets pour vos événements préférés","Refer friends":"Parrainez vos amis","Refine Results":"Affiner les résultats",Required:"","Resend Verification Email":"Envoyer à nouveau l’e-mail de vérification","Reset your filters and view all available rewards.":"Réinitialise tes filtres et affiche toutes les récompenses disponibles.",Retry:"Réessayer",Reward:"Récompense",Rewards:"Récompenses","SIGN UP":"S'INSCRIRE","STRIPE successfully connected":"La connexion à Stripe a bien été effectuée","SUPPORTED BY":"","Score Now":"Évaluer",Scored:"Évaluée(s)",Search:"Rechercher","Search rewards...":"Recherche de récompenses…","See all info.":"Consulte toutes les informations.","See details":"Afficher Détails","Sept 24":"24 septembre","Set up a password for your new profile.":"Choisis un mot de passe pour ton nouveau profil.",Settings:"Réglages",Share:"Partager","Share on Facebook":"Partager sur Facebook","Share on Twitter":"Partager sur Twitter","Share on Whatsapp":"Partager sur WhatsApp","Share on Workplace":"","Share with Email":"Partager par e-mail","Share with Facebook Messenger":"Partager sur Facebook Messenger","Share your invite link":"Partager votre lien d'invitation","Showing page {{currentPage}} of {{totalPages}}.":"Affichage de la page {{currentPage}} sur {{totalPages}}.",ShowupVote:"ShowupVote","Sign In":"S'inscrire","Sign In with Facebook":"S'inscrire avec Facebook","Sign Up":"S'inscrire","Sign Up with Facebook":"S'inscrire avec Facebook","Sign in":"Se connecter","Sign in to redeem rewards":"Connectez-vous pour obtenir des récompenses","Sign into your account":"Connectez-vous à votre compte","Sign out":"Se déconnecter","Sign petitions, send emails, tweet, and call your {{noWrapOpen}}world leaders.{{noWrapClose}}":"","Sign up":"S'inscrire","Sign up and be the first to know the latest":"Inscris-toi et sois la première personne à connaître les dernières nouveautés","Sign up for emails (optional): ":"S'inscrire aux e-mails (facultatif) :","Sign up to Enter":"S'incsrire pour participer","Sign up to claim your points and earn rewards, like tickets to shows by your favorite artists.":"Inscris-toi pour obtenir tes points et gagner des récompenses, comme des billets pour assister aux spectacles de tes artistes préférés.","Sign up to win tickets":"Inscris-toi pour gagner des billets","Sign up today and receive your bonus point to get started. The more actions you take as a Global Citizen, the more points you earn. You can redeem those points for the chance to win rewards like Festival tickets.":"Inscrivez-vous aujourd'hui et recevez votre point bonus pour démarrer. Plus vous agissez en tant que Global Citizen, plus vous gagnez de points. Vous pouvez utiliser ces points pour tenter de gagner des récompenses comme des billets de festivals.","Sign up with your {{ provider }} account":"Connexion avec ton compte {{ provider }}","Sign up\x3c!-- Germany Festival Modal --\x3e":"Se connecter","Skip for now >>":"Ignorer pour l'instant >>","Skip this for now >":"Ignorer cette étape pour l’instant >","Skip to Sign Up":"Ignorer pour s'inscrire","Something went wrong":"Une erreur est survenue","Sort By:":"Trier par :","Stay up to date":"Restez informés","Step {{ current }} of {{ total }}: ":"Étape {{ current }} sur {{ total }} : ",Submit:"Envoyer","Submit answer":"Soumettre la réponse","Take Action":"Agir","Take Action Now":"Agir","Take More Action":"Agis plus","Take action":"Passe à l'action","Take action to enter":"Agir pour participer","Terms and Privacy Policy agreement (required): ":"Conditions générales et Politique de confidentialité (obligatoire) :","Thank You":"","Thank you for completing this action!":"Merci d'avoir agi !","Thank you for your donation!":"Merci pour ton don !","Thank you!":"Merci !","Thanks for Entering!":"Merci de ta participation !","Thanks for signing up as a global citizen. In order to create your account we need you to provide your email address. You can check out our {{linkOpen}}Privacy Policy{{linkClose}} to see how we safeguard and use the information you provide us with.":"Merci de vous être inscrit en tant qu'un Global Citizen. Afin de créer votre compte, veuillez nous fournir votre adresse e-mail. Vous pouvez consulter notre {{linkOpen}}Politique de confidentialité{{linkClose}} pour savoir comment nous protégeons et utilisons les informations que vous nous fournissez.","Thanks for signing up!":"Merci pour ton inscription","Thanks for taking action.":"Merci d'avoir agi.","That email appears incorrect. Did you mean {{ didYouMean }}?":"","The answer cannot be blank":"La réponse ne peut pas être vide","The answer was incorrect. Please try again.":"Mauvaise réponse. Réessaie.","The drawing for these tickets has already closed":"Le tirage de ces billets est terminé","There are currently no rewards available in your country. {{ rewardLinkOpen }}Click here{{ rewardLinkClose }} to view all of our available rewards":"Il n'y a actuellement aucune récompense disponible dans ton pays. {{ rewardLinkOpen }}Cliquez ici{{ rewardLinkClose }} pour afficher toutes nos récompenses disponibles","This action can only be completed between {{ start }} and {{ end }}{{ weekdays }}. Please check back later to take this action.":"Cette action peut uniquement être effectuée entre {{ start }} et {{ end }}{{ weekdays }}. Revenez plus tard pour le faire.","This action is not available in your country":"Cette action n’est pas disponible dans ton pays","This action is only available to users in {{ countryName }}.\\n\\nPlease update your country and try again.":"Cette action peut être effectuée uniquement par les utilisateurs résidant dans le pays suivant : {{ countryName }}.\n\nMets à jour ton pays et réessaie.","This site uses cookies to provide you with the best experience.":"Ce site utilise des cookies afin d'améliorer l'expérience de ses utilisateurs.","Ticket Per Winner":"Billet Par Gagnants","Tickets Per Winner":"Billets par gagnant","To know about":"Pour en savoir plus","To know about Sept 24":"Pour en savoir plus sur le 24 septembre","Try Again":"Réessayer",Tweet:"Tweet",Unfollow:"Ne plus suivre","Unfollow issue":"Ne plus suivre ce thème","Up Next":"Suivant",Upcoming:"À venir",Update:"Mettre à jour","Update status":"Mettre à jour le statut","Use template":"Utiliser notre modèle","Use your points from action-taking to enter to win {{noWrapOpen}}exclusive rewards.{{noWrapClose}}":"",Venue:"Lieu",Videos:"Vidéos","View Details":"Voir les détails","View rewards":"Afficher les récompenses","We are one human race. But in many places around the world, people are judged and discriminated against because of their race or ethnicity due to prejudice that is ingrained in cultures and {{noWrapOpen}}societal norms.{{noWrapClose}}":"","We are partnering with {{noWrapOpen}}Global Citizen{{spanClose}} to tackle {{highlightOpen}}prejudice{{spanClose}} and {{highlightOpen}}discrimination{{spanClose}} on a global scale through {{noWrapOpen}}{{highlightOpen}}action-taking{{spanClose}} and {{highlightOpen}}advocacy{{spanClose}}{{spanClose}}":"Nous collaborons avec {{noWrapOpen}}Global Citizen{{spanClose}} pour combattre les {{highlightOpen}}préjugés{{spanClose}} et les {{highlightOpen}}discriminations{{spanClose}} à l'échelle mondiale grâce à des {{noWrapOpen}}{{highlightOpen}}actions concrètes{{spanClose}} et des {{highlightOpen}}campagnes de sensibilisation{{spanClose}}{{spanClose}}","We are unable to find your representative's twitter handle.":"Nous ne pouvons pas trouver le Pseudo Twitter de votre représentant.","We can't find your MP. Please update your address and try again.":"Nous ne trouvons pas ton MP. Actualise ton adresse ci-dessus et réessaye.","We can't find your MP. Please update your postal code and try again.":"Nous ne parvenons pas à trouver ton MP. Actualise ton code postal ci-dessus et réessaie.","We can't find your Representative. Please update your address and try again.":"Nous ne trouvons pas ton Representative. Actualise ton adresse ci-dessus et réessaye.","We can't find your Representative. Please update your postal code and try again.":"Nous ne parvenons pas à trouver ton Representative. Actualise ton code postal ci-dessus et réessaie.","We can't find your Senator. Please update your address and try again.":"Nous ne trouvons pas ton Senator. Actualise ton adresse ci-dessus et réessaye.","We can't find your Senator. Please update your postal code and try again.":"Nous ne parvenons pas à trouver ton Senator. Actualise ton code postal ci-dessus et réessaie.","We can't find your local newspaper. Please update your address and try again.":"","We can't find your local newspaper. Please update your postal code and try again.":"","We can't find your state newspaper. Please update your address and try again.":"","We can't find your state newspaper. Please update your postal code and try again.":"","We can't find your store. Please update your address and try again.":"Nous ne trouvons pas ta boutique. Actualise ton adresse et réessaie.","We can't find your store. Please update your postal code and try again.":"Nous ne trouvons pas ta boutique. Actualise ton code postal et réessaie.","We partnered with {{noWrapOpen}}Global Citizen{{noWrapClose}} on our first disability campaign want to build a world that is more inclusive and accessible for people with disabilities. We want to champion that we are all are {{noWrapOpen}}differently-abled.{{noWrapClose}}":"","We stand for you":"Nous te représentons","We want to create an equal world where everyone is free to express themselves, and create a diverse and inclusive organization, where everyone can bring their whole self {{noWrapOpen}}to work.{{noWrapClose}}":"","We will email you as soon as our partner has confirmed that you have completed the action with them and your points have been awarded.":"Vous recevrez un e-mail dès que notre partenaire aura confirmé que vous avez effectué l'action demandée et que vos points auront été attribués.","We will let you know if you are a winner after the drawing on {{ date }}. Best of luck!":"Nous vous contacterons si vous êtes le(la) gagnant(e) après le tirage {{ date }}. Bonne chance !","We'll email you soon with the latest.":"Nous t'enverrons prochainement un e-mail contenant les dernières nouveautés.","We're looking to promote the empowerment of girls & women for building healthier, better-educated, and more {{noWrapOpen}}prosperous communities.{{noWrapClose}}":"","We're sorry but the phone number you provided is outside our coverage range. \\n\\n You can still add your voice to the movement by calling the target directly at {{ phoneNumber }} or please refresh the page and provide an alternative number.":"Nous sommes désolés, mais le numéro de téléphone que tu as fourni est en dehors de notre couverture. \n\n Tu peux toujours prêter ta voix au mouvement en appelant la cible directement au {{phoneNumber}}. Tu peux également rafraîchir la page et fournir un autre numéro.","Welcome Back! Sign in.":"Bon retour parmi nous ! Connecte-toi.","Welcome back, {{ name }}!":"Heureux de vous revoir, {{ name }} !","Welcome, {{ name }}!":"Bienvenue, {{ name }}!","We’ve sent you an email. Please click the link in the message, then refresh this page.":"Nous vous avons envoyé un e-mail. Veuillez cliquer sur le lien du message, puis actualiser cette page.",What:"Quoi","What is this content piece?":"","What issues are you most passionate about?":"Quelles questions te passionnent le plus ?","What to Know":"À savoir",When:"Quand",'When your friends sign up, their names will appear in the "Recent recruit" section on this page. If you have any issues please get in touch with us at':"Quand l'un de vos amis s'inscrit, son nom s'affiche dans la section \"Recrues récentes\" de cette page. Si vous rencontrez des problèmes, n'hésitez pas à nous contacter à",Where:"Où",Why:"Pourquoi","Win rewards":"Gagnez des récompenses",Winner:"Gagnant",Winners:"Gagnants",Yes:"Oui","Yes, I'd like":"","Yes, please send me updates and opportunities from {{ gcLinkOpen }}Global Citizen{{ linkClose}} to be part of the movement to end extreme poverty.":"Oui, envoyez-moi des mises à jour et des opportunités de {{ gcLinkOpen }}Global Citizen{{ linkClose}} afin que je puisse participer au mouvement visant à mettre fin à la pauvreté.","You answered {{ correctCount }} of {{ total }} correctly":"Tu as répondu bon à {{ correctCount }} question(s) sur {{ total }}","You are already signed in!":"Tu es déjà connecté(e) !","You can get informed, take action, and meet other like-minded change-makers. It has never been easier to make a real positive impact!":"Tu peux être informé, agir et rencontrer d'autres gens qui, comme toi, font bouger les choses. Il n'a jamais été aussi facile d'avoir un impact positif sur le monde !","You have 1 point available. Great work! Treat yourself to some awesome rewards.":"Vous avez un point de disponible. Bravo ! Offre-toi une belle récompense.","You have completed all available actions. Thank you for doing your part to end extreme poverty!":"Tu as accompli toutes les actions disponibles. Merci d'avoir fait ta part pour mettre fin à l'extrême pauvreté !","You have no points available. Go earn more points by {{ openLink }}taking action{{ closeLink}}!":"Tu n'as aucun point disponible. Gagne des points en {{ openLink }}passant à l'action{{ closeLink}}!","You have {{ points }} points available. Great work! Treat yourself to some awesome rewards.":"Vous avez {{points}} points disponibles. Bien joué ! Offrez-vous d'incroyables récompenses.","You need {{ points }} more point":"Tu as besoin d'{{ points }} point de plus","You need {{ points }} more points":"Tu as besoin de {{ points }} points de plus","You will be the first":"Vous serez le premier","You've answered {{answerCount}} correctly":"Tu as répondu correctement à {{answerCount}} question(s)","You've completed this action":"Vous avez effectué cette action","You've completed this campaign.":"","You've earned {{ openPoints }}{{ points }}{{ closeSpan }}!":"Tu as gagné {{ openPoints }}{{ points }}{{ closeSpan }} !","You've earned {{ pointsString }}!":"Tu as gagné {{ pointsString }} !","You've earned {{ spanOpen }}{{ points }} point!{{ spanClose}}":"Tu as gagné {{ spanOpen }}{{ points }} point!{{ spanClose}}","You've earned {{ spanOpen }}{{ points }} points!{{ spanClose}}":"Tu as gagné {{ spanOpen }}{{ points }} points!{{ spanClose}}","You've entered to win tickets!":"Tu participes au tirage pour gagner des billets !","Your MP":"Ton député","Your MPs":"Tes députés","Your Representative":"Ton représentant","Your Representatives":"Tes représentants","Your Senator":"Ton sénateur","Your Senators":"Tes sénateurs","Your Store":"Ta boutique","Your Stores":"Tes boutiques","Your actions really do make a difference and every action you take earns you points that you can use to enter to win awesome experiences and rewards. Read more about your impact {{ linkStart }}here{{ linkEnd }}.":"Tes actions font une vraie différence, et chacune d'elles te permet d'obtenir des points pour tenter de gagner des récompenses et de profiter d'expériences exceptionnelles. Tu peux en savoir plus sur ton impact {{ linkStart }}ici{{ linkEnd }}.","Your actions really do make a difference! Learn more about your impact {{ openAnchor }}here{{ closeAnchor}}.":"Tes actions font vraiment la différence ! Mesure l'impact que tu as {{ openAnchor }}ici{{ closeAnchor}}.","Your email has been sent":"Votre e-mail a été envoyé","Your email will not be sent until you click the link in the email":"Ton adresse e-mail ne sera pas envoyée tant que tu n’auras pas cliqué sur le lien dans l’e-mail","Your local newspaper":"","Your local newspapers":"","Your password must be at least 6 characters":"Votre mot de passe doit comporter au moins 6 caractères","Your password must contain at least one number and letter":"Votre mot de passe doit comporter au moins un chiffre et une lettre","Your state newspaper":"","Your state newspapers":"","actions taken":"actions effectuées",address:"adresse","and ":"et","checked in":"a effectué la vérification","completed an action":"a terminé une action",date:"date","for your points.":"pour tes points.","in partnership with":"en partenariat avec","made a call":"a appelé",or:"ou",point:"point",points:"points","postal code":"code postal",relevance:"pertinence","sent an email":"a envoyé un e-mail","signed a petition":"a signé une pétition","take action":"passe à l'action","these are not my MPs":"ce ne sont pas mes députés","these are not my Representatives":"ce ne sont pas mes représentants","these are not my Senators":"ce ne sont pas mes sénateurs","these are not my Stores":"ce ne sont pas mes boutiques","these are not my local newspapers":"","these are not my state newspapers":"","this is not my MP":"ce n'est pas mon député","this is not my Representative":"ce n'est pas mon représentant","this is not my Senator":"ce n'est pas mon sénateur","this is not my Store":"ce n'est pas ma boutique","this is not my local newspaper":"","this is not my state newspaper":"",tweeted:"a tweeté","{{ city }} | {{ venue }}":"","{{ city }}, {{ state }} | {{ venue }}":"{{ city }}, {{ state }} | {{ venue }}","{{ daysLeft }} day left to enter":"Il reste {{ daysLeft }} jour pour participer","{{ daysLeft }} days left to enter":"Il reste {{ daysLeft }} jours pour participer","{{ h2 }}<p>CENTRAL PARK</p>{{ headlineDate }}09.23.2017{{ closeP }}{{ closeH2 }} {{ h1 }}GL{{headlineHighlightAlt}}O{{ spanClose }}BAL {{ headlineHighlight }}CITIZEN{{ spanClose }} {{ headlineSmall }}FESTIVAL{{ spanClose }}{{ closeH1 }}":"{{ h2 }}<p>CENTRAL PARK</p>{{ headlineDate }}23/09/2017{{ closeP }}{{ closeH2 }} {{ h1 }}GL{{headlineHighlightAlt}}O{{ spanClose }}BAL {{ headlineHighlight }}CITIZEN{{ spanClose }} {{ headlineSmall }}FESTIVAL{{ spanClose }}{{ closeH1 }}","{{ h2 }}Thank you{{ closeH2 }} {{ h2}}for joining the movement{{ closeH2 }}":"{{ h2 }}Merci{{ closeH2 }} {{ h2}}d'avoir rejoint le mouvement{{ closeH2 }}","{{ icon }} Language":"{{ icon }} Langue","{{ name }}":"{{ name }}","{{ name }} at {{ venue }} in {{ city }} on {{ date }}":"{{ name }} à {{ venue }} à {{ city }} le {{ date }}","{{ name }} in {{ city }}":"{{ name }} à {{ city }}","{{ name }} in {{ city }} on {{ date }}":"{{ name }} à {{ city }} le {{ date }}","{{ name }} on {{ date }}":"{{ name }} le {{ date }}","{{ number }} people have taken this action so far":"{{ number }} personnes ont effectué cette action jusqu'à maintenant","{{ pCenter }}Between now and Nov. 8, we are building a movement of global citizens around the U.S., who will show up and vote this election.{{ closeP }}{{ pCenter }}Citizenship starts with you.{{ br }}Be a Global Citizen.{{ closeP }}":"{{ pCenter }}Between now and Nov. 8, we are building a movement of global citizens around the U.S., who will show up and vote this election.{{ closeP }}{{ pCenter }}Citizenship starts with you.{{ br }}Be a Global Citizen.{{ closeP }}","{{ points }} point available":"{{ points }} point disponibles","{{ points }} point earned":"{{ points }} point gagné","{{ points }} point to enter":"{{ points }} point pour participer","{{ points }} points":"{{ points }} points","{{ points }} points available":"{{ points }} points disponibles","{{ points }} points earned":"{{ points }} points gagnés","{{ points }} points to enter":"{{ points }} points pour participer","{{ pointsOpen }}Click{{ pointsClose }} to enter":"{{ pointsOpen }}Clique{{ pointsClose }} pour participer","{{ pointsOpen }}{{ actions }} actions{{ pointsClose }} left to complete":"{{ pointsOpen }}{{ actions }} actions{{ pointsClose }} à accomplir","{{ pointsOpen }}{{ actions }} action{{ pointsClose }} left to complete":"{{ pointsOpen }}{{ actions }} actions{{ pointsClose }} à accomplir","{{ pointsOpen }}{{ points }} points{{ pointsClose }} to enter":"{{ pointsOpen }}{{ points }} points{{ pointsClose }} pour participer","{{ pointsOpen }}{{ points }} point{{ pointsClose }} to enter":"{{ pointsOpen }}{{ points }} point{{ pointsClose }} pour participer","{{ rewardCount }} available rewards.":"{{ rewardCount }} récompenses disponibles.","{{ state }} | {{ venue }}":"","{{ strong  }} {{points }} Point {{ closeStrong }} to redeem":"{{ strong }} {{points }} Point {{ closeStrong }} pour participer","{{ strong  }} {{points }} Points {{ closeStrong }} to redeem":"{{ strong }} {{points }} Points {{ closeStrong }} pour participer","{{ strongOpen }}Sign up for emails (optional):{{ strongClose }} Yes, please send me updates and opportunities from Global Citizen to be part of the movement to end extreme poverty.":"{{ strongOpen }}Inscrivez-vous pour recevoir les courriels (optionnel) :{{ strongClose }} Oui, envoyez-moi des informations et des nouvelles régulières de Global Citizen afin de me garder au courant du mouvement pour mettre fin à l’extrême pauvreté.","{{ strongOpen }}Social media engagement guideline acknowledgement (required):{{ strongClose }} I have read, understood and agree to {{ provider }}'s social media {{ linkOpen }}policy{{ linkClose }}.":"{{ strongOpen }}Reconnaissance des lignes directrices sur l’engagement dans les médias sociaux (obligatoire) :{{ strongClose }} Je confirme avoir lu, compris et accepté la {{ linkOpen }}politique des médias sociaux{{ linkClose }} de {{ provider }}.","{{ strongOpen }}Terms and Privacy Policy agreement (required):{{ strongClose }} {{ noWrapOpen }}I have read,{{ noWrapClose }} understood and agree to:{{ lineBreak}}(i) Global Citizen’s {{ gcTermsLinkOpen }}Terms{{ linkClose }} and {{ gcPrivacyPolicyLinkOpen}}Privacy Policy{{ linkClose }}.{{ lineBreak }}(ii) granting permission to Global Citizen to provide my first name, last name, email address and country to {{ provider }} who may use my information and send to me communications related to the partnership and the platform in accordance with its {{ ssoTermsLinkOpen }}Privacy Policy{{ linkClose }}.":"","{{ textLength }}/{{ maxLength }} Characters":"{{ textLength }}/{{ maxLength }} caractères","{{ textLength }}/{{ minLength }} Characters":"{{ textLength }}/{{ minLength }} caractères","{{ tickets }} Ticket to {{ rewardName }}":"{{ tickets }} ticket au nom de {{ rewardName }}","{{ tickets }} Tickets to {{ rewardName }}":"{{ tickets }} tickets au nom de {{ rewardName }}","{{noWrapOpen}}Global Citizen's{{noWrapClose}} goal of ending extreme poverty is possible by calling on leaders to focus support behind {{noWrapOpen}}marginalized groups.{{noWrapClose}}":"L'objectif de {{noWrapOpen}}Global Citizen{{noWrapClose}} visant à éradiquer l'extrême pauvreté est réalisable en demandant aux leaders de soutenir les {{noWrapOpen}}groupes marginalisés.{{noWrapClose}}","{{noWrapOpen}}Global Citizen{{noWrapClose}} is a platform that helps you have your voice heard on {{noWrapOpen}}what matters{{noWrapClose}}":"{{noWrapOpen}}Global Citizen{{noWrapClose}} est une plateforme qui te permet de faire entendre ta voix en faveur {{noWrapOpen}}des thèmes qui te tiennent à cœur{{noWrapClose}}","{{spanOpen}}Hi{{spanClose}} {{ username }}{{ spanEndOpen }}!{{ spanClose }}":"{{spanOpen}}Bonjour{{spanClose}} {{ username }}{{ spanEndOpen }} !{{ spanClose }}","{{termsLinkOpen}}Terms and Conditions{{linkClose}}":"{{termsLinkOpen}}Conditions générales{{linkClose}}",'{{totalResultCount}} result found for "{{query}}".':'{{totalResultCount}} résultat trouvé pour "{{query}}".','{{totalResultCount}} results found for "{{query}}".':'{{totalResultCount}} résultats trouvés pour "{{query}}".',"{{ points }} point to enter drawing {{ br }} {{ available_tickets }} pair of tickets available":"{{ points }} point pour participer au tirage {{ br }} {{ available tickets }} billets disponibles","{{ points }} points to enter drawing {{ br }} {{ available_tickets }} pair of tickets available":"{{ points }} points pour participer au tirage {{ br }} {{ available tickets }} billets disponibles","{{ points }} point to enter drawing {{ br }} {{ available_tickets }} pairs of tickets available":"{{ points }} point pour participer au tirage {{ br }} {{ available tickets }} billets disponibles","{{ points }} points to enter drawing {{ br }} {{ available_tickets }} pairs of tickets available":"{{ points }} points pour participer au tirage {{ br }} {{ available tickets }} billets disponibles","{{ strong }}{{ days_left }} Days{{ closeStrong }} Until Drawing":"{{ strong }}{{ days","{{ strong }}{{ days_left }} Day{{ closeStrong }} Until Drawing":"{{ strong }}{{ days","{{ strong }}{{ tickets_per_winner }} Tickets{{ closeStrong }} Per Winner":"{{ strong }}{{ tickets_per","{{ strong }}{{ tickets_per_winner }} Ticket{{ closeStrong }} Per Winner":"{{ strong }}{{ tickets_per","{{ strong }}{{ total_available }} Winners{{ closeStrong }} Per Drawing":"{{ strong }}{{ total","{{ strong }}{{ total_available }} Winner{{ closeStrong }} Per Drawing":"{{ strong }}{{ total"})},pt:{translation:p({" to claim Gift Aid on this donation, as well as any future donations. *":"","${cost} ${paymentType}s to enter. ":"${cost} ${paymentType}s para participar. ","(twenty-five MULTIPLIED BY four DIVIDED BY five PLUS fifty-seven MINUS two EQUALS)":"(vinte e cinco VEZES quatro DIVIDIDO POR cinco MAIS cinquenta e sete MENOS dois É IGUAL A)","* I am a UK taxpayer. I understand that if I pay less Income Yax and/or Capital Gains Tax in the current tax year than the amount of Gift Aid claimed on my donations I must pay the difference.":"","+ {{ points }} point available":"+ {{ points }} ponto disponível","+ {{ points }} points available":"+ {{ points }} pontos disponíveis","1 ${paymentType} to enter.  ":"1 ${paymentType} para participar.  ","1 day left to enter":"Resta 1 dia para participar","1 point":"1 ponto","A valid email is required":"Um e-mail válido é necessário","Action Completed!":"Ação concluída!","Action in progress":"Ação em andamento",Actions:"Ações","Actions Taken to Create Change":"","Add your {{ fieldName  }} below":"Adicione seu/sua {{ fieldName  }} abaixo","Address Name":"",Admin:"Administrador","All Events":"Todos os eventos","All you need to do is click the link in the email we just sent you to confirm your address and complete this action.":"Tudo que você precisa fazer é clicar no link do e-mail que acabamos de enviar a você para confirmar seu endereço e concluir esta ação.","Already a user?":"Já é um usuário?","Already have an account?":"Já tem uma conta?","An error has occured! Please refresh the page.":"Ocorreu um erro. Atualize a página.","An error occurred. Please try again later.":"Ocorreu um erro. Tente novamente mais tarde.",Answered:"Respondido","Are you sure you want to delete your avatar?":"Tem certeza de que deseja excluir seu avatar?","Are you sure? This will deactivate your account":"Tem certeza? Isso desativará sua conta",Articles:"Artigos","As a Global Citizen, I can contribute to helping solve the world's biggest issues by:":"Como Global Citizen, posso contribuir e ajudar a resolver os maiores desafios mundiais da seguinte forma:",Back:"Voltar","Back for more actions":"Voltar para mais ações","Back for more stories":"Voltar para mais histórias","Back to Rewards":"Voltar para as recompensas","Become a Global Citizen":"Torne-se um Global Citizen","Become a Global Citizen to start earning points today":"Torne-se um Global Citizen para começar a ganhar pontos hoje mesmo","Begin Quiz":"Iniciar teste","But you can still win other tickets! Check out other Rewards near you.":"Mas você ainda pode ganhar outros ingressos! Confira outras recompensas perto de você.",By:"Por","By Month":"Por mês","By clicking Sign Up, you agree to (i) our {{termsLinkOpen}}Terms{{linkClose}} and {{privacyLinkOpen}}Privacy Policy{{linkClose}}; and (ii) grant permission to Global Citizen to provide your first name, last name, country, and email address to {{partners}}, who may send communications to you in accordance with its Privacy Policy.":'Ao clicar em "Cadastrar-se", você concorda (i) com nossos {{termsLinkOpen}}Termos{{linkClose}} e nossa {{privacyLinkOpen}}Política de Privacidade{{linkClose}}; e (ii) em conceder permissão ao Global Citizen para fornecer seu nome, sobrenome, país e endereço de e-mail a {{partners}}, que poderão enviar comunicações para você de acordo com a respectiva Política de Privacidade.',"By clicking Sign Up, you agree to our {{termsLinkOpen}}Terms{{linkClose}} and {{privacyLinkOpen}}Privacy Policy{{linkClose}}.":'Ao clicar em "Cadastrar-se", você concorda com nossos {{termsLinkOpen}}Termos{{linkClose}} e nossa {{privacyLinkOpen}}Política de Privacidade{{linkClose}}.',"By entering this contest, you agree to (i) our {{termsLinkOpen}}Terms{{linkClose}} and {{privacyLinkOpen}}Privacy Policy{{linkClose}}; and (ii) grant permission to Global Citizen to provide your first name, last name and email address to {{partners}}, who may send communications to you in accordance with its Privacy Policy.":"Ao participar deste concurso, você concorda (i) com nossos {{termsLinkOpen}}Termos{{linkClose}} e nossa {{privacyLinkOpen}}Política de Privacidade{{linkClose}}; e (ii) em conceder permissão ao Global Citizen para fornecer seu nome, sobrenome e endereço de e-mail a {{partners}}, que poderão enviar comunicações para você de acordo com a respectiva Política de Privacidade.","By what year does Global Citizen want to end extreme poverty?":"Até que ano o Global Citizen deseja eliminar a pobreza extrema?","Call now":"Ligue agora","Canadian law requires that you correctly answer the skill testing question below.  Kindly answer the question and provide us with your response.":"A legislação canadense exige que você responda corretamente à pergunta de teste de habilidades abaixo. Responda à pergunta e nos forneça sua resposta.","Change Email":"Alterar e-mail","Choose an amount:":"","Choose language":"Escolher idioma","Choose which show you would like to enter":"Escolha o show para o qual você deseja concorrer a ingressos","City/State":"Cidade/estado","Click for events near you":"Clique para ver eventos perto de você","Click here to get started":"Clique aqui para começar","Click here to resend confirmation email":"Clique aqui para reenviar o e-mail de confirmação","Closing Soon":"Com encerramento em breve","Closing soon":"Com encerramento em breve","Complete all actions to enter":"Conclua todas as ações para participar",Completed:"Concluído","Confirm your email":"Confirme seu e-mail","Confirmation email sent":"E-mail de confirmação enviado","Congrats, you've completed all the actions!":"Parabéns! Você concluiu todas as ações.","Congratulations! You're officially a Global Citizen.":"Parabéns! Agora é oficial: você é um Global Citizen.","Continue Taking Action":"Continuar entrando em ação","Continue taking Action":"Continuar entrando em ação","Copied!":"Copiado.","Copy link":"Copiar link","Copy the following Offer Code:":"Copie o seguinte código de oferta:",Country:"País","Create a password that is at least 6 characters long with one number and one letter.":"Crie uma senha com pelo menos seis caracteres, incluindo um número e uma letra.","Day Until Drawing Closes":"Dia para o encerramento das inscrições no sorteio","Days Until Drawing Closes":"Dias para o encerramento das inscrições no sorteio","Days until draw date":"Dias para a data do sorteio",Disability:"Deficiência",Donate:"Doar","Donate now:":"","Donation was canceled":"","Drawing date\\n (Melbourne Time)":"Data do sorteio\\n (Horário de Melbourne)","Earn 1 point for every friend, who register to become Global Citizens with your link.":"Ganhe 1 ponto para cada amigo que se cadastrar para se tornar um Global Citizen usando seu link.","Earn Rewards":"","Earn more points to enter":"Ganhe mais pontos para participar","Earn points for doing your part in the fight to end poverty":"Ganhe pontos fazendo sua parte na luta para eliminar a pobreza","Earn {{ points }} point":"Ganhe {{ points }} ponto","Earn {{ points }} points":"Ganhe {{ points }} pontos",Email:"E-mail","Email Address":"Endereço de e-mail",Enter:"Participar","Enter a valid phone number.":"Insira um número de telefone válido.","Enter now":"Participar agora","Enter to win":"Participar","Enter your email & learn how to earn your tickets for the festival on 6 July 2017":"Insira seu e-mail e saiba como ganhar ingressos para o festival, que ocorrerá em 6 de julho de 2017","Enter your email to learn more about solving the world's biggest challenges.":"Insira seu e-mail para saber mais sobre como resolver os maiores desafios mundiais.",Entered:"Participando",Entries:"Participações","Entries to this reward have not opened yet":"As inscrições para esta recompensa ainda não foram abertas.","Entries to this reward have now closed":"As inscrições para esta recompensa foram encerradas",Ethnicity:"Etnia","Final day to enter":"Último dia para participar","Finish quiz":"Concluir teste","First Name":"Nome",Follow:"Seguir","Follow issue":"Seguir questão","Follow these issues":"Seguir estas questões",Following:"Seguindo","Full Name":"","Full terms and conditions for this reward can be found {{termsLinkOpen}}here{{linkClose}}":"Os termos e condições completos desta recompensa estão disponíveis {{termsLinkOpen}}aqui{{linkClose}}",Gender:"Gênero","Get your friends to join the movement.":"Convide seus amigos para participar do movimento.","Global Citizen":"Global Citizen","Global Citizen Festival in Hamburg":"Global Citizen Festival em Hamburgo","Global Citizen Rewards":"Recompensas do Global Citizen","Global Citizen is a growing movement of people across the planet taking action to solve the world's biggest challenges. Thanks to your friend {{ referralName }}, you're invited to become a Global Citizen.":"O Global Citizen é um movimento cada vez maior de pessoas do mundo inteiro que estão entrando em ação para resolver os maiores desafios mundiais. Graças a {{ referralName }}, você foi convidado(a) para se tornar um(a) Global Citizen.","Global Citizen is a movement of engaged citizens who are using their collective voice to end extreme poverty by 2030. On our platform, Global Citizens learn about the systemic causes of extreme poverty, take action on those issues, and earn rewards for their actions ${'\\u2014'} as part of a global community committed to lasting change.":"O Global Citizen é um movimento de cidadãos engajados que estão usando sua voz coletiva para acabar com a pobreza extrema até 2030. Na nossa plataforma, os Global Citizens aprendem a respeito das causas sistêmicas da pobreza extrema, entram em ação para lidar com essas questões e ganham recompensas por suas ações, como parte de uma comunidade global que assumiu o compromisso de realizar mudanças duradouras.","Go To Ticketmaster":"Ir para o Ticketmaster","Go to the Ticketmaster website, enter the code, and follow the instruction.":"Acesse o site do Ticketmaster, insira o código e siga a instrução.","Great! Thanks for downloading the Global Citizen app.":"Excelente! Obrigado por baixar o app do Global Citizen.","Hey, we‘ve noticed your friends haven’t signed up yet.":"Percebemos que seus amigos ainda não se cadastraram.",How:"Como","How it works":"Como funciona","I just entered to win tickets to {{ name }}. Enter now at ":"Acabei de me inscrever para concorrer a ingressos para o evento {{ name }}. Inscreva-se agora em","I've read, understood and agree to Global Citizen’s {{ gcTermsLinkOpen }}Terms{{ linkClose }} and {{ gcPrivacyPolicyLinkOpen}}Privacy Policy{{ linkClose }}.":"Li, entendi e concordo com os {{ gcTermsLinkOpen }}Termos{{ linkClose }} e a {{ gcPrivacyPolicyLinkOpen}}Política de Privacidade{{ linkClose }} do Global Citizen.","If your Facebook account does not have an attached e-mail address, you'll need to add that before you can sign up.":"Se sua conta do Facebook não tiver um endereço de e-mail vinculado, você precisará adicionar um antes de se cadastrar.",Ignored:"Ignoradas","In Partnership With":"Em parceria com","In order to check in we need access to your location. Please enable location services for your web browser in your phone settings.":"Para fazer check-in, precisamos acessar sua localização. Ative os serviços de localização para seu navegador nas configurações do seu telefone.","In partnership with":"Em parceria com","It Starts with {{highlightOpen}}You{{spanClose}}.":"","It all starts with becoming a Global Citizen.":"O primeiro passo é se tornar um Global Citizen.","Join the movement":"Participar do movimento","Join us. Be the Generation.":"Junte-se a nós e faça parte dessa geração.",LGBTI:"LGBTI",Language:"Idioma","Last Name":"Sobrenome",Learn:"Learn","Learn More":"Saiba mais","Learn More by Issue":"Saiba mais por questão","Learn more":"Saiba mais","Learn more and register to vote":"Saiba mais e cadastre-se para votar","Leave your message":"Deixe sua mensagem","Let us know who you are to start taking action!":"Conte para nós quem você é para entrar em ação!","Live Site":"",'Loading search results for "{{query}}"...':'Carregando resultados de pesquisa para "{{query}}"...',"Loading your location...":"Carregando sua localização...","Loading...":"Carregando...","Log in":"Fazer login","Looks like you've been disconnected or haven't received our call.\\n\\n Make sure your phone number is correct and try again!":"Parece que você foi desconectado ou não recebeu nossa ligação.\\n\\n Verifique se o seu número de telefone está correto e tente novamente.","Make a donation now to support the work of":"","Make sure to check your spam folder, in case your email provider has incorrectly labelled it as spam.":"Confira sua pasta de spam. É possível que seu provedor de e-mail tenha identificado incorretamente a mensagem como spam.","Making an Impact":"Causando um impacto",Map:"Mapa","More Info":"Mais informações","Near me":"Perto de mim",Next:"Próximo","Next question":"Próxima pergunta",No:"Não","No actions found, try selecting other issues":"","No results were found matching your search criteria":"Não encontramos nenhum resultado que corresponda aos seus critérios de pesquisa","Not a Global Citizen yet?":"Ainda não é um Global Citizen?","Not seeing the email?":"Não está encontrando o e-mail?","Oh No! Something went wrong":"Oh, não! Algo deu errado","One more step":"Mais uma etapa","Oops please enter valid email":"Ops! Insira um e-mail válido","Our mission is to build the largest possible movement of global citizens taking action to solve the world's biggest challenges.":"Nossa missão é criar o maior movimento possível de cidadãos globais dispostos a entrar em ação para resolver os maiores desafios mundiais.",Password:"Senha","Password is required":"A senha é obrigatória","Please allow access to your location to find events near you.":"Permita o acesso à sua localização para encontrar eventos perto de você.","Please answer the following skill testing question before you can enter":"Para que você possa participar, é necessário responder à seguinte pergunta de teste de habilidades","Please choose an answer.":"Escolha uma resposta.","Please confirm that you agree to the {{ termsLinkOpen }}Global Citizen Rewards Terms and Conditions{{ termsLinkClose}} and would like to use {{ pointsOpen }}{{ points }} points{{ pointsClose }} to enter the drawing by clicking the button below.":"Para confirmar que você concorda com os {{ termsLinkOpen }}Termos e Condições das Recompensas do Global Citizen{{ termsLinkClose}} e que deseja usar {{ pointsOpen }}{{ points }} pontos{{ pointsClose }} para participar do sorteio, clique no botão abaixo.","Please confirm that you agree to the {{ termsLinkOpen }}Global Citizen Rewards Terms and Conditions{{ termsLinkClose}} and would like to use {{ pointsOpen }}{{ points }} point{{ pointsClose }} to enter the drawing by clicking the button below.":"Para confirmar que você concorda com os {{ termsLinkOpen }}Termos e Condições das Recompensas do Global Citizen{{ termsLinkClose}} e que deseja usar {{ pointsOpen }}{{ points }} ponto{{ pointsClose }} para participar do sorteio, clique no botão abaixo.","Please provide my name, email address and country to {{ openSpan }}{{ partnerName }}{{ closeSpan }} so that they can keep me up to date on this campaign and others.":"Forneça meu nome, endereço de e-mail e país ao parceiro {{ openSpan }}{{ partnerName }}{{ closeSpan }} para que ele possa me manter por dentro desta e de outras campanhas.","Please refresh the page when the call has ended.":"Atualize a página ao final da ligação.","Please try again":"Tente novamente",Points:"Pontos",Poll:"Enquete","Post Tweet":"Publicar tweet","Postal Code":"CEP",Profile:"Perfil",Published:"Publicado","Question {{ questionNumber }} of {{ total }}":"Pergunta {{ questionNumber }} de {{ total }}",REGISTER:"CADASTRAR-SE","Re-enter Password":"Inserir novamente a senha","Read More":"Ler mais","Read more":"Ler mais","Read more.":"Leia mais.","Read the latest stories to learn more about {{noWrapOpen}}the issues.{{noWrapClose}}":"","Receive alerts about the world's biggest challenges.":"Receba alertas sobre os maiores desafios mundiais.","Recent recruits":"Recrutamentos recentes","Recommended Stories":"Matérias recomendadas","Recommended because you follow {{ reasons }}.":"Recomendado porque você segue {{ reasons }}.","Redeem points for a chance to win tickets to your favorite events":"Resgate pontos para concorrer a ingressos para seus eventos favoritos","Refer friends":"Indicar amigos","Refine Results":"Refinar resultados",Required:"","Resend Verification Email":"Reenviar e-mail de verificação","Reset your filters and view all available rewards.":"Redefina seus filtros e veja todas as recompensas disponíveis.",Retry:"Tentar novamente",Reward:"Recompensa",Rewards:"Recompensas","SIGN UP":"CADASTRAR-SE","STRIPE successfully connected":"O STRIPE foi conectado","SUPPORTED BY":"","Score Now":"Atribuir pontuação agora",Scored:"Com pontuação atribuída",Search:"Pesquisa","Search rewards...":"Pesquisar recompensas...","See all info.":"Veja todas as informações.","See details":"Ver detalhes","Sept 24":"24 de setembro","Set up a password for your new profile.":"Defina uma senha para seu novo perfil.",Settings:"Configurações",Share:"Compartilhar","Share on Facebook":"Compartilhar no Facebook","Share on Twitter":"Compartilhar no Twitter","Share on Whatsapp":"Compartilhar no WhatsApp","Share on Workplace":"","Share with Email":"Compartilhar por e-mail","Share with Facebook Messenger":"Compartilhar com o Facebook Messenger","Share your invite link":"Compartilhar seu link de convite","Showing page {{currentPage}} of {{totalPages}}.":"Mostrando a página {{currentPage}} de {{totalPages}}.",ShowupVote:"ShowupVote","Sign In":"","Sign In with Facebook":"Fazer login com o Facebook","Sign Up":"Cadastrar-se","Sign Up with Facebook":"Cadastrar-se com o Facebook","Sign in":"Fazer login","Sign in to redeem rewards":"Faça login para resgatar recompensas","Sign into your account":"Faça login na sua conta","Sign out":"Encerrar sessão","Sign petitions, send emails, tweet, and call your {{noWrapOpen}}world leaders.{{noWrapClose}}":"","Sign up":"Cadastrar-se","Sign up and be the first to know the latest":"Cadastre-se para ser a primeira pessoa a saber das novidades","Sign up for emails (optional): ":"Cadastre-se para receber e-mails (opcional):","Sign up to Enter":"Cadastrar-se para participar","Sign up to claim your points and earn rewards, like tickets to shows by your favorite artists.":"Cadastre-se para reivindicar seus pontos e ganhar recompensas como ingressos para shows dos seus artistas favoritos.","Sign up to win tickets":"Cadastre-se para ganhar ingressos","Sign up today and receive your bonus point to get started. The more actions you take as a Global Citizen, the more points you earn. You can redeem those points for the chance to win rewards like Festival tickets.":"Cadastre-se hoje e receba um ponto de bônus para começar. Quanto mais ações você realizar como Global Citizen, mais pontos ganhará. Você pode resgatar esses pontos para concorrer a recompensas como ingressos para festivais.","Sign up with your {{ provider }} account":"Cadastrar-se com sua conta do {{ provider }}","Sign up\x3c!-- Germany Festival Modal --\x3e":"Cadastrar-se\x3c!-- Germany Festival Modal --\x3e","Skip for now >>":"Pular por enquanto >>","Skip this for now >":"Pular por enquanto >","Skip to Sign Up":"Pular para o cadastro","Something went wrong":"Algo deu errado","Sort By:":"Classificar por:","Stay up to date":"Mantenha-se informado","Step {{ current }} of {{ total }}: ":"Etapa {{ current }} de {{ total }}: ",Submit:"Enviar","Submit answer":"Enviar resposta","Take Action":"Entrar em ação","Take Action Now":"Entrar em ação agora","Take More Action":"Realizar mais ações","Take action":"Entrar em ação","Take action to enter":"Entre em ação para participar","Terms and Privacy Policy agreement (required): ":"Contrato de Termos e Política de Privacidade (obrigatório):","Thank You":"","Thank you for completing this action!":"Obrigado por concluir esta ação!","Thank you for your donation!":"Obrigado por sua doação!","Thank you!":"Obrigado!","Thanks for Entering!":"Obrigado por participar!","Thanks for signing up as a global citizen. In order to create your account we need you to provide your email address. You can check out our {{linkOpen}}Privacy Policy{{linkClose}} to see how we safeguard and use the information you provide us with.":"Obrigado por se cadastrar como um cidadão global. Para criar sua conta, precisamos que você forneça seu endereço de e-mail. Você pode consultar nossa {{linkOpen}}Política de Privacidade{{linkClose}} para saber como protegemos e usamos as informações que você nos fornece.","Thanks for signing up!":"Obrigado por se cadastrar!","Thanks for taking action.":"Obrigado por entrar em ação.","That email appears incorrect. Did you mean {{ didYouMean }}?":"","The answer cannot be blank":"A resposta não pode ficar em branco","The answer was incorrect. Please try again.":"A resposta está incorreta. Tente novamente.","The drawing for these tickets has already closed":"O sorteio desses ingressos já foi encerrado","There are currently no rewards available in your country. {{ rewardLinkOpen }}Click here{{ rewardLinkClose }} to view all of our available rewards":"No momento, não há nenhuma recompensa disponível no seu país. {{ rewardLinkOpen }}Clique aqui{{ rewardLinkClose }} para ver todas as nossas recompensas disponíveis","This action can only be completed between {{ start }} and {{ end }}{{ weekdays }}. Please check back later to take this action.":"Esta ação só pode ser concluída entre {{ start }} e {{ end }}{{ weekdays }}. Retorne em outro momento para realizar esta ação.","This action is not available in your country":"Esta ação não está disponível no seu país","This action is only available to users in {{ countryName }}.\\n\\nPlease update your country and try again.":"Esta ação só está disponível para usuários do seguinte país: {{ countryName }}.\\n\\nAtualize seu país e tente novamente.","This site uses cookies to provide you with the best experience.":"Este site utiliza cookies para oferecer a você a melhor experiência possível.","Ticket Per Winner":"Ingresso por vencedor","Tickets Per Winner":"Ingressos por vencedor","To know about":"A ficar sabendo sobre","To know about Sept 24":"Para saber sobre 24 de setembro","Try Again":"Tentar novamente",Tweet:"Tweetar",Unfollow:"Deixar de seguir","Unfollow issue":"Deixar de seguir questão","Up Next":"A seguir",Upcoming:"Futuros",Update:"Atualizar","Update status":"Atualizar status","Use template":"Usar modelo","Use your points from action-taking to enter to win {{noWrapOpen}}exclusive rewards.{{noWrapClose}}":"",Venue:"Local",Videos:"Vídeos","View Details":"Ver detalhes","View rewards":"Ver recompensas","We are one human race. But in many places around the world, people are judged and discriminated against because of their race or ethnicity due to prejudice that is ingrained in cultures and {{noWrapOpen}}societal norms.{{noWrapClose}}":"","We are partnering with {{noWrapOpen}}Global Citizen{{spanClose}} to tackle {{highlightOpen}}prejudice{{spanClose}} and {{highlightOpen}}discrimination{{spanClose}} on a global scale through {{noWrapOpen}}{{highlightOpen}}action-taking{{spanClose}} and {{highlightOpen}}advocacy{{spanClose}}{{spanClose}}":"Em parceria com o {{noWrapOpen}}Global Citizen{{spanClose}}, vamos lutar contra o {{highlightOpen}}preconceito{{spanClose}} e a {{highlightOpen}}discriminação{{spanClose}} em uma escala global {{noWrapOpen}}{{highlightOpen}}entrando em ação{{spanClose}} e {{highlightOpen}}defendendo causas importantes{{spanClose}}{{spanClose}}","We are unable to find your representative's twitter handle.":"Não encontramos o nome de usuário do Twitter do seu representante.","We can't find your MP. Please update your address and try again.":"Não encontramos seu membro do parlamento. Atualize seu endereço e tente novamente.","We can't find your MP. Please update your postal code and try again.":"Não encontramos seu membro do parlamento. Atualize seu CEP e tente novamente.","We can't find your Representative. Please update your address and try again.":"Não encontramos seu representante. Atualize seu endereço e tente novamente.","We can't find your Representative. Please update your postal code and try again.":"Não encontramos seu representante. Atualize seu CEP e tente novamente.","We can't find your Senator. Please update your address and try again.":"Não encontramos seu senador. Atualize seu endereço e tente novamente.","We can't find your Senator. Please update your postal code and try again.":"Não encontramos seu senador. Atualize seu CEP e tente novamente.","We can't find your local newspaper. Please update your address and try again.":"","We can't find your local newspaper. Please update your postal code and try again.":"","We can't find your state newspaper. Please update your address and try again.":"","We can't find your state newspaper. Please update your postal code and try again.":"","We can't find your store. Please update your address and try again.":"Não encontramos sua loja. Atualize seu endereço e tente novamente.","We can't find your store. Please update your postal code and try again.":"Não encontramos sua loja. Atualize seu CEP e tente novamente.","We partnered with {{noWrapOpen}}Global Citizen{{noWrapClose}} on our first disability campaign want to build a world that is more inclusive and accessible for people with disabilities. We want to champion that we are all are {{noWrapOpen}}differently-abled.{{noWrapClose}}":"","We stand for you":"We stand for you","We want to create an equal world where everyone is free to express themselves, and create a diverse and inclusive organization, where everyone can bring their whole self {{noWrapOpen}}to work.{{noWrapClose}}":"","We will email you as soon as our partner has confirmed that you have completed the action with them and your points have been awarded.":"Enviaremos um e-mail a você assim que nosso parceiro confirmar que você concluiu a ação com ele e que seus pontos forem concedidos.","We will let you know if you are a winner after the drawing on {{ date }}. Best of luck!":"Avisaremos se você for um dos vencedores depois do sorteio, que ocorrerá em {{ date }}. Boa sorte!","We'll email you soon with the latest.":"Enviaremos um e-mail em breve com as notícias mais recentes.","We're looking to promote the empowerment of girls & women for building healthier, better-educated, and more {{noWrapOpen}}prosperous communities.{{noWrapClose}}":"","We're sorry but the phone number you provided is outside our coverage range. \\n\\n You can still add your voice to the movement by calling the target directly at {{ phoneNumber }} or please refresh the page and provide an alternative number.":"Lamentamos, mas o número de telefone fornecido por você está fora da nossa área de cobertura. \\n\\n Você ainda pode acrescentar sua voz ao movimento ligando diretamente para {{ phoneNumber }}. Como alternativa, atualize a página e forneça outro número.","Welcome Back! Sign in.":"Bem-vindo(a) de volta! Faça login.","Welcome back, {{ name }}!":"Bem-vindo(a) de volta, {{ name }}!","Welcome, {{ name }}!":"Bem-vindo(a), {{ name }}!","We’ve sent you an email. Please click the link in the message, then refresh this page.":"Enviamos um e-mail para você. Clique no link disponível na mensagem e, em seguida, atualize esta página.",What:"O quê","What is this content piece?":"","What issues are you most passionate about?":"Quais questões são mais importantes para você?","What to Know":"O que saber",When:"Quando",'When your friends sign up, their names will appear in the "Recent recruit" section on this page. If you have any issues please get in touch with us at':'Quando seus amigos se cadastrarem, os nomes deles serão exibidos na seção "Recrutamentos recentes" desta página. Caso tenha algum problema, envie um e-mail para',Where:"Onde",Why:"Por quê","Win rewards":"Ganhar recompensas",Winner:"Vencedor",Winners:"Vencedores",Yes:"Sim","Yes, I'd like":"","Yes, please send me updates and opportunities from {{ gcLinkOpen }}Global Citizen{{ linkClose}} to be part of the movement to end extreme poverty.":"Sim, quero receber informações e oportunidades do {{ gcLinkOpen }}Global Citizen{{ linkClose}} para fazer parte do movimento e eliminar a pobreza extrema.","You answered {{ correctCount }} of {{ total }} correctly":"Você respondeu corretamente a {{ correctCount }} de {{ total }} perguntas","You are already signed in!":"Você já fez login!","You can get informed, take action, and meet other like-minded change-makers. It has never been easier to make a real positive impact!":"Você pode se manter informado, entrar em ação e encontrar outras pessoas com o mesmo entusiasmo para realizar mudanças. Nunca foi tão fácil causar um impacto positivo!","You have 1 point available. Great work! Treat yourself to some awesome rewards.":"Você tem 1 ponto disponível. Bom trabalho! Aproveite nossas recompensas incríveis.","You have completed all available actions. Thank you for doing your part to end extreme poverty!":"Você concluiu todas as ações disponíveis. Obrigado por fazer sua parte para eliminar a pobreza extrema!","You have no points available. Go earn more points by {{ openLink }}taking action{{ closeLink}}!":"Você não tem nenhum ponto disponível. Ganhe mais pontos {{ openLink }}entrando em ação{{ closeLink}}!","You have {{ points }} points available. Great work! Treat yourself to some awesome rewards.":"Você tem {{ points }} pontos disponíveis. Bom trabalho! Aproveite nossas recompensas incríveis.","You need {{ points }} more point":"Você precisa de mais {{ points }} ponto","You need {{ points }} more points":"Você precisa de mais {{ points }} pontos","You will be the first":"Você será a primeira pessoa","You've answered {{answerCount}} correctly":"Você respondeu corretamente a {{answerCount}} pergunta","You've completed this action":"Você concluiu esta ação","You've completed this campaign.":"","You've earned {{ openPoints }}{{ points }}{{ closeSpan }}!":"Você ganhou {{ openPoints }}{{ points }}{{ closeSpan }}!","You've earned {{ pointsString }}!":"Você ganhou {{ pointsString }}!","You've earned {{ spanOpen }}{{ points }} point!{{ spanClose}}":"Você ganhou {{ spanOpen }}{{ points }} ponto!{{ spanClose}}","You've earned {{ spanOpen }}{{ points }} points!{{ spanClose}}":"Você ganhou {{ spanOpen }}{{ points }} pontos!{{ spanClose}}","You've entered to win tickets!":"Você está concorrendo a ingressos!","Your MP":"Seu membro do parlamento","Your MPs":"Seus membros do parlamento","Your Representative":"Seu representante","Your Representatives":"Seus representantes","Your Senator":"Seu senador","Your Senators":"Seus senadores","Your Store":"Sua loja","Your Stores":"Suas lojas","Your actions really do make a difference and every action you take earns you points that you can use to enter to win awesome experiences and rewards. Read more about your impact {{ linkStart }}here{{ linkEnd }}.":"Suas ações realmente fazem a diferença, e você ganha pontos com cada ação realizada. Esses pontos podem ser usados para concorrer a experiências e recompensas incríveis. Leia mais sobre seu impacto {{ linkStart }}aqui{{ linkEnd }}.","Your actions really do make a difference! Learn more about your impact {{ openAnchor }}here{{ closeAnchor}}.":"Suas ações realmente fazem a diferença! Saiba mais sobre seu impacto {{ openAnchor }}aqui{{ closeAnchor}}.","Your email has been sent":"Seu e-mail foi enviado","Your email will not be sent until you click the link in the email":"Seu e-mail só será enviado depois que você clicar no link presente no e-mail","Your local newspaper":"","Your local newspapers":"","Your password must be at least 6 characters":"Sua senha precisa ter pelo menos 6 caracteres","Your password must contain at least one number and letter":"Sua senha precisa ter pelo menos um número e uma letra","Your state newspaper":"","Your state newspapers":"","actions taken":"ações realizadas",address:"endereço","and ":"e","checked in":"fez check-in","completed an action":"concluiu uma ação",date:"data","for your points.":"para ver seus pontos.","in partnership with":"","made a call":"fez uma ligação",or:"ou",point:"ponto",points:"pontos","postal code":"CEP",relevance:"relevância","sent an email":"enviou um e-mail","signed a petition":"assinou uma petição","take action":"entrar em ação","these are not my MPs":"esses não são meus membros do parlamento","these are not my Representatives":"esses não são meus representantes","these are not my Senators":"esses não são meus senadores","these are not my Stores":"essas não são minhas lojas","these are not my local newspapers":"","these are not my state newspapers":"","this is not my MP":"esse não é meu membro do parlamento","this is not my Representative":"esse não é meu representante","this is not my Senator":"esse não é meu senador","this is not my Store":"essa não é minha loja","this is not my local newspaper":"","this is not my state newspaper":"",tweeted:"tweetou","{{ city }} | {{ venue }}":"","{{ city }}, {{ state }} | {{ venue }}":"{{ city }}, {{ state }} | {{ venue }}","{{ daysLeft }} day left to enter":"Resta {{ daysLeft }} dia para participar","{{ daysLeft }} days left to enter":"Restam {{ daysLeft }} dias para participar","{{ h2 }}<p>CENTRAL PARK</p>{{ headlineDate }}09.23.2017{{ closeP }}{{ closeH2 }} {{ h1 }}GL{{headlineHighlightAlt}}O{{ spanClose }}BAL {{ headlineHighlight }}CITIZEN{{ spanClose }} {{ headlineSmall }}FESTIVAL{{ spanClose }}{{ closeH1 }}":"{{ h2 }}<p>CENTRAL PARK</p>{{ headlineDate }}23/09/2017{{ closeP }}{{ closeH2 }} {{ h1 }}GL{{headlineHighlightAlt}}O{{ spanClose }}BAL {{ headlineHighlight }}CITIZEN{{ spanClose }} {{ headlineSmall }}FESTIVAL{{ spanClose }}{{ closeH1 }}","{{ h2 }}Thank you{{ closeH2 }} {{ h2}}for joining the movement{{ closeH2 }}":"{{ h2 }}Obrigado{{ closeH2 }} {{ h2}}por participar do movimento{{ closeH2 }}","{{ icon }} Language":"{{ icon }} Idioma","{{ name }}":"{{ name }}","{{ name }} at {{ venue }} in {{ city }} on {{ date }}":"{{ name }} em {{ venue }}, na cidade de {{ city }}, em {{ date }}","{{ name }} in {{ city }}":"{{ name }} na cidade de {{ city }}","{{ name }} in {{ city }} on {{ date }}":"{{ name }} na cidade de {{ city }} em {{ date }}","{{ name }} on {{ date }}":"{{ name }} em {{ date }}","{{ number }} people have taken this action so far":"{{ number }} pessoas realizaram esta ação até agora","{{ pCenter }}Between now and Nov. 8, we are building a movement of global citizens around the U.S., who will show up and vote this election.{{ closeP }}{{ pCenter }}Citizenship starts with you.{{ br }}Be a Global Citizen.{{ closeP }}":"{{ pCenter }}Entre hoje e o dia 8 de novembro, construiremos um movimento de cidadãos globais nos EUA que votarão nesta eleição.{{ closeP }}{{ pCenter }}A cidadania começa com você.{{ br }}Seja um Global Citizen.{{ closeP }}","{{ points }} point available":"{{ points }} ponto disponível","{{ points }} point earned":"{{ points }} ponto ganho","{{ points }} point to enter":"{{ points }} ponto para participar","{{ points }} points":"{{ points }} pontos","{{ points }} points available":"{{ points }} pontos disponíveis","{{ points }} points earned":"{{ points }} pontos ganhos","{{ points }} points to enter":"{{ points }} pontos para participar","{{ pointsOpen }}Click{{ pointsClose }} to enter":"{{ pointsOpen }}Clique{{ pointsClose }} para participar","{{ pointsOpen }}{{ actions }} actions{{ pointsClose }} left to complete":"{{ pointsOpen }}{{ actions }} ações{{ pointsClose }} a serem concluídas","{{ pointsOpen }}{{ actions }} action{{ pointsClose }} left to complete":"{{ pointsOpen }}{{ actions }} ação{{ pointsClose }} a ser concluída","{{ pointsOpen }}{{ points }} points{{ pointsClose }} to enter":"{{ pointsOpen }}{{ points }} pontos{{ pointsClose }} para participar","{{ pointsOpen }}{{ points }} point{{ pointsClose }} to enter":"{{ pointsOpen }}{{ points }} ponto{{ pointsClose }} para participar","{{ rewardCount }} available rewards.":"{{ rewardCount }} recompensas disponíveis.","{{ state }} | {{ venue }}":"","{{ strong  }} {{points }} Point {{ closeStrong }} to redeem":"{{ strong  }} {{points }} ponto {{ closeStrong }} para resgatar","{{ strong  }} {{points }} Points {{ closeStrong }} to redeem":"{{ strong  }} {{points }} pontos {{ closeStrong }} para resgatar","{{ strongOpen }}Sign up for emails (optional):{{ strongClose }} Yes, please send me updates and opportunities from Global Citizen to be part of the movement to end extreme poverty.":"{{ strongOpen }}Cadastre-se para receber e-mails (opcional):{{ strongClose }} sim, quero receber informações e oportunidades do Global Citizen para fazer parte do movimento e eliminar a pobreza extrema.","{{ strongOpen }}Social media engagement guideline acknowledgement (required):{{ strongClose }} I have read, understood and agree to {{ provider }}'s social media {{ linkOpen }}policy{{ linkClose }}.":"{{ strongOpen }}Confirmação de diretriz de envolvimento em redes sociais (obrigatória):{{ strongClose }} Li, entendi e concordo com a {{ linkOpen }}política de redes sociais{{ linkClose }} da {{ provider }}.","{{ strongOpen }}Terms and Privacy Policy agreement (required):{{ strongClose }} {{ noWrapOpen }}I have read,{{ noWrapClose }} understood and agree to:{{ lineBreak}}(i) Global Citizen’s {{ gcTermsLinkOpen }}Terms{{ linkClose }} and {{ gcPrivacyPolicyLinkOpen}}Privacy Policy{{ linkClose }}.{{ lineBreak }}(ii) granting permission to Global Citizen to provide my first name, last name, email address and country to {{ provider }} who may use my information and send to me communications related to the partnership and the platform in accordance with its {{ ssoTermsLinkOpen }}Privacy Policy{{ linkClose }}.":"","{{ textLength }}/{{ maxLength }} Characters":"{{ textLength }}/{{ maxLength }} caracteres","{{ textLength }}/{{ minLength }} Characters":"{{ textLength }}/{{ minLength }} caracteres","{{ tickets }} Ticket to {{ rewardName }}":"{{ tickets }} ingresso para {{ rewardName }}","{{ tickets }} Tickets to {{ rewardName }}":"{{ tickets }} ingressos para {{ rewardName }}","{{noWrapOpen}}Global Citizen's{{noWrapClose}} goal of ending extreme poverty is possible by calling on leaders to focus support behind {{noWrapOpen}}marginalized groups.{{noWrapClose}}":"Para que a meta do {{noWrapOpen}}Global Citizen{{noWrapClose}} de eliminar a pobreza extrema seja possível, precisamos exigir que os líderes concentrem seu apoio em {{noWrapOpen}}grupos marginalizados.{{noWrapClose}}","{{noWrapOpen}}Global Citizen{{noWrapClose}} is a platform that helps you have your voice heard on {{noWrapOpen}}what matters{{noWrapClose}}":"O {{noWrapOpen}}Global Citizen{{noWrapClose}} é uma plataforma que ajuda você a ser ouvido em {{noWrapOpen}}questões importantes{{noWrapClose}}","{{spanOpen}}Hi{{spanClose}} {{ username }}{{ spanEndOpen }}!{{ spanClose }}":"{{spanOpen}}Olá,{{spanClose}} {{ username }}{{ spanEndOpen }}!{{ spanClose }}","{{termsLinkOpen}}Terms and Conditions{{linkClose}}":"{{termsLinkOpen}}Termos e Condições{{linkClose}}",'{{totalResultCount}} result found for "{{query}}".':'{{totalResultCount}} resultado encontrado para "{{query}}".','{{totalResultCount}} results found for "{{query}}".':'{{totalResultCount}} resultados encontrados para "{{query}}".',"{{ points }} point to enter drawing {{ br }} {{ available_tickets }} pair of tickets available":"{{ points }} ponto para participar do sorteio {{ br }} {{ available_tickets }} par de ingressos disponível","{{ points }} points to enter drawing {{ br }} {{ available_tickets }} pair of tickets available":"{{ points }} pontos para participar do sorteio {{ br }} {{ available_tickets }} par de ingressos disponível","{{ points }} point to enter drawing {{ br }} {{ available_tickets }} pairs of tickets available":"{{ points }} ponto para participar do sorteio {{ br }} {{ available_tickets }} pares de ingressos disponíveis","{{ points }} points to enter drawing {{ br }} {{ available_tickets }} pairs of tickets available":"{{ points }} pontos para participar do sorteio {{ br }} {{ available_tickets }} pares de ingressos disponíveis","{{ strong }}{{ days_left }} Days{{ closeStrong }} Until Drawing":"{{ strong }}{{ days_left }} dias{{ closeStrong }} para o sorteio","{{ strong }}{{ days_left }} Day{{ closeStrong }} Until Drawing":"{{ strong }}{{ days_left }} dia{{ closeStrong }} para o sorteio","{{ strong }}{{ tickets_per_winner }} Tickets{{ closeStrong }} Per Winner":"{{ strong }}{{ tickets_per_winner }} ingressos{{ closeStrong }} por vencedor","{{ strong }}{{ tickets_per_winner }} Ticket{{ closeStrong }} Per Winner":"{{ strong }}{{ tickets_per_winner }} ingresso{{ closeStrong }} por vencedor","{{ strong }}{{ total_available }} Winners{{ closeStrong }} Per Drawing":"{{ strong }}{{ total_available }} vencedores{{ closeStrong }} por sorteio","{{ strong }}{{ total_available }} Winner{{ closeStrong }} Per Drawing":"{{ strong }}{{ total_available }} vencedor{{ closeStrong }} por sorteio"})}}},function(e,t){});var f=i.a.t.bind(i.a);i.a.changeLanguage.bind(i.a);function d(){return navigator.language||navigator.userLanguage||navigator.browserLanguage||navigator.systemLanguage||"en"}function m(){return navigator.languages||[d()]}function h(e,t){var n=r.a.cookie(l.a.language.cookieName);return new Date(e).toLocaleString(n,t)}},21:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var o={Ready:"ready",CompleteAction:"complete-action",Loading:"loading",ActionCompleted:"action-completed",ConfirmEmail:"confirm-email",EmailConfirmationSent:"email-confirmation-sent",StartCall:"start-call",CallStarted:"call-started",NumberOutsideArea:"number-outside-area",Error:"error",CallDisconnected:"call-disconnected",CallExpired:"call-expired",TakeAction:"take-action",VerifyContact:"verify-contact",SkipIntro:"skip-intro"}},22:function(e,t,n){"use strict";n.d(t,"a",function(){return s});var o=n(6),r=n.n(o),a=n(7),i=n.n(a),s={assign:function(e){return window.location.assign(e)},getCleanParameterByName:function(e){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var t=new RegExp("[\\?&]".concat(e,"=([a-zA-Z0-9-]*)")).exec(this.getQueryString());return null===t?"":t[1]},getParameterByName:function(e){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var t=new RegExp("[\\?&]".concat(e,"=([^&#]*)")).exec(this.getQueryString());return null===t?"":decodeURIComponent(t[1].replace(/\+/g," "))},getQueryString:function(){return location.search},inGroupsOf:function(e,t){for(var n=[];e.length>0;)n.push(e.splice(0,t));return n},parsePath:function(e){var t=document.createElement("a");t.href=e;var n=t.pathname;return"/"!==n[0]?"/".concat(n):n},postAsForm:function(e,t,n){n=n||"post";var o=document.createElement("form");for(var r in o.setAttribute("method",n),o.setAttribute("action",e),t)if(t.hasOwnProperty(r)){var a=document.createElement("input");a.setAttribute("type","hidden"),a.setAttribute("name",r),a.setAttribute("value",t[r]),o.appendChild(a)}document.body.appendChild(o),o.submit()},readUrl:function(e,t){var n=e.files?e.files:e.currentTarget.files;if(n&&n[0]){var o=new FileReader;o.onload=function(e){var n=r()(t);n.src?n.attr("src",e.target.result):(n.css("background","url(".concat(e.target.result,") no-repeat center")),n.css("background-size","100%"))},o.readAsDataURL(n[0])}},reloadPage:function(){return window.location.reload(!0)},smoothScroll:function(e){r()(e).off("click").click(function(e){e.preventDefault();var t=r()(this).attr("href"),n=t.substring(t.indexOf("#")+1),o=r()("#".concat(n));r()("html,body").animate({scrollTop:o.offset().top},"slow")})},truncateByWord:function(e,t){if(void 0===e)return"";if(e.length>t){var n=e.substring(0,t).split(" ");return"".concat(n.slice(0,-1).join(" "),"...")}return e},updateUrlParameter:function(e,t,n){var o=e.indexOf("#"),r=-1===o?"":e.substr(o);e=-1===o?e:e.substr(0,o);var a=new RegExp("([?&])".concat(t,"=.*?(&|$)"),"i"),i=-1!==e.indexOf("?")?"&":"?";return(e=e.match(a)?e.replace(a,"$1".concat(t,"=").concat(n,"$2")):"".concat(e+i+t,"=").concat(n))+r},removeUrlParameter:function(e,t){var n=e.split("?")[0],o=[],r=-1!==e.indexOf("?")?e.split("?")[1]:"";if(""!==r){var a=r.split("&"),i=!0,s=!1,c=void 0;try{for(var l,u=a[Symbol.iterator]();!(i=(l=u.next()).done);i=!0){var p=l.value;p.split("=")[0]!==t&&o.push(p)}}catch(e){s=!0,c=e}finally{try{i||null==u.return||u.return()}finally{if(s)throw c}}o.length&&(n="".concat(n,"?").concat(o.join("&")))}return n},historyReplaceState:function(e){window.history.replaceState({path:e},"",e)},findDeepObjectValue:function(e,t){var n,o;for(n=0,o=(t=t.split(".")).length;n<o;n++)r.a.isArray(e[t[n]])?(e=e[t[n]][t[n+1]],n++):e=e[t[n]];return e},toggleValueInArray:function(e,t){return-1==i.a.indexOf(e,t)?i.a.union(e,[t]):i.a.without(e,t)},renderDefaultImage:function(e){return e||"/static/img/festival-banner.png"}};window.utils=s},23:function(e,t,n){"use strict";n.d(t,"a",function(){return c});var o=n(0),r=n.n(o),a=n(92),i=n(2);function s(e){if(e&&e.points){var t={points:e.points,interpolation:{escape:!1}};return{__html:1===e.points?Object(i.c)("+ {{ points }} point available",t):Object(i.c)("+ {{ points }} points available",t)}}return null}var c={renderPoints:function(e){return e&&e.points?r.a.createElement("span",{className:"bst"},r.a.createElement("i",{className:"far fa-star"})," ",r.a.createElement("span",{className:"pl-1",dangerouslySetInnerHTML:s(e)})):null},renderPointsMessage:s,renderActionOrActionSetProgressBar:function(e,t){return e&&e.actionSet&&e.actionSet.actions&&1===e.actionSet.actions.length?c.renderProgressBar(e.actionSet.actions[0],t):e&&e.action?c.renderProgressBar(e.action,t):null},renderProgressBar:function(e,t){return e&&e.target_number&&(e.times_completed||e.users_completed)?r.a.createElement("div",{className:t},r.a.createElement(a.a,{goal:e.target_number,count:e.times_completed||e.users_completed,description:Object(i.c)("actions taken")})):null},hasDetails:function(e){return e&&(e.what_to_know_about||e.what_to_know_target||e.what_to_know_needs)}}},234:function(e,t,n){"use strict";var o=n(15),r=n(104);function a(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.bindListeners({loadEmployeeEngagementActions:r.a.loadEmployeeEngagementActions,resetActionsList:r.a.resetActionsList,updatePage:r.a.updatePage}),this.state={count:0,actionsList:[],page:1}}return function(e,t,n){t&&a(e.prototype,t),n&&a(e,n)}(e,[{key:"processActions",value:function(e){return e.map(function(e){return{action_id:e.id,issue_override:!1}})}},{key:"loadEmployeeEngagementActions",value:function(e){this.setState({count:e.count,actionsList:this.processActions(e.actions)})}},{key:"updatePage",value:function(e){this.setState({count:e.count,actionsList:this.processActions(e.actions),page:e.page})}},{key:"resetActionsList",value:function(){this.setState({actionsList:[]})}}]),e}();t.a=o.a.createStore(i,"ActionStore")},24:function(e,t,n){"use strict";var o=n(289),r=n.n(o),a=n(6),i=n.n(a),s=n(290),c=n.n(s),l=n(28),u=n(27),p=n(16);function f(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var d=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return function(e,t,n){t&&f(e.prototype,t),n&&f(e,n)}(e,null,[{key:"trackUserSubscription",value:function(e,t,n){Object(p.a)({url:"/v1/analytics/track/".concat(e,"/"),type:"POST",data:JSON.stringify(t),contentType:"application/json; charset=utf-8",success:n.success,error:n.error})}}]),e}();function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function y(e,t,n){return t&&h(e.prototype,t),n&&h(e,n),e}n.d(t,"k",function(){return b}),n.d(t,"a",function(){return k}),n.d(t,"b",function(){return _}),n.d(t,"f",function(){return C}),n.d(t,"g",function(){return S}),n.d(t,"i",function(){return E}),n.d(t,"h",function(){return P}),n.d(t,"d",function(){return j}),n.d(t,"c",function(){return N}),n.d(t,"e",function(){return T}),n.d(t,"j",function(){return x});var b=r()({writeKey:l.a.segment.writeKey});function g(e){return e?function(e){return e.title?{id:e.id,name:e.title}:{id:e.id,name:e.name}}(e):null}function v(e){return e?g(e[0]):null}function w(e,t){return(new k).call().then(function(){return window.analytics.track(e,t)})}var k=function(){function e(){m(this,e)}return y(e,[{key:"call",value:function(){return u.a.get().then(this.identifyUser.bind(this))}},{key:"identifyUser",value:function(e){void 0!==e.id&&(this.userId=e.id,window.analytics.identify(this.userId.toString(),e.analytics))}}]),e}(),O=function(){function e(){m(this,e),this.startTime=Date.now()}return y(e,[{key:"createdAt",value:function(){return this.startTime}},{key:"timeElapsed",value:function(){return Date.now()-this.startTime}}]),e}(),_=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};m(this,e),this.contentEndpoint=t.contentEndpoint,this.contentID=t.contentID,this.contentElementSelector=t.contentElementSelector,this.contentElementSelector&&(this.trackReadingTime=new C({elementSelector:this.contentElementSelector,readCallback:this.trackReadContentEvent.bind(this)}))}return y(e,[{key:"call",value:function(){var e=this;return this.getContent().then(this.trackViewedContentEvent.bind(this)).then(function(){e.trackReadingTime&&e.trackReadingTime.call()})}},{key:"getContent",value:function(){var e=this;return i.a.get(this.contentURL(),function(t){e.content=t[0]})}},{key:"contentURL",value:function(){return"".concat(this.contentEndpoint,"?ids=[").concat(this.contentID,"]")}},{key:"trackViewedContentEvent",value:function(){var e=this;if(void 0!==this.content)return w("Event Content View",this.cleanedContentAttributes()).then(function(){return e.trackingEventSend=!0})}},{key:"trackReadContentEvent",value:function(){if(void 0!==this.content)return w("Event Content Read",this.cleanedContentAttributes())}},{key:"cleanedContentAttributes",value:function(){return{contentId:this.content.id,contentSlug:this.content.url,publicationDate:this.content.publicationDate,contentType:this.content.type,issue:g(this.content.issue),category:g(this.content.category),partner:g(this.content.partner),authors:v(this.content.authors)}}}]),e}(),C=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};m(this,e),this.readCallback=t.readCallback,this.element=i()(t.elementSelector),this.minimumTimeOnPage=t.minimumTimeOnPage||30,this.minimumPercentageRead=t.minimumPercentageRead||100,this.trackingEventSent=!1,this.timer=t.timer||new O}return y(e,[{key:"call",value:function(){if(this.element[0])return this.watchScrollPosition()}},{key:"onRead",value:function(){return this.timeOnPage()>=this.minimumTimeOnPage&&this.trackingEventUnsent()?(this.trackingEventSent=!0,this.readCallback()):Promise.resolve(!1)}},{key:"watchScrollPosition",value:function(){this.watcher=c.a.create(this.element,{top:this.elementOffset()}),this.watcher.enterViewport(this.onRead.bind(this))}},{key:"elementOffset",value:function(){return this.minimumPercentageRead/100*this.defaultOffsetHeight()}},{key:"defaultOffsetHeight",value:function(){return-this.element.get(0).offsetHeight}},{key:"timeOnPage",value:function(){return this.timer.timeElapsed()/1e3}},{key:"trackingEventUnsent",value:function(){return!this.trackingEventSent}}]),e}(),S=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};m(this,e),this.itemID=t.itemID,this.itemType=t.itemType,this.sharedItem=t.sharedItem,void 0===this.sharedItem&&("content"===this.itemType&&this.itemID?this.itemURL="/api/content/?ids=[".concat(this.itemID,"]"):"action"===this.itemType&&this.itemID&&(this.itemURL="/api/actions/?ids=[".concat(this.itemID,"]")),this.getItem())}return y(e,[{key:"getItem",value:function(){var e=this;if(this.itemURL)return i.a.get(this.itemURL,function(t){e.sharedItem=t[0]})}},{key:"setSharePlatform",value:function(e){this.sharePlatform=e}},{key:"trackSharedItemEvent",value:function(e){var t=this;if(e&&this.setSharePlatform(e),void 0!==this.sharedItem&&void 0!==this.sharePlatform)return w("Event Item Share",this.getTrackingData()).then(function(){return t.trackingEventSent=!0})}},{key:"getTrackingData",value:function(){return{shareId:this.sharedItem.id,contentSlug:this.sharedItem.url,publicationDate:this.sharedItem.publicationDate,shareType:this.itemType,issue:g(this.sharedItem.issue),partner:g(this.sharedItem.partner),authors:v(this.sharedItem.authors),sharePlatform:this.sharePlatform}}}]),e}(),E=function(){function e(){m(this,e)}return y(e,[{key:"trackUserSubscribeEvent",value:function(e,t,n){return d.trackUserSubscription("subscribe",{subscriptionName:e,email:t,method:"web",elementName:n},{})}}]),e}(),P=function(){function e(){m(this,e)}return y(e,[{key:"trackUserAuthEvent",value:function(e,t,n,o,r,a){var i={authType:e,provider:t,method:"web",elementName:n};return o&&(i.isReferral=o),r&&(i.referredBy=r),void 0!==a&&(i.emailOptIn=a),w("Event User Auth",i)}}]),e}(),j=function(){function e(){m(this,e)}return y(e,[{key:"trackElementDisplay",value:function(e){return w("Event Element Display",{elementName:e})}}]),e}(),N=function(){function e(){m(this,e)}return y(e,[{key:"trackElementClick",value:function(e,t,n){return w("Event Element Click",{elementName:e,targetName:t,action:n})}}]),e}(),T=function(){function e(){m(this,e)}return y(e,[{key:"trackLinkClick",value:function(e,t,n,o){return function(e,t,n){return(new k).call().then(function(){return window.analytics.trackLink(e,t,n)})}(i()(e),"Event Element Click",function(e){return{elementName:t,targetName:n,action:o,path:e.pathname}})}}]),e}(),x={trackTakeActionButtonClick:function(){w("Event Element Click",{elementName:"Take action",targetName:"Take action",action:"Take action",path:window.location.pathname})},trackEnterRewardButtonClick:function(){w("Event Element Click",{elementName:"Reward entry modal",targetName:"Enter button",action:"Enter reward",path:window.location.pathname})}}},27:function(e,t,n){"use strict";n(116);var o=n(42);function r(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.user=null,this.observers=[]}return function(e,t,n){t&&r(e.prototype,t),n&&r(e,n)}(e,[{key:"get",value:function(){return this.cacheIsEmpty()&&(this.user=(new o.a).get()),this.user}},{key:"cacheIsEmpty",value:function(){return null===this.user}},{key:"subscribe",value:function(e){e(this.user),this.observers.push(e)}},{key:"set",value:function(e){return this.user=Promise.resolve(e),this.notify(),this.user}},{key:"notify",value:function(){var e=this;this.observers.map(function(t){return t(e.user)})}},{key:"clear",value:function(){this.user=null}}]),e}();t.a=new a},28:function(e,t,n){"use strict";t.a={segment:{writeKey:"j7L6LlVpuN6gpaLpaLBGpBWCabEppv7j"},stream:{apiKey:"3x7pjebvreba",appId:"2216"},apiProxy:{apiKey:"7292e0560c6b44258c66fd60f0a19a32",baseUrl:"https://api.globalcitizen.org",pageSize:9},csrf:{cookieName:"gc_csrftoken"},language:{cookieName:"gc_language"},youTube:{apiKey:"AIzaSyAxIWApeciYARRW5dt4AoCHN3s8VHVz0uU"}}},288:function(e,t,n){e.exports={markWebProRegular:"MarkWebPro-Book-W03-Regular",markWebProItalic:"MarkWebPro-BookItalic-W03-Rg",markWebProHeavy:"MarkWebPro-Heavy-W03-Regular",markWebProHeavyItalic:"MarkWebPro-HeavyItalic-W03-Rg",sansSerif:"MarkWebPro-Book-W03-Regular",baseFontFamily:"MarkWebPro-Book-W03-Regular",primaryFontFamily:"MarkWebPro-Book-W03-Regular",primaryFontFamilyBold:"MarkWebPro-Heavy-W03-Regular",primaryFontFamilyHeavy:"MarkWebPro-Heavy-W03-Regular",secondaryFontFamily:"MarkWebPro-Book-W03-Regular",titleFontFamily:"MarkWebPro-Heavy-W03-Regular",headerFontFamily:"MarkWebPro-Heavy-W03-Regular",primaryFontMedium:"MarkWebPro-Heavy-W03-Regular",btnFontFamily:"MarkWebPro-Book-W03-Regular",altFontFamily:"'Arial', 'Helvetica', sans-serif",googleFontFamily:"'Libre Baskerville', serif",baseFontSize:"1rem",xxxxsmallBaseFont:"0.63rem",xxxsmallBaseFont:"0.69rem",xxsmallBaseFont:"0.75rem",xsmallBaseFont:"0.81rem",smallBaseFont:"0.875rem",mediumBaseFont:"1.125rem",largeBaseFont:"1.25rem",xlargeBaseFont:"1.5rem",xxlargeBaseFont:"2rem",xxxlargeBaseFont:"2.1875rem",xxxxlargeBaseFont:"3rem",h1FontSize:"3rem",h2FontSize:"2.5rem",h3FontSize:"2rem",h4FontSize:"1.5rem",h5FontSize:"1.25rem",h6FontSize:"1rem",mobileHeaderReduction:.75,reduce1FontSize:"0.707rem",btnFontSize:"0.75rem",btnPrimary:"1.13rem",btnPrimaryLarge:"1.38rem",defaultHeadlineSize:"2.1875rem",defaultHeadlineSizeMobile:"1.875rem",defaultTopicSize:"0.75rem",defaultBylineSize:"0.875rem",baseLineHeight:1.25,headerLineHeight:1.15,largeLineHeight:1.4,xlargeLineHeight:1.5,xxlargeLineHeight:1.7,xxxlargeLineHeight:2,defaultParagraphSpacing:"0.9em",defaultParagraphSpacingShort:"0.2em",mediumParagraphSpacing:"1.5rem",largeParagraphSpacing:"2rem",baseBorderRadius:"3px",baseBorderRadiusAlt:"2px",btnBorderRadius:"5px",baseSpacing:"1.25em",primaryTeal:"rgb(54, 155, 171)",darkTeal:"rgb(42, 120, 132)",elephant:"rgb(18, 69, 74)",primaryRed:"rgb(214, 32, 39)",darkRed:"rgb(158, 11, 15)",black:"rgb(0, 0, 0)",cinder:"rgb(16, 16, 24)",codGray:"rgb(25, 25, 25)",mineShaft:"rgb(40, 40, 40)",darkGray:"rgb(51, 51, 51)",tundora:"rgb(78, 78, 78)",emperor:"rgb(79, 79, 79)",midGray:"rgb(99, 100, 111)",doveGray:"rgb(105, 105, 105)",classicGray:"rgb(116, 116, 116)",gray:"rgb(141, 141, 141)",mediumGray:"rgb(153, 153, 153)",towerGray:"rgb(175, 188, 188)",silverChalice:"rgb(169, 169, 169)",alto:"rgb(216, 216, 216)",mischka:"rgb(220, 220, 229)",lightGray:"rgb(221, 221, 221)",mercury:"rgb(225, 225, 225)",lighterGray:"rgb(237, 239, 237)",athensGray:"rgb(233, 233, 239)",concrete:"rgb(242, 242, 242)",wildSand:"rgb(246, 246, 246)",alabaster:"rgb(248, 248, 248)",lightestGray:"rgb(250, 250, 250)",white:"rgb(255, 255, 255)",fbBlue:"rgb(59, 89, 152)",twitterBlue:"rgb(85, 172, 238)",googlePlusRed:"rgb(221, 75, 57)",workplaceBlue:"rgb(50, 54, 66)",lightRed:"rgb(251, 227, 228)",lightRedAlt:"rgb(235, 87, 95)",lightYellow:"rgb(255, 246, 191)",lightGreen:"rgb(230, 239, 194)",yellow:"rgb(242, 217, 46)",yellowAlt:"rgb(255, 223, 67)",green:"rgb(0, 179, 0)",disabledLink:"rgba(51, 51, 51, 0.31)",wellBackground:"rgba(215, 215, 215, 0.18)",heroImageBackground:"rgb(0, 0, 0)",baseBackgroundColor:"rgb(255, 255, 255)",modalBackgroundColor:"rgba(0, 0, 0, 0.58)",overlayBackgroundColor:"rgba(0, 0, 0, 0.3)",overlayBackgroundDesktopHeight:"300px",overlayBackgroundMobileHeight:"200px",baseFontColor:"rgb(51, 51, 51)",baseAccentColor:"rgb(214, 32, 39)",baseAccentColorAlt:"rgb(18, 69, 74)",baseLinkColor:"rgb(214, 32, 39)",hoverLinkColor:"rgb(158, 11, 15)",baseButtonColor:"rgb(214, 32, 39)",hoverButtonColor:"rgb(158, 11, 15)",btnBackgroundColor:"rgb(54, 155, 171)",alertColor:"rgb(255, 246, 191)",errorColor:"rgb(251, 227, 228)",noticeColor:"rgb(247, 203, 205)",successColor:"rgb(230, 239, 194)",baseBorderColor:"rgb(221, 221, 221)",baseBorder:"1px solid rgb(221, 221, 221)",festival2017Primary:"rgb(127, 170, 172)",festival2017Secondary:"rgb(229, 227, 213)",o2BrixtonAcademyPrimary:"rgb(241, 150, 6)",o2BrixtonAcademySecondary:"rgb(250, 250, 249)",campaignLanding2018Primary:"rgb(228, 227, 216)",campaignLanding2018Secondary:"rgb(255, 82, 49)",campaignLanding2018Tertiary:"rgb(62, 62, 244)",campaignLanding2018Quaternary:"rgb(1, 154, 108)",formBorderColor:"rgb(99, 100, 111)",formTextColor:"rgb(99, 100, 111)",formBorderColorFocus:"rgb(54, 155, 171)",formLabelColorFocus:"rgb(54, 155, 171)",formTextColorFocus:"rgb(0, 0, 0)",formColorError:"rgb(214, 32, 39)",formBorderRadius:"5px",formFontSize:"1rem",formFontFamily:"MarkWebPro-Book-W03-Regular",formInputPadding:"10px",formFloatLabelActiveTopSpacing:"-7px",formIconSize:"16px",formIconRightPadding:"36px",formIntlTelInputSpacingIcon:"52px",mainMenuHeight:"44px",navHeight:"75px",navCollapsedHeight:"49px",navSecondaryHeight:"45px",navIssuesHeight:"24px",heroImageOffset:"300px",buttonMinWidth:"163px",buttonMinWidthSmall:"133px",pipeHorizontalSpacing:"7px",gutter:"15px",gutterMobileSlideshow:"5px",gutterMobileSlideshowWithShadow:"7px",gutterOld:"20px",btnSpacing:"13px 20px",offcanvasWidth:"75%",headerHeight:"118px",footerHeight:"214px",actionMinHeight:"230px",reusableEmbedMobileWidth:"369px",reusableEmbedDesktopWidth:"650px",actionMaxHeight:"13rem",navIconSize:"32px",iconBeforeSize:"18px",rewardsBannerPaddingDesktopHorizontal:"40px",rewardsBannerPaddingMobileHorizontal:"15px",tooltipBackgroundColor:"rgba(0, 0, 0, 0.5)",tooltipBackgroundColorFallback:"rgb(0, 0, 0)"}},291:function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return p});var o=n(0),r=n.n(o),a=(n(7),n(2));function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var p=function(t){function n(t){var o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(o=function(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?u(e):t}(this,c(n).call(this,t))).state={navHeight:e(o.getNavElement()).outerHeight()},o.getBackButtonText=o.getBackButtonText.bind(u(u(o))),o.getNavElement=o.getNavElement.bind(u(u(o))),o.handleResize=o.handleResize.bind(u(u(o))),o.handleScroll=o.handleScroll.bind(u(u(o))),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(n,r.a.Component),function(e,t,n){t&&s(e.prototype,t),n&&s(e,n)}(n,[{key:"getNavElement",value:function(){var t=0;return this.props.navElement&&(t=e(this.props.navElement).length),this.props.navElement&&t?this.props.navElement:"nav"}},{key:"handleResize",value:function(){this.setState({navHeight:e(this.getNavElement()).outerHeight()})}},{key:"handleScroll",value:function(){this.setState({navHeight:e(this.getNavElement()).outerHeight()})}},{key:"componentDidMount",value:function(){window.addEventListener("resize",this.handleResize),window.addEventListener("scroll",this.handleScroll)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.handleResize),window.removeEventListener("scroll",this.handleScroll)}},{key:"getBackButtonText",value:function(){return this.props.backButtonText?this.props.backButtonText:Object(a.c)("Back")}},{key:"render",value:function(){var e={top:this.state.navHeight};return r.a.createElement("div",{className:"fullpage-iframe-back-button-wrapper",style:e},r.a.createElement("button",{ref:"iFrameBackButton",className:"fullpage-iframe-back-button",onClick:this.props.backButtonCallback},r.a.createElement("span",{className:"shell"},r.a.createElement("i",{className:"fas fa-chevron-left"})," ",r.a.createElement("span",{ref:"backButtonText",className:"fullpage-iframe-back-button__text"},this.getBackButtonText()))))}}]),n}();p.defaultProps={navElement:".attach-iframe-container"}}).call(this,n(6))},294:function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return k});var o=n(0),r=n.n(o),a=n(1),i=n.n(a),s=n(4),c=n(3),l=n(28),u=(n(2),n(22));function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function d(e,t){return!t||"object"!==p(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var y=s.a.li.withConfig({displayName:"content-list-item__ListItem",componentId:"wgrz1l-0"})(["border-bottom:",";position:relative;line-height:",";&:before{content:counter(item);counter-increment:item;color:",";position:absolute;left:-2.6em;width:2em;text-align:right;font-size:",";line-height:1rem;}&:last-of-type{border-bottom:none;}"],c.a.baseBorder,c.a.baseLineHeight,c.a.primaryRed,c.a.xlargeBaseFont),b=s.a.a.withConfig({displayName:"content-list-item__MetaLink",componentId:"wgrz1l-1"})(["color:",";text-transform:uppercase;font-size:",";"],c.a.gray,c.a.xxsmallBaseFont);b.displayName="MetaLink";var g=s.a.a.withConfig({displayName:"content-list-item__TitleLink",componentId:"wgrz1l-2"})(["color:",";font-size:",";"],c.a.black,c.a.smallBaseFont);g.displayName="TitleLink";var v=s.a.span.withConfig({displayName:"content-list-item__CategoryLabel",componentId:"wgrz1l-3"})(["background-color:",";"],function(e){return e.color_code?e.color_code:null});v.displayName="CategoryLabel";var w=s.a.span.withConfig({displayName:"content-list-item__FormattedDate",componentId:"wgrz1l-4"})([""]);w.displayName="FormattedDate";var k=function(t){function n(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),d(this,m(n).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(n,r.a.Component),function(e,t,n){t&&f(e.prototype,t),n&&f(e,n)}(n,[{key:"renderPublicationDate",value:function(){if(this.props.item.publication_date){var t=e.cookie(l.a.language.cookieName),n=new Date(new Date(this.props.item.publication_date)).toLocaleString(t,{day:"numeric",month:"long",year:"numeric"});return r.a.createElement(w,null,n)}return null}},{key:"renderCategory",value:function(){return this.props.item&&this.props.item.category&&this.props.item.category.slug&&this.props.item.category.color_code?r.a.createElement(v,{color_code:this.props.item.category.color_code,className:"headline__category headline__category--".concat(this.props.item.category.slug," ").concat(this.props.className)},this.props.item.category.display_title):null}},{key:"render",value:function(){return this.props.item?r.a.createElement(y,{className:"".concat(this.props.className," mb-3 pb-3")},r.a.createElement(b,{href:u.a.parsePath(this.props.item.url),className:"".concat(this.props.className," d-block mb-1")},this.renderCategory(),this.renderPublicationDate()),r.a.createElement(g,{href:u.a.parsePath(this.props.item.url),className:"".concat(this.props.className," d-block")},this.props.item.title)):null}}]),n}();k.propTypes={item:i.a.object.isRequired,className:i.a.string}}).call(this,n(6))},295:function(e,t,n){"use strict";(function(e){var o=n(1),r=n.n(o),a=n(0),i=n.n(a),s=n(17),c=n.n(s),l=n(54),u=n(133);function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var y=function(t){function n(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(t=function(e,t){return!t||"object"!==p(t)&&"function"!=typeof t?h(e):t}(this,d(n).call(this,e))).like=t.like.bind(h(h(t))),t.removeLike=t.removeLike.bind(h(h(t))),t.animatePlusOne=t.animatePlusOne.bind(h(h(t))),t.handleonMouseEnter=t.handleonMouseEnter.bind(h(h(t))),t.handleonMouseLeave=t.handleonMouseLeave.bind(h(h(t))),t.getPlusOneMessage=t.getPlusOneMessage.bind(h(h(t))),t.state={showRemoveLike:!1},t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(n,i.a.Component),function(e,t,n){t&&f(e.prototype,t),n&&f(e,n)}(n,[{key:"componentWillMount",value:function(){l.a.loadTotalLikeCount(this.props.contentId),l.a.loadUserLikeCount(this.props.contentId)}},{key:"getState",value:function(){return this.props.likesById[this.props.contentId]||{}}},{key:"animateElement",value:function(t,n){e(t).addClass("animated "+n),e(t).one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",function(){return e(t).removeClass("animated "+n)})}},{key:"animateHeart",value:function(){this.animateElement(this.refs.heartIcon,"tada")}},{key:"animateHeartRemoveLike",value:function(){this.animateElement(this.refs.heartIcon,"rollOut")}},{key:"animatePlusOne",value:function(){this.animateElement(this.refs.plusOne,"fadeOutUp")}},{key:"like",value:function(){this.likeLimitReached()||(this.animateHeart(),l.a.like(this.props.contentId,{success:this.animatePlusOne}))}},{key:"likeLimitReached",value:function(){return this.getState().userLikeCount>=this.getState().maxLikesPerUser}},{key:"getLikeCountString",value:function(){return this.getState().totalLikeCount?this.getState().totalLikeCount>999?Math.round(this.getState().totalLikeCount/1e3*10)/10+"K":this.getState().totalLikeCount:""}},{key:"getUserLikesCount",value:function(){return this.getState().userLikeCount}},{key:"handleonMouseEnter",value:function(){this.setState({showRemoveLike:!0})}},{key:"handleonMouseLeave",value:function(){var e=this;setTimeout(function(){return e.setState({showRemoveLike:!1})},1e3)}},{key:"thereAreLikesToRemove",value:function(){return this.getState().userLikeCount>0}},{key:"removeLike",value:function(){this.thereAreLikesToRemove()&&(this.setState({showRemoveLike:!1}),this.animateHeartRemoveLike(),l.a.removeLike(this.props.contentId,{success:this.animatePlusOne}))}},{key:"getPlusOneMessage",value:function(){return this.thereAreLikesToRemove()?"+ ".concat(this.getUserLikesCount()):i.a.createElement("i",{className:"fas fa-ban"})}},{key:"render",value:function(){var e,t="like-icon like social-share tip";return this.likeLimitReached()?(e="fas fa-heart",t+=" disabled"):e="far fa-heart",i.a.createElement("div",{className:"content-like__wrapper"},i.a.createElement("a",{onMouseEnter:this.handleonMouseEnter,onMouseLeave:this.handleonMouseLeave,className:t,ref:"heart",onClick:this.like,style:{pointerEvents:"auto"}},i.a.createElement("i",{ref:"heartIcon",className:e})),this.thereAreLikesToRemove()&&this.state.showRemoveLike&&i.a.createElement("a",{ref:"removeLike",className:"fas fa-times remove-like-icon",onClick:this.removeLike}),i.a.createElement("span",{ref:"plusOne",className:"content-like__plus-one"},this.getPlusOneMessage()),i.a.createElement("div",{ref:"likeCount",className:"likes-count"},this.getLikeCountString()))}}],[{key:"getStores",value:function(){return[u.a]}},{key:"getPropsFromStores",value:function(){return u.a.getState()}}]),n}();y.propTypes={contentId:r.a.number.isRequired},t.a=c()(y)}).call(this,n(6))},296:function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return r});var o=n(28);function r(){e.ajaxSetup({crossDomain:!1,beforeSend:function(t,n){(function(e){return/^(GET|HEAD|OPTIONS|TRACE)$/.test(e)})(n.type)||t.setRequestHeader("X-CSRFToken",e.cookie.get(o.a.csrf.cookieName))}})}}).call(this,n(6))},3:function(e,t,n){"use strict";var o=n(288),r=n.n(o);t.a=r.a},30:function(e,t,n){"use strict";var o=n(0),r=n.n(o),a=n(1),i=n.n(a),s=n(4),c=n(178),l=n(2);function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function f(e,t){return!t||"object"!==u(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var h=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),f(this,d(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(t,o["Component"]),function(e,t,n){t&&p(e.prototype,t),n&&p(e,n)}(t,[{key:"render",value:function(){return!this.props.required||this.props.errorMessage||this.props.hideRequiredLabel?null:r.a.createElement("p",{className:"form--floating-label__required mt-2 mb-0 py-0"},"*",Object(l.c)("Required"))}}]),t}();function y(e){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function g(e,t){return!t||"object"!==y(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function w(e,t){return(w=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}h.defaultProps={required:!1,hideRequiredLabel:!1},h.propTypes={required:i.a.bool,hideRequiredLabel:i.a.bool,errorMessage:i.a.oneOfType([i.a.string,i.a.array])};var k=s.a.div.withConfig({displayName:"label__LabelContainer",componentId:"sc-1wnvzw5-0"})([""]);k.displayName="LabelContainer";var O=s.a.div.withConfig({displayName:"label__Container",componentId:"sc-1wnvzw5-1"})([""]);O.displayName="Container";var _=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),g(this,v(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&w(e,t)}(t,o["Component"]),function(e,t,n){t&&b(e.prototype,t),n&&b(e,n)}(t,[{key:"render",value:function(){var e="".concat(this.props.className||""," bst form--floating-label form--floating-label--").concat(this.props.fieldId," ").concat(this.props.containerClasses?this.props.containerClasses:""," ").concat(this.props.smallFont?"form--floating-label--small":""),t="".concat(this.props.className||""," form--floating-label__input form--floating-label__input--").concat(this.props.fieldType," ").concat(this.props.errorMessage?"form--floating-label__input--error":""," ").concat(this.props.icon&&!this.props.hideIcon?"form--floating-label__input--icon":""," ").concat(this.props.focus?"form--floating-label__input--active":""," ").concat(this.props.labelClasses?this.props.labelClasses:"");return r.a.createElement(O,{className:e},r.a.createElement(k,{className:t},this.props.children,r.a.createElement("div",{className:"form--floating-label__border"},r.a.createElement("div",{className:"form--floating-label__border__leading"}),r.a.createElement("div",{className:"form--floating-label__border__spacer"},r.a.createElement("label",{htmlFor:this.props.fieldId},this.props.fieldLabel)),r.a.createElement("div",{className:"form--floating-label__border__trailing"}))),r.a.createElement(c.a,{errorMessage:this.props.errorMessage,hideErrorMessageForKey:this.props.hideErrorMessageForKey,fieldErrors:this.props.fieldErrors}),r.a.createElement(h,{required:this.props.required,hideRequiredLabel:this.props.hideRequiredLabel,errorMessage:this.props.errorMessage}))}}]),t}();function C(e){return(C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function S(){return(S=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}function E(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function P(e){return(P=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function j(e,t){return(j=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function N(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function T(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}_.defaultProps={fieldId:"input",containerClasses:"mb-4",labelClasses:"",smallFont:!1,required:!1,hideErrorMessageForKey:null,hideIcon:!1},_.propTypes={focus:i.a.bool,fieldId:i.a.string,fieldLabel:i.a.string.isRequired,required:i.a.bool,hideRequiredLabel:i.a.bool,containerClasses:i.a.string,labelClasses:i.a.string,smallFont:i.a.bool,errorMessage:i.a.oneOfType([i.a.string,i.a.array]),hideErrorMessageForKey:i.a.string,fieldErrors:i.a.object,icon:i.a.node,hideIcon:i.a.bool,className:i.a.string,children:i.a.node},n.d(t,"a",function(){return I});var x=s.a.span.withConfig({displayName:"form-floating-label-input__IconContainer",componentId:"sc-3ag8x5-0"})(["display:flex;align-items:center;justify-content:center;"]);x.displayName="IconContainer";var I=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),T(N(N(n=function(e,t){return!t||"object"!==C(t)&&"function"!=typeof t?N(e):t}(this,P(t).call(this,e)))),"onChange",function(e){n.props.fieldChange&&n.props.fieldChange({field:n.props.fieldKey,value:e.target.value})}),T(N(N(n)),"onFocus",function(){n.setState({focus:!0})}),T(N(N(n)),"onBlur",function(e){e.target.value||n.setState({focus:!1})}),T(N(N(n)),"renderIcon",function(){var e="".concat(n.props.className," d-flex flex-column justify-content-center align-items-center");return!n.props.icon||n.props.hideIcon||n.props.errorMessage?null:r.a.createElement(x,{className:e},n.props.icon)}),T(N(N(n)),"renderField",function(){var e="input";return"select"===n.props.fieldType&&(e="select"),"textarea"===n.props.fieldType&&(e="textarea"),r.a.createElement(e,{ref:n.props.inputRef,id:n.props.fieldId,type:n.props.fieldType,name:n.props.fieldId,value:n.props.value,onChange:function(e){return n.onChange(e)},onFocus:n.onFocus,onBlur:function(e){return n.onBlur(e)},required:n.props.required,disabled:n.props.disabled},n.props.children)}),n.state={focus:!1},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&j(e,t)}(t,o["Component"]),function(e,t,n){t&&E(e.prototype,t),n&&E(e,n)}(t,[{key:"componentDidMount",value:function(){this.props.value||"select"===this.props.fieldType?this.setState({focus:!0}):this.setState({focus:!1})}},{key:"render",value:function(){return r.a.createElement(_,{fieldId:this.props.fieldId,fieldLabel:this.props.fieldLabel,fieldKey:this.props.fieldKey,fieldType:this.props.fieldType,errorMessage:this.props.errorMessage,hideErrorMessageForKey:this.props.hideErrorMessageForKey,fieldErrors:this.props.fieldErrors,required:this.props.required,hideRequiredLabel:this.props.hideRequiredLabel,labelClasses:this.props.labelClasses,containerClasses:this.props.containerClasses,focus:this.state.focus,icon:this.props.icon,smallFont:this.props.smallFont},this.renderField(),this.renderIcon())}}]),t}();I.defaultProps={fieldId:"input",containerClasses:"mb-4",labelClasses:"",smallFont:!1,fieldType:"text",disabled:!1,required:!1,hideErrorMessageForKey:null,hideIcon:!1},I.propTypes={inputRef:i.a.object,fieldId:i.a.string,fieldKey:i.a.string.isRequired,fieldLabel:i.a.string.isRequired,fieldType:i.a.string,value:i.a.string,fieldChange:i.a.func,disabled:i.a.bool,required:i.a.bool,hideRequiredLabel:i.a.bool,containerClasses:i.a.string,labelClasses:i.a.string,smallFont:i.a.bool,errorMessage:i.a.oneOfType([i.a.string,i.a.array]),hideErrorMessageForKey:i.a.string,fieldErrors:i.a.object,icon:i.a.node,hideIcon:i.a.bool,className:i.a.string,children:i.a.node};r.a.forwardRef(function(e,t){return r.a.createElement(I,S({inputRef:t},e))})},300:function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return a});var o=n(27);function r(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}e(document).ready(function(){function t(){e(".learn-more-banner-show-button").toggleClass("hidden"),e(".learn-more-banner-hide-button").toggleClass("hidden"),e(".learn-more-dropdown").toggleClass("collapsed"),e(".learn-more-dropdown-mobile-hide-button").toggleClass("hidden")}e(".learn-more-banner-title").click(t),e(".learn-more-banner-show-button").click(t),e(".learn-more-banner-hide-button").click(t),e(".learn-more-dropdown-mobile-hide-button").click(t),e(".learn-more-dropdown-sign-up").click(function(){window.scrollTo(0,0)})});var a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return function(e,t,n){t&&r(e.prototype,t),n&&r(e,n)}(e,[{key:"call",value:function(){return o.a.get().then(this.displayLearnMore.bind(this))}},{key:"displayLearnMore",value:function(e){!0!==e.authenticated&&document.querySelector(".learn-more").setAttribute("style","display: block")}}]),e}()}).call(this,n(6))},301:function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return h});var o=n(0),r=n.n(o),a=n(2),i=(n(24),n(179)),s=n(302),c=n(303);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var h=function(t){function n(){var e,t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);for(var o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];return m(d(d(t=function(e,t){return!t||"object"!==l(t)&&"function"!=typeof t?d(e):t}(this,(e=p(n)).call.apply(e,[this].concat(r))))),"state",{referralLink:"https:/www.globalcitizen.org/"}),t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(n,r.a.Component),function(e,t,n){t&&u(e.prototype,t),n&&u(e,n)}(n,[{key:"componentDidMount",value:function(){var t=this;Promise.resolve(e.get("/api/users/referral")).then(function(e){t.setState({referralLink:e.referral_link})})}},{key:"referralLinkText",value:function(){return this.state.referralLink?this.state.referralLink.replace(/.*?:\/\//g,""):""}},{key:"render",value:function(){return r.a.createElement("div",{className:"refer-friends"},r.a.createElement("div",{className:"shell"},r.a.createElement("h1",{className:"headline__section"},Object(a.c)("Get your friends to join the movement.")),r.a.createElement("div",{className:"refer-friends__left"},r.a.createElement("h4",null,Object(a.c)("How it works")),r.a.createElement("p",null,Object(a.c)("Our mission is to build the largest possible movement of global citizens taking action to solve the world's biggest challenges.")),r.a.createElement("p",null,Object(a.c)("Earn 1 point for every friend, who register to become Global Citizens with your link.")),r.a.createElement("p",null,Object(a.c)('When your friends sign up, their names will appear in the "Recent recruit" section on this page. If you have any issues please get in touch with us at')," ",r.a.createElement("a",{href:"mailto:help@globalcitizen.org"},"help@globalcitizen.org"),"."),r.a.createElement("div",{className:"mobile-hide responsive-video-embed"},r.a.createElement("iframe",{width:"600",height:"338",src:"https://www.youtube.com/embed/gFwjYTkO5Yg",frameBorder:"0",allowFullScreen:!0}))),r.a.createElement("div",{className:"refer-friends__right"},r.a.createElement(c.a,{link:this.referralLinkText()}),r.a.createElement(s.a,{shareLink:this.state.referralLink}),r.a.createElement(i.a,null))))}}]),n}();m(h,"defaultProps",{})}).call(this,n(6))},302:function(e,t,n){"use strict";n.d(t,"a",function(){return g});var o=n(0),r=n.n(o),a=n(4),i=n(3),s=n(10),c=n(103),l=n(48),u=n(24),p=n(2);function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function m(e,t){return!t||"object"!==f(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var b=a.a.div.withConfig({displayName:"refer-friends-social-links__ShareButtons",componentId:"mvtai2-0"})([""]);b.displayName="ShareButtons";var g=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),m(this,h(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(t,r.a.Component),function(e,t,n){t&&d(e.prototype,t),n&&d(e,n)}(t,[{key:"emailSubject",value:function(){return encodeURIComponent("Join me")}},{key:"emailBody",value:function(){return encodeURIComponent("Join me in a growing movement of millions of people across the planet who are taking action to solve the world's biggest challenges.\n\nFor every action you take as Global Citizens you earn points that can be used to win great rewards like tickets to see your favourite artists. You'll get points just for signing up using the link below.\n\n#showup and Join the movement ".concat(this.props.shareLink))}},{key:"socialShare",value:function(e){var t=new u.g({itemType:"refer-friend",sharedItem:"refer-friend"}),n=encodeURIComponent("Join the movement. Take action and become a #globalcitizen. ".concat(this.props.shareLink));"facebook"===e?new l.a(this.props.shareLink,"http://www.facebook.com/sharer.php?u=".concat(this.props.shareLink)).openShareWindow({proxied:""}):"twitter"===e?new l.a(this.props.shareLink,"https://twitter.com/intent/tweet?text=".concat(n)).openShareWindow({proxied:""}):"envelope"===e?new l.a(this.props.shareLink,"mailto:?subject=".concat(this.emailSubject(),"&body=").concat(this.emailBody())).openShareWindow({proxied:""}):"comment"===e&&(c.a.isUserAgentAndroid()?new l.a(this.props.shareLink,"sms:?body=".concat(n)).openShareWindow({proxied:""}):c.a.isUserAgentIOS()&&new l.a(this.props.shareLink,"sms:%20&body=".concat(n)).openShareWindow({proxied:""})),this.props.shareLink&&t.trackSharedItemEvent(e)}},{key:"renderSocialShareLink",value:function(e,t,n,o,a,i){return r.a.createElement(s.a,{handleClick:this.socialShare.bind(this,t),className:"mt-4 d-block w-100 ".concat(t),icon:r.a.createElement("i",{className:"".concat(a," fa-").concat(o)}),buttonText:Object(p.c)(n),color:i})}},{key:"renderMobileOnly",value:function(){return c.a.isUserAgentMobile()?r.a.createElement("div",{className:"col-12 col-lg-6 offset-lg-3"},this.renderSocialShareLink("smsText","comment","SMS text","comment","fas",i.a.primaryRed)):null}},{key:"render",value:function(){return r.a.createElement("div",{className:"social-shares-container bst"},r.a.createElement(b,{className:"social-share-buttons bst-row"},r.a.createElement("div",{className:"col-12 col-lg-6"},this.renderSocialShareLink("facebookLink","facebook","Facebook","facebook-f","fab",i.a.fbBlue)),r.a.createElement("div",{className:"col-12 col-lg-6"},this.renderSocialShareLink("tweetLink","twitter","Twitter","twitter","fab",i.a.twitterBlue)),r.a.createElement("div",{className:"col-12 col-lg-6 offset-lg-3"},this.renderSocialShareLink("email","envelope","Email","envelope","fas",i.a.primaryRed)),this.renderMobileOnly()))}}]),t}();!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(g,"defaultProps",{shareLink:null})},303:function(e,t,n){"use strict";n.d(t,"a",function(){return h});var o=n(0),r=n.n(o),a=n(1),i=n.n(a),s=n(304),c=n(2);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var h=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),m(d(d(n=function(e,t){return!t||"object"!==l(t)&&"function"!=typeof t?d(e):t}(this,p(t).call(this,e)))),"toggleButtonText",function(){n.state.buttonText===Object(c.c)("Copy link")?n.setState({buttonText:Object(c.c)("Copied!")}):n.setState({buttonText:Object(c.c)("Copy link")})}),m(d(d(n)),"copy",function(e){e.preventDefault(),setTimeout(n.toggleButtonText,2e3),s.writeText(n.props.link),n.toggleButtonText()}),m(d(d(n)),"renderCopyButton",function(){return document.queryCommandSupported("copy")?r.a.createElement("div",{className:"referral-link__right"},r.a.createElement("p",{className:"referral-link__right__actions"},r.a.createElement("a",{href:"#",onClick:n.copy,id:"referral-link__copy-button"},n.state.buttonText))):null}),n.state={buttonText:Object(c.c)("Copy link")},n.link=r.a.createRef(),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(t,r.a.Component),function(e,t,n){t&&u(e.prototype,t),n&&u(e,n)}(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"referral-link"},r.a.createElement("h4",null,Object(c.c)("Share your invite link")),r.a.createElement("div",{className:"referral-link__left"},r.a.createElement("p",{className:"referral-link__left__link"},r.a.createElement("textarea",{ref:this.link,value:this.props.link}))),this.renderCopyButton())}}]),t}();h.defaultProps={link:"https://www.globalcitizen.org/"},h.propTypes={link:i.a.string}},306:function(e,t,n){"use strict";(function(e){var o=n(0),r=n.n(o),a=n(17),i=n.n(a),s=(n(125),n(193)),c=n(181),l=n(184),u=n(130),p=n(14),f=n(2),d=n(25),m=n.n(d),h=n(68),y=n(36),b=n(84),g=n(18),v=n(43),w=n(9),k=n(19),O=n(81),_=n(58);function C(e){return(C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function S(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function E(e){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function P(e,t){return(P=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function j(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var N=function(t){function n(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(t=function(e,t){return!t||"object"!==C(t)&&"function"!=typeof t?j(e):t}(this,E(n).call(this,e))).updatePage=t.updatePage.bind(j(j(t))),t.state={initialSearchTriggered:!1,initialPage:!0},t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&P(e,t)}(n,r.a.Component),function(e,t,n){t&&S(e.prototype,t),n&&S(e,n)}(n,[{key:"getEnterRewardProps",value:function(){w.a.loadUser(),w.a.loadUserPoints(),g.a.loadEnteredRewards(),g.a.loadCompletedActions(),g.a.loadCompletedActionSets()}},{key:"componentWillMount",value:function(){this.props.storeSearchFiltersInUrl||y.a.disableFiltersInUrl(),this.props.openEnterRewardModal&&this.getEnterRewardProps(),this.props.initialSearchByUserCountry&&!window.utils.getParameterByName("location")?O.a.getLocation():this.triggerInitialSearch(this.getInitialSearchParams())}},{key:"componentWillReceiveProps",value:function(e){this.props.initialSearchByUserCountry&&!this.state.initialSearchTriggered&&e.locationDataHasLoaded&&this.triggerInitialSearch(this.getInitialSearchParams({location:e.locationData.countryName}))}},{key:"componentDidUpdate",value:function(){if(!this.state.initialPage){var t=e(this.refs.rewardsAnchor);e("html,body").animate({scrollTop:t.offset().top},"slow")}Waypoint&&Waypoint.refreshAll()}},{key:"getInitialSearchParams",value:function(e){var t={collectionId:this.props.collectionId};return this.props.pointsRewardsOnly&&(t.entry_type="points"),Object.assign(t,e)}},{key:"triggerInitialSearch",value:function(e){y.a.triggerInitialSearch.defer(e),this.setState({initialSearchTriggered:!0})}},{key:"updatePage",value:function(e){y.a.updatePage(e),this.setState({initialPage:!1})}},{key:"renderRewardTiles",value:function(){var e=this;return this.props.results.map(function(t){return r.a.createElement(c.a,{reward:t,key:t.id,openEnterRewardModal:e.props.openEnterRewardModal,rewardError:t.rewardError||e.props.rewardError,linkRewardThumbnail:!0,enteredRewards:e.props.enteredRewards,completedActions:e.props.completedActions,completedActionSets:e.props.completedActionSets,user:e.props.user,userPointsByCategory:e.props.userPointsByCategory,showFullAbout:!1})})}},{key:"getMonthFromString",value:function(e){var t=m()(e);return t.isValid()?t.format("MMMM"):""}},{key:"renderRewardRows",value:function(){var e,t=[],n=!0,o=!1,a=void 0;try{for(var i,s=this.props.results[Symbol.iterator]();!(n=(i=s.next()).done);n=!0){var c=i.value;this.getMonthFromString(c.date)!==e&&(e=this.getMonthFromString(c.date),t.push({month:e,rewardRows:[]})),t[t.length-1].rewardRows.push(r.a.createElement(l.a,{reward:c,key:c.id}))}}catch(e){o=!0,a=e}finally{try{n||null==s.return||s.return()}finally{if(o)throw a}}return t.map(function(e){return r.a.createElement("div",{ref:e.month,key:e.month},r.a.createElement("h3",{className:"event-month event-rows__headline section-title"},e.month),r.a.createElement("ul",null,e.rewardRows))})}},{key:"noResultsFoundMessage",value:function(){return r.a.createElement("div",{className:"no-results",ref:"noResults"},r.a.createElement("p",null,Object(f.c)("No results were found matching your search criteria")),r.a.createElement("p",null,Object(f.c)("Reset your filters and view all available rewards.")))}},{key:"locationErrorMessage",value:function(){return r.a.createElement("div",{className:"no-results",ref:"locationError"},Object(f.c)("Please allow access to your location to find events near you."))}},{key:"renderResults",value:function(){if(this.props.nearMe&&this.props.locationError)return this.locationErrorMessage();if(this.props.results){if(this.props.results.length>0){if(this.props.useRows)return this.renderRewardRows();var e="tile-with-image-wrapper tile-with-image-wrapper--rewards";return this.props.results.length>1&&(e+=" tile-with-image-wrapper--slideshow"),r.a.createElement("div",{className:e,ref:"rewardDiscoveryTileWrapper"},r.a.createElement(h.a,null,this.renderRewardTiles()))}return this.noResultsFoundMessage()}return r.a.createElement(p.a,null)}},{key:"renderPager",value:function(){return!!this.props.results&&r.a.createElement(u.a,{totalPages:this.props.totalPages,page:this.props.page,clickHandler:this.updatePage})}},{key:"render",value:function(){return r.a.createElement("div",{className:"rewards-search-anchor-wrapper"},r.a.createElement("span",{id:"rewards-search-anchor",ref:"rewardsAnchor"}),r.a.createElement(s.a,{showMonthFilter:this.props.showMonthFilter,showWhereFilter:this.props.showWhereFilter,showCategoryFilter:this.props.showCategoryFilter,showInlineCategoryFilter:this.props.showInlineCategoryFilter,showQuery:this.props.showQuery&&!this.props.collectionId}),r.a.createElement("div",{className:"rewards bst"},this.renderResults()),this.renderPager())}}],[{key:"getStores",value:function(){return[b.a,_.a,k.a,v.a]}},{key:"getPropsFromStores",value:function(){var e=k.a.getState(),t=v.a.getState(),n={user:e.user,userPointsByCategory:e.pointsByCategory,rewardError:t.errorMessage,enteredRewards:t.enteredRewards,completedActions:t.completedActions,completedActionSets:t.completedActionSets},o=b.a.getState(),r=o.results;r&&(r=o.results.map(function(e){return e.itemData?e.itemData:e}));var a=Object.assign(n,b.a.getState(),_.a.getState());return a.results=r,a}}]),n}();N.defaultProps={useRows:!1,showMonthFilter:!0,showWhereFilter:!0,showCategoryFilter:!0,showInlineCategoryFilter:!1,showQuery:!0,pointsRewardsOnly:!1,storeSearchFiltersInUrl:!0,openEnterRewardModal:!1,initialSearchByUserCountry:!1},t.a=i()(N)}).call(this,n(6))},307:function(e,t,n){"use strict";n.d(t,"a",function(){return p});n(17);var o=n(0),r=n.n(o),a=(n(7),n(2),n(44));function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function c(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var p=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),c(this,l(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(t,r.a.Component),function(e,t,n){t&&s(e.prototype,t),n&&s(e,n)}(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"reward-info"},a.a.renderRewardName(this.props.reward),a.a.renderRewardLocationWithMapLink(this.props.reward),a.a.renderRewardDate(this.props.reward),a.a.renderRewardTime(this.props.reward),this.props.reward.terms_conditions_url?a.a.renderRewardTermsText(this.props.reward):"")}}]),t}()},308:function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return r});var o=n(48);function r(){function t(e,t,n){return function(r){r.preventDefault(),window.shareItemTracker.trackSharedItemEvent(e),new o.a(t,n).openShareWindowWithShortenUrl()}}function n(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=window.location.protocol,o=window.location.host,r=window.location.pathname,a="?utm_source=".concat(e,"&utm_medium=social&utm_campaign=share"),i=t?"/coty/?subPage=":"",s="".concat(n,"//").concat(o).concat(i).concat(r).concat(a);return s=encodeURI(s)}e("a.facebook-share-icon").click(t("facebook",n("facebook"),"http://www.facebook.com/sharer.php?u=")),e("a.workplace-share-icon").click(t("workplace",n("workplace",!0),"http://work.facebook.com/sharer.php?u=")),e("a.twitter-share-icon").click(t("twitter",n("twitter"),"https://twitter.com/intent/tweet?text=".concat(encodeURIComponent(document.title.substring(0,100)),"&hashtags=globalcitizen&url="))),e("a.email-share-icon").click(t("email",n("email"),"mailto:?subject=".concat(encodeURIComponent("Check this out"),"&body=").concat(encodeURIComponent("I saw this on Global Citizen and thought you'd be interested in it "))))}}).call(this,n(6))},309:function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return r});var o=n(192);function r(t){e(".redeem-voucher-form").on("submit",function(n){n.preventDefault();var o=e(this);o.find(".redeem-voucher-submit").prop("disabled",!0),e.ajax({method:"POST",url:o.attr("action"),success:function(n){n.success?(e(".redeem-voucher-redemption-form").hide(),e(".redeem-voucher-success").show(),""!==t&&window.location.replace(t)):(o.find("span.message").html(n.message),o.find(".redeem-voucher-submit").prop("disabled",!1))},contentType:"application/json",error:function(e){o.find("span.message").html("An unexpected error occurred."),o.find(".redeem-voucher-submit").prop("disabled",!1)},data:JSON.stringify(FormUtils.toJSON(o))})}),Object(o.a)("")}}).call(this,n(6))},310:function(e,t,n){"use strict";(function(e){var o=n(0),r=n.n(o),a=n(17),i=n.n(a),s=(n(125),n(22)),c=n(171),l=n(133),u=n(54),p=n(130),f=n(14),d=n(194),m=n(135),h=n(2),y=n(93);function b(e){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function g(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function w(e,t){return(w=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function k(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var O=function(t){function n(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(t=function(e,t){return!t||"object"!==b(t)&&"function"!=typeof t?k(e):t}(this,v(n).call(this,e))).state={initialPage:!0,selectedSubIssues:[]},t.updatePage=t.updatePage.bind(k(k(t))),t.renderPager=t.renderPager.bind(k(k(t))),t.renderContent=t.renderContent.bind(k(k(t))),t.renderIssueFilter=t.renderIssueFilter.bind(k(k(t))),t.renderSubIssuesFilter=t.renderSubIssuesFilter.bind(k(k(t))),t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&w(e,t)}(n,r.a.Component),function(e,t,n){t&&g(e.prototype,t),n&&g(e,n)}(n,[{key:"componentWillMount",value:function(){u.a.loadEmployeeEngagementContent(this.props.employeeEngagementId,this.props.resultsPerPage,this.props.useLanguageFallbacks,this.props.issueIDs,this.props.subIssueIDs),y.a.getIssues()}},{key:"componentDidUpdate",value:function(){if(!this.state.initialPage){var t=e(this.refs.contentPluginTopAnchor);e("html,body").animate({scrollTop:t.offset().top},"slow")}Waypoint&&Waypoint.refreshAll()}},{key:"updatePage",value:function(e,t){u.a.resetContentList(),u.a.updatePage(this.props.employeeEngagementId,this.props.resultsPerPage,e||this.props.page,this.props.useLanguageFallbacks,this.props.issueIDs,this.props.subIssueIDs,this.props.issueFilter,t||this.props.selectedIssues,this.props.subissueFilter,this.state.selectedSubIssues),this.setState({initialPage:!1})}},{key:"renderContent",value:function(){return this.props.contentList.length?r.a.createElement(c.a,{contentList:this.props.contentList,ignoreFeaturedTile:!0,mode:this.props.mode,bootstrapContainer:this.props.bootstrapContainer,openSignupIfSignedOut:this.props.openSignupIfSignedOut,showPublicationDates:!0}):r.a.createElement(f.a,null)}},{key:"renderPager",value:function(){return r.a.createElement(p.a,{totalPages:Math.floor(this.props.count/this.props.resultsPerPage)+1,page:this.props.page,clickHandler:this.updatePage})}},{key:"componentWillReceiveProps",value:function(e){this.props.selectedIssues&&Object.keys(this.props.selectedIssues).length!==Object.keys(e.selectedIssues).length&&this.updatePage(this.props.page,e.selectedIssues,null)}},{key:"handleSubissueClick",value:function(){var e=this.self,t=s.a.toggleValueInArray(e.state.selectedSubIssues,this.subissue_id);e.setState({selectedSubIssues:t},e.updatePage)}},{key:"renderSubIssuesFilter",value:function(){if(!Object.keys(this.props.subissuesList))return!1;var e=[];for(var t in this.props.subissuesList){var n=this.props.subissuesList[t],o="issue-selector";-1!==this.state.selectedSubIssues.indexOf(t)&&(o+=" selected"),e.push(r.a.createElement("div",{className:"subissue-filter d-flex col-6 col-md-3"},r.a.createElement("div",{ref:"issueSelector",onClick:this.handleSubissueClick.bind({subissue_id:t,self:this}),className:o}),r.a.createElement("div",{className:"issue-label"},n)))}return e}},{key:"renderIssueFilter",value:function(){return r.a.createElement("div",{className:"issues-filter-wrapper py-4 mb-5"},r.a.createElement("div",{className:"bst-container"},r.a.createElement("h5",{className:"text-center mb-5 mb-1"},Object(h.c)("Learn More by Issue")),this.props.issueFilter&&r.a.createElement(d.a,{issues:this.props.issues,selectedIssues:this.props.selectedIssues}),this.props.subissueFilter&&r.a.createElement("div",{className:"bst"},r.a.createElement("div",{className:"subissues-filter bst-row justify-content-center"},this.renderSubIssuesFilter()))))}},{key:"render",value:function(){var e=this.props.issueFilter||this.props.subissueFilter;return r.a.createElement("div",{className:"employee-engagement-content__wrapper"},e&&this.renderIssueFilter(),r.a.createElement("span",{id:"content-plugin-anchor",ref:"contentPluginTopAnchor"}),this.renderContent(),this.renderPager())}}],[{key:"getStores",value:function(){return[l.a,m.a]}},{key:"getPropsFromStores",value:function(){return Object.assign(l.a.getState(),m.a.getState())}}]),n}();O.defaultProps={bootstrapContainer:!1,openSignupIfSignedOut:!1},t.a=i()(O)}).call(this,n(6))},311:function(e,t,n){"use strict";(function(e){var o=n(0),r=n.n(o),a=n(17),i=n.n(a),s=(n(125),n(195)),c=n(234),l=n(104),u=n(130),p=n(14);function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function h(e,t,n){return t&&m(e.prototype,t),n&&m(e,n),e}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function b(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var g=function(t){function n(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(t=function(e,t){return!t||"object"!==f(t)&&"function"!=typeof t?b(e):t}(this,d(n).call(this,e))).state={initialPage:!0},t.updatePage=t.updatePage.bind(b(b(t))),t.renderActions=t.renderActions.bind(b(b(t))),t.renderPager=t.renderPager.bind(b(b(t))),t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(n,r.a.Component),h(n,null,[{key:"getStores",value:function(){return[c.a]}},{key:"getPropsFromStores",value:function(){return c.a.getState()}}]),h(n,[{key:"componentWillMount",value:function(){l.a.loadEmployeeEngagementActions(this.props.employeeEngagementId,this.props.resultsPerPage,this.props.useLanguageFallbacks,this.props.issueIDs,this.props.subIssueIDs)}},{key:"componentDidUpdate",value:function(){if(!this.state.initialPage){var t=e(this.refs.actionPluginTopAnchor);e("html,body").animate({scrollTop:t.offset().top},"slow")}Waypoint&&Waypoint.refreshAll()}},{key:"updatePage",value:function(e){l.a.resetActionsList(),l.a.updatePage(this.props.employeeEngagementId,this.props.resultsPerPage,e,this.props.useLanguageFallbacks,this.props.issueIDs,this.props.subIssueIDs),this.setState({initialPage:!1})}},{key:"renderActions",value:function(){return this.props.actionsList.length?r.a.createElement(s.a,{ignoreFeaturedTile:!0,mode:this.props.mode,ignorePartnerImage:!0,useLanguageFallbacks:this.props.useLanguageFallbacks,actionItems:this.props.actionsList}):r.a.createElement(p.a,null)}},{key:"renderPager",value:function(){return!!this.props.actionsList.length&&r.a.createElement(u.a,{totalPages:Math.floor(this.props.count/this.props.resultsPerPage)+1,page:this.props.page,clickHandler:this.updatePage})}},{key:"render",value:function(){return r.a.createElement("div",{className:"employee-engagement-actions__wrapper"},r.a.createElement("span",{id:"actions-plugin-anchor",ref:"actionPluginTopAnchor"}),this.renderActions(),this.renderPager())}}]),n}();t.a=i()(g)}).call(this,n(6))},312:function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return r});var o=n(2);function r(){var t=window.intlTelInput(document.getElementById("id_phone_number"),{utilsScript:"/static/js/vendor/intl-tel-lib.js",initialCountry:e("#id_country")[0].value.toLowerCase(),preferredCountries:["us","gb","ca","de"],autoPlaceholder:!1});function n(t){var n="url('".concat(t.target.result,"')");e('label[for="id_avatar"]').css({background:n,"background-size":"cover"})}e("#id_avatar").on("change",function(e){var t=e.target.files[0],o=new FileReader;o.onload=n,o.readAsDataURL(t)}),e("#avatar-button").on("click",function(){return e("#avatar-clear_id").prop("checked",!1),e("#id_avatar").click(),!1}),e("#delete-avatar-link").on("click",function(){if(confirm(Object(o.c)("Are you sure you want to delete your avatar?"))){e("#avatar-clear_id").prop("checked",!0);e('label[for="id_avatar"]').css({background:"url('/static/img/default_avatar.png')","background-size":"cover"})}return!1}),e("#delete").submit(function(e){return confirm(Object(o.c)("Are you sure? This will deactivate your account"))}),e("#edit-settings").submit(function(n){e("#id_phone_number").val(t.getNumber())})}}).call(this,n(6))},314:function(e,t,n){"use strict";(function(e){function o(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],o={};e("".concat(t," .form--floating-label__input")).each(function(t){var r=e(this),a=r.find("input, select, textarea");(a.val()||r.hasClass("always-focus"))&&r.addClass("form--floating-label__input--active"),r.focusin(function(){r.addClass("form--floating-label__input--active")}),a.keyup(function(){r.addClass("form--floating-label__input--active")}),r.focusout(function(){a.val()||r.hasClass("always-focus")||r.removeClass("form--floating-label__input--active")}),a.prop("required")&&(o[a.attr("id")]=!1),n&&a.keyup(function(){var t=e(this);""==t.val()?o[t.attr("id")]=!1:o[t.attr("id")]=!0,Object.values(o).includes(!1)?e("button[type=submit]").prop("disabled",!0):e("button[type=submit]").prop("disabled",!1)})})}n.d(t,"a",function(){return o})}).call(this,n(6))},33:function(e,t,n){"use strict";n.d(t,"a",function(){return b});var o=n(0),r=n.n(o),a=n(1),i=n.n(a),s=n(4),c=n(22);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function p(e,t){return!t||"object"!==l(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var m=s.a.div.withConfig({displayName:"image__Background",componentId:"sc-1mjwusy-0"})(["width:",";height:",";max-width:",";max-height:",";background-image:url(",");background-repeat:no-repeat;background-size:cover;background-position-x:",";background-position-y:",";"],function(e){return e.width},function(e){return e.height},function(e){return e.maxWidth},function(e){return e.maxHeight},function(e){return e.src},function(e){return e.horizontalAlignment},function(e){return e.verticalAlignment});m.displayName="Background";var h=s.a.div.withConfig({displayName:"image__Container",componentId:"sc-1mjwusy-1"})(["width:100%;"]);h.displayName="Container";var y=s.a.img.withConfig({displayName:"image__Img",componentId:"sc-1mjwusy-2"})(["width:",";max-width:",";max-height:",";flex:0 0 auto;"],function(e){return e.width},function(e){return e.maxWidth},function(e){return e.maxHeight});y.displayName="Img",y.defaultProps={width:"100%",maxWidth:"100%",maxHeight:"100%"};var b=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),p(this,f(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(t,o["Component"]),function(e,t,n){t&&u(e.prototype,t),n&&u(e,n)}(t,[{key:"renderImageSrc",value:function(){return c.a.renderDefaultImage(this.props.src)}},{key:"render",value:function(){return"css"===this.props.type?r.a.createElement(h,{className:"bst"},r.a.createElement(m,{src:this.renderImageSrc(),width:this.props.width,height:this.props.height,maxWidth:this.props.maxWidth,maxHeight:this.props.maxHeight,horizontalAlignment:this.props.horizontalAlignment,verticalAlignment:this.props.verticalAlignment,className:"".concat(this.props.className||""," ").concat(this.props.children?"":"text-hide")},this.props.children||this.props.alt)):r.a.createElement(y,{src:this.renderImageSrc(),width:this.props.width,maxWidth:this.props.maxWidth,height:this.props.height,maxHeight:this.props.maxHeight,alt:this.props.alt,className:this.props.className})}}]),t}();b.propTypes={src:i.a.string,width:i.a.string,height:i.a.string,maxWidth:i.a.string,maxHeight:i.a.string,horizontalAlignment:i.a.string,verticalAlignment:i.a.string,alt:i.a.string,type:i.a.string,className:i.a.string,children:i.a.node},b.defaultProps={src:"https://www.globalcitizen.org/static/img/festival-banner.png",width:"100%",height:"auto",maxWidth:"100%",maxHeight:"100%",horizontalAlignment:"center",verticalAlignment:"center",type:"tag"}},36:function(e,t,n){"use strict";var o=n(25),r=n.n(o),a=n(15),i=n(180);function s(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var c=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.generateActions("disableFiltersInUrl")}return function(e,t,n){t&&s(e.prototype,t),n&&s(e,n)}(e,[{key:"search",value:function(e){return function(t){var n,o={};if(o.sort="date",o.types="reward",e.query&&(o.q=e.query),o.offset=(e.page-1)*e.resultsPerPage,o.limit=e.resultsPerPage,n=function(){i.a.search(o,{success:function(e){t(e)},error:function(){}})},e.entry_type&&(o.entry_type=e.entry_type),e.ids&&e.ids.length&&(o.ids=e.ids.join(",")),e.singlePageResults&&(o.single_page=!0),e.query||(o.match_all=!0),e.category&&(o.category=e.category),e.month){var a=r()("".concat(e.month,"-01")),s=r()("".concat(e.month,"-01")).add(1,"month").subtract(1,"second"),c=function(e){return e.format("YYYY-MM-DDTHH:mm:ss")};o.date="".concat(c(a),"Z,").concat(c(s),"Z")}if(e.collectionId&&(o.collection_id=e.collectionId),!1===e.excludeHidden&&(o.exclude_hidden=!1),e.nearMe)navigator.geolocation.getCurrentPosition(function(e){o.latlon="".concat(e.coords.latitude,",").concat(e.coords.longitude),n()},function(){t({results:[],resultsPerPage:0,totalResultCount:0,page:0,totalPages:0,locationError:!0})});else{if(e.location?o.location=e.location:e.myCountry&&(o.user_country=e.myCountry),e.closingSoon){var l=r.a.utc().add(4,"day");o.expires=",".concat(function(e){return e.format("YYYY-MM-DDTHH:mm:ss")}(l),"Z")}n()}}}},{key:"triggerInitialSearch",value:function(e){return e||{}}},{key:"updateFilter",value:function(e){return e}},{key:"updatePage",value:function(e){return e}}]),e}();t.a=a.a.createActions(c)},37:function(e,t,n){"use strict";(function(e){function n(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){o(e,t,n[t])})}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}t.a=window.FormUtils={noop:function(){},clearErrors:function(e){e.find("input").removeClass("error"),e.find("p.error:not(.errors)").remove(),e.find(".errors").text("")},submit:function(t,n,o){n=n||this.noop,o=o||this.populateErrors(t);var r=e.ajax({type:"POST",url:t.attr("action"),data:t.serialize(),dataType:"json"});return r.then(n,o)},populateErrors:function(t){var n=this;return function(o){var r=o.responseJSON.errors;n.clearErrors(t),e.each(r,function(n,o){if("__all__"!==n){var r=t.find("#id_".concat(n)).addClass("error"),a=e("<p>").addClass("error").text(o[0]);r.after(a)}else t.find(".errors").text(o[0])}),t.find("button[type=submit]").prop("disabled",!1)}},toJSON:function(e){return e.serializeArray().reduce(function(e,t){return e[t.name]=t.value,e},{})},fieldChange:function(e,t){var o,r=e.field,a=e.value;if("function"!=typeof t&&(t=function(){}),!this.setState)return null;this.setState(function(e){return(o=n({},e.fieldValues))[r]=a,{fieldValues:o}},t)},setErrors:function(e){var t,o=e.field,r=e.error;if(!this.setState)return null;this.setState(function(e){return(t=n({},e.fieldErrors))[o]=[r],{fieldErrors:t}})}}}).call(this,n(6))},39:function(e,t,n){"use strict";n.d(t,"a",function(){return s}),n.d(t,"b",function(){return c});var o=n(0),r=n.n(o),a=n(40),i=n.n(a);function s(e,t,n){i.a.render(r.a.createElement(t,n),document.getElementById(e))}var c={bindComponentToDiv:s,addEventListener:function(e,t){document.addEventListener(e,t)},removeEventListener:function(e,t){document.removeEventListener(e,t)},isWindowInIFrame:function(){return window.frameElement}}},42:function(e,t,n){"use strict";n.d(t,"a",function(){return s});n(116);var o=n(6),r=n.n(o),a=n(16);function i(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var s=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return function(e,t,n){t&&i(e.prototype,t),n&&i(e,n)}(e,[{key:"update",value:function(e,t){r.a.ajax({url:"/account/settings/",type:"POST",data:e,success:t.success,error:t.error})}},{key:"patch",value:function(e,t){Object(a.a)({url:"/v1/me/",type:"PATCH",data:JSON.stringify(e),contentType:"application/json; charset=utf-8",dataType:"json",success:t.success,error:t.error})}},{key:"getPoints",value:function(e){Object(a.a)({url:"/v1/me/points/",type:"GET",dataType:"json",success:e.success,error:e.error})}},{key:"get",value:function(){return Promise.resolve(r.a.get("/api/users/profile/"))}},{key:"sendEmailConfirmation",value:function(){return Promise.resolve(r.a.ajax({url:"/account/send-email-confirmation/",type:"POST",data:"{}",contentType:"application/json; charset=utf-8",dataType:"json"}))}}],[{key:"getEnteredRewards",value:function(e){Object(a.a)({url:"/v1/me/entered_rewards/",type:"GET",success:e.success,error:e.error})}},{key:"getCompletedActions",value:function(e){Object(a.a)({url:"/v1/me/completed_actions/",type:"GET",success:e.success,error:e.error})}},{key:"getCompletedActionSets",value:function(e){Object(a.a)({url:"/v1/me/completed_action_sets/",type:"GET",success:e.success,error:e.error})}},{key:"signup",value:function(e,t){Object(a.a)({url:"/v1/users/",type:"POST",data:JSON.stringify(e),contentType:"application/json; charset=utf-8",dataType:"json",success:t.success,error:t.error})}},{key:"validate_signup",value:function(e,t){Object(a.a)({url:"/v1/users/validate/",type:"POST",data:JSON.stringify(e),contentType:"application/json; charset=utf-8",dataType:"json",success:t.success,error:t.error})}},{key:"login",value:function(e,t){Object(a.a)({url:"/v1/me/login/",type:"POST",data:JSON.stringify(e),contentType:"application/json; charset=utf-8",dataType:"json",success:t.success,error:t.error})}}]),e}()},43:function(e,t,n){"use strict";var o=n(25),r=n.n(o),a=n(7),i=n.n(a),s=n(15),c=n(18);function l(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var u=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.bindListeners({loadReward:c.a.loadReward,loadRewards:c.a.loadRewards,loadCategories:c.a.loadCategories,loadRecommendedRewards:c.a.loadRecommendedRewards,loadRewardsByLocation:c.a.loadRewardsByLocation,enterReward:c.a.enterReward,setErrorMessage:c.a.error,loadEnteredRewards:c.a.loadEnteredRewards,loadCompletedActions:c.a.loadCompletedActions,loadCompletedActionSets:c.a.loadCompletedActionSets,showCaptcha:c.a.showCaptcha}),this.state={rewards:[],recommendedRewards:[],rewardsById:{},enteredRewards:[],categories:[],showCaptcha:!0}}return function(e,t,n){t&&l(e.prototype,t),n&&l(e,n)}(e,[{key:"orderRewardsByDate",value:function(e){return i.a.sortBy(e,function(e){return r()(e.date).unix()})}},{key:"loadRewards",value:function(e){var t=this.orderRewardsByDate(this.state.rewards.concat(e));this.setState({rewards:t})}},{key:"loadEnteredRewards",value:function(e){this.setState({enteredRewards:this.state.enteredRewards.concat(e)})}},{key:"loadCategories",value:function(e){var t=i.a.map(e.results,function(e){return e.title});this.setState({categories:this.state.categories.concat(t)})}},{key:"loadReward",value:function(e){var t=this.state.rewards;t.push(e),t=this.orderRewardsByDate(t),this.setState({rewards:t});var n=e.id,o=Object.assign(this.state.rewardsById,function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},n,e));this.setState({rewardsById:o})}},{key:"loadRewardsByLocation",value:function(e){var t=e.reduce(function(e,t){return e[t.id]=t,e},{}),n=Object.assign(this.state.rewardsById,t);this.setState({rewardsById:n})}},{key:"loadRecommendedRewards",value:function(e){var t=e.reduce(function(e,t){return e[t.id]=t,e},{}),n=this.orderRewardsByDate(this.state.rewards.concat(e)),o=Object.assign(this.state.rewardsById,t);this.setState({rewardsById:o,recommendedRewards:n,rewards:n})}},{key:"loadCompletedActions",value:function(e){this.setState({completedActions:e})}},{key:"loadCompletedActionSets",value:function(e){this.setState({completedActionSets:e})}},{key:"setErrorMessage",value:function(e){this.setState({errorMessage:e})}},{key:"showCaptcha",value:function(){this.setState({showCaptcha:!1})}},{key:"enterReward",value:function(e){var t=this.state.enteredRewards;t.push({reward:e}),this.setState({enteredRewards:t})}}]),e}();t.a=s.a.createStore(u,"RewardStore")},44:function(e,t,n){"use strict";n.d(t,"a",function(){return f});var o=n(0),r=n.n(o),a=n(25),i=n.n(a),s=n(115),c=n(2),l=function(e){if(e.location){if(e.location.name)return e.location.state||e.location.city?e.location.state?e.location.city?Object(c.c)("{{ city }}, {{ state }} | {{ venue }}",{venue:e.location.name,city:e.location.city,state:e.location.state,interpolation:{escape:!1}}):Object(c.c)("{{ state }} | {{ venue }}",{state:e.location.state,venue:e.location.name,interpolation:{escape:!1}}):Object(c.c)("{{ city }} | {{ venue }}",{venue:e.location.name,city:e.location.city,interpolation:{escape:!1}}):e.location.name;if(e.location.city)return e.location.city}},u=function(e){return i.a.utc(e.date).format("MMM. DD, YYYY")},p=function(e){var t=i.a.utc(e.date);return i()(t).format("h:mm a")},f={renderRewardName:function(e){return r.a.createElement("h2",{className:"reward-info__text__name headline__section"},e.name)},renderRewardLocation:function(e){if(e.location)return r.a.createElement("h5",{className:"reward-info__text reward-info__location"},r.a.createElement("span",{className:"reward-info__text__icon"},r.a.createElement("i",{className:"fas fa-map-marker-alt"})),r.a.createElement("span",{className:"reward-info__text__description"},l(e)))},renderRewardLocationWithMapLink:function(e){if(e.location)return r.a.createElement("h5",{className:"reward-info__text reward-info__location"},r.a.createElement("span",{className:"reward-info__text__icon"},r.a.createElement("i",{className:"fas fa-map-marker-alt"})),r.a.createElement("span",{className:"reward-info__text__description"},l(e)," (",function(e){var t="https://maps.google.com/?q="+e.location.name+" "+e.location.postal_code;return r.a.createElement("a",{href:t,target:"_blank",className:"reward-info__map-link"},Object(c.c)("Map"))}(e),")"))},renderRewardDate:function(e){if(e.date)return r.a.createElement("h5",{className:"reward-info__text reward-info__date"},r.a.createElement("span",{className:"reward-info__text__icon"},r.a.createElement("i",{className:"far fa-calendar"})),r.a.createElement("span",{className:"reward-info__text__description"},u(e)))},renderRewardDateWithTime:function(e){if(e.date)return r.a.createElement("h5",{className:"reward-info__text reward-info__date"},r.a.createElement("span",{className:"reward-info__text__icon"},r.a.createElement("i",{className:"far fa-calendar"})),r.a.createElement("span",{className:"reward-info__text__description"},r.a.createElement("span",{className:"reward-info__date__date-text"},u(e)),r.a.createElement("span",{className:"reward-info__date__time-text"},p(e))))},renderRewardTime:function(e){if(e.date)return r.a.createElement("h5",{className:"reward-info__text reward-info__time"},r.a.createElement("span",{className:"reward-info__text__icon"},r.a.createElement("i",{className:"far fa-clock"})),r.a.createElement("span",{className:"reward-info__text__description"},p(e)))},renderRewardConfirmationText:function(e){var t={date:i.a.utc(e.drawing_date).format("MMMM Do"),interpolation:{escape:!1}};return Object(c.c)("We will let you know if you are a winner after the drawing on {{ date }}. Best of luck!",t)},renderDisclaimerText:function(e){if(e.datashare_enabled&&e.partners.length){var t=function(e){return e.map(function(e){return e.name})}(e.partners),n={termsLinkOpen:"<a href='/about/terms'>",privacyLinkOpen:"<a href='/about/privacy-policy'>",linkClose:"</a>",partners:Object(s.b)(t),interpolation:{escape:!1}};return{__html:Object(c.c)("By entering this contest, you agree to (i) our {{termsLinkOpen}}Terms{{linkClose}} and {{privacyLinkOpen}}Privacy Policy{{linkClose}}; and (ii) grant permission to Global Citizen to provide your first name, last name and email address to {{partners}}, who may send communications to you in accordance with its Privacy Policy.",n)}}},renderRewardTermsText:function(e){var t={termsLinkOpen:"<a href="+e.terms_conditions_url+">",linkClose:"</a>",interpolation:{escape:!1}};return r.a.createElement("h5",{className:"reward-info__text reward-info__terms"},r.a.createElement("span",{className:"reward-info__text__icon"},r.a.createElement("i",{className:"fas fa-exclamation-circle"})),r.a.createElement("div",{className:"reward-info__text__description",dangerouslySetInnerHTML:{__html:Object(c.c)("Full terms and conditions for this reward can be found {{termsLinkOpen}}here{{linkClose}}",t)}}))}}},47:function(e,t,n){"use strict";var o,r,a,i,s,c,l,u=n(293),p=n(25),f=n.n(p),d=n(174),m=n(624),h=n(12),y=n(11),b=n(21),g=n(2);function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function w(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],o=!0,r=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(o=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);o=!0);}catch(e){r=!0,a=e}finally{try{o||null==s.return||s.return()}finally{if(r)throw a}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var k={actions:{setNotAvailableErrorMessage:function(e,t){var n=e.actionState.action,o={start:f.a.utc(n.availability_hours_start,"HH:mm:ss").local().format("h.mma"),end:f.a.utc(n.availability_hours_end,"HH:mm:ss").local().format("h.mma"),weekdays:n.weekdays_only?" on weekdays":""};h.a.setErrorMessage.defer({actionId:n.id,errorMessage:Object(g.c)("This action can only be completed between {{ start }} and {{ end }}{{ weekdays }}. Please check back later to take this action.",o)})},skipIntro:Object(d.b)({skipIntro:!0})},guards:{isNotAvailable:function(e,t){var n=e.actionState.action;if(n&&n.availability_hours_start&&n.availability_hours_end){var o=function(e){return e.diff(e.clone().startOf("day"),"seconds")},r=f.a.utc(n.availability_hours_start,"HH:mm:ss"),a=f.a.utc(n.availability_hours_end,"HH:mm:ss"),i=o(r),s=o(a),c=o(f()().utc()),l=w([i,s].sort(function(e,t){return e-t}),2),u=l[0],p=l[1],d=c>=u&&c<=p;s<i&&(d=!d);var m=!n.weekdays_only||f()().weekday()<6;return!(d&&m)}return!1},isShare:function(e,t){return"#share"===window.location.hash},isCompleted:function(e,t){return e.actionState.action.has_completed},shouldPassToThankYouOnCompletion:function(e,t){return e.user.is_shadow&&!e.isMultipleView},shouldConfirmEmail:function(e,t){return"email"===e.actionState.action.type&&e.user&&e.user.authenticated&&!e.user.is_shadow&&!e.user.email_confirmed},isWrongCountry:function(e,t){return e.user&&e.user.authenticated&&!e.user.is_shadow&&e.actionState.action.target&&e.actionState.action.target.country.code!==e.user.country_code},isTargetAction:function(e,t){return e.actionState.action.target},containsVideo:function(e,t){return e.actionState.action.video_url},shouldDisplayIntro:function(e,t){return e.isEmbedded&&!e.skipIntro&&!e.isMultipleView}}},O={initial:"initialCard",states:(l={initialCard:{on:{"":[{target:y.a.Intro,cond:"shouldDisplayIntro"},{target:y.a.Error,cond:"isNotAvailable",actions:["setNotAvailableErrorMessage"]},{target:y.a.ThankYou,cond:"isShare"},{target:"completedCard",cond:"isCompleted"},{target:y.a.WrongCountry,cond:"isWrongCountry"},{target:y.a.ConfirmEmail,cond:"shouldConfirmEmail"},{target:y.a.VerifyContact,cond:"isTargetAction"},{target:y.a.Video,cond:"containsVideo"},{target:y.a.TakeAction}]}},completedCard:{id:"completedCard",on:{"":[{target:y.a.ThankYou,cond:"shouldPassToThankYouOnCompletion"},{target:y.a.ActionCompleted}]}}},v(l,y.a.TakeAction,{initial:[y.a.TakeAction],states:(a={},v(a,y.a.TakeAction,{on:(o={},v(o,b.a.Loading,y.a.Loading),v(o,b.a.Error,"#".concat(y.a.Error)),v(o,b.a.StartCall,y.a.Loading),o)}),v(a,y.a.Loading,{on:(r={},v(r,b.a.CompleteAction,"#".concat(y.a.ThankYou)),v(r,b.a.ActionCompleted,"#completedCard"),v(r,b.a.Error,"#".concat(y.a.Error)),v(r,b.a.CallStarted,"#".concat(y.a.CallNotes)),v(r,b.a.NumberOutsideArea,y.a.NumberOutsideArea),v(r,b.a.ConfirmEmail,"#".concat(y.a.ConfirmEmail)),r)}),v(a,y.a.NumberOutsideArea,{type:"final"}),a)}),v(l,y.a.Error,{id:y.a.Error,type:"final"}),v(l,y.a.ThankYou,{id:y.a.ThankYou,type:"final"}),v(l,y.a.ActionCompleted,{type:"final"}),v(l,y.a.Video,{on:v({},b.a.TakeAction,y.a.TakeAction)}),v(l,y.a.WrongCountry,{type:"final"}),v(l,y.a.VerifyContact,{on:v({},b.a.TakeAction,y.a.TakeAction)}),v(l,y.a.Intro,{on:v({},b.a.SkipIntro,{target:"initialCard",actions:["skipIntro"]})}),v(l,y.a.CallNotes,{id:y.a.CallNotes,on:(i={},v(i,b.a.CallDisconnected,y.a.CallDisconnected),v(i,b.a.CallExpired,y.a.CallExpired),v(i,b.a.CompleteAction,y.a.ThankYou),v(i,b.a.TakeAction,y.a.TakeAction),v(i,b.a.Error,y.a.Error),i)}),v(l,y.a.CallDisconnected,{type:"final"}),v(l,y.a.CallExpired,{type:"final"}),v(l,y.a.ConfirmEmail,{initial:y.a.ConfirmEmail,states:(c={},v(c,y.a.ConfirmEmail,{id:y.a.ConfirmEmail,on:v({},b.a.Loading,y.a.Loading)}),v(c,y.a.Loading,{on:(s={},v(s,b.a.EmailConfirmationSent,y.a.EmailConfirmationSent),v(s,b.a.Error,"#".concat(y.a.Error)),s)}),v(c,y.a.EmailConfirmationSent,{type:"final"}),c)}),l)},_=Object(m.a)(O,k);function C(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var S={};t.a={initMachineService:function(e,t,n){var o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a=Object(u.interpret)(_.withContext(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),o.forEach(function(t){C(e,t,n[t])})}return e}({actionState:e,isEmbedded:o,isMultipleView:r},n))).onTransition(t);S[e.action.id]=a,a.start()},getMachineByActionId:function(e){return S[e]},extractCardFromStateValue:function(e){for(;e instanceof Object;)e=e[Object.keys(e)[0]];return e},flushMachinesPool:function(){for(var e in S)delete S[e]}}},48:function(e,t,n){"use strict";var o=n(6),r=n.n(o);function a(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return function(e,t,n){t&&a(e.prototype,t),n&&a(e,n)}(e,[{key:"shorten",value:function(e,t){var n=t.successHandler;r.a.ajax({contentType:"application/json",url:"/api/urlproxy/shorten/",async:!1,type:"POST",dataType:"json",data:JSON.stringify({url:e}),success:n})}}]),e}();function s(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}n.d(t,"a",function(){return c});var c=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.urlToShorten=t,this.baseUrl=n,this.urlShortenerClient=new i}return function(e,t,n){t&&s(e.prototype,t),n&&s(e,n)}(e,[{key:"changeWindowLocation",value:function(e){window.location.href=e}},{key:"openShareWindow",value:function(e){this.baseUrl.indexOf("mailto:")>-1||this.baseUrl.indexOf("fb-messenger://")>-1?this.changeWindowLocation(this.baseUrl+e.proxied):window.open(this.baseUrl+e.proxied,"","menubar=no,toolbar=no,resizable=no,scrollbars=no,height=400,width=600")}},{key:"openShareWindowWithShortenUrl",value:function(){this.urlShortenerClient.shorten(this.urlToShorten,{successHandler:this.openShareWindow.bind(this)})}}]),e}()},52:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var o=n(6),r=n.n(o);function a(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return function(e,t,n){t&&a(e.prototype,t),n&&a(e,n)}(e,[{key:"getShadowUser",value:function(e){r.a.ajax({url:"/api/users/shadow_user/",type:"GET",cache:!1,contentType:"application/json",dataType:"json",success:e})}},{key:"register",value:function(e,t,n){r.a.ajax({url:"/api/users/register_shadow/",type:"POST",cache:!1,contentType:"application/json",dataType:"json",data:JSON.stringify(e),success:t,error:n})}},{key:"setPassword",value:function(e,t,n){r.a.ajax({url:"/api/users/set_password/",type:"POST",cache:!1,contentType:"application/json",dataType:"json",data:JSON.stringify(e),success:t,error:n})}},{key:"registerForNewsletter",value:function(e,t,n){r.a.ajax({url:"/api/users/newsletter_registration/",type:"POST",cache:!1,contentType:"application/json",dataType:"json",data:JSON.stringify(e),success:t,error:n})}}]),e}()},530:function(e,t){},531:function(e,t){},533:function(e,t){},536:function(e,t){},537:function(e,t){},54:function(e,t,n){"use strict";var o=n(15),r=n(16);function a(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return function(e,t,n){t&&a(e.prototype,t),n&&a(e,n)}(e,null,[{key:"getTotalLikes",value:function(e,t){Object(r.a)({url:"/v1/content/".concat(e,"/likes/"),type:"GET",success:t.success,error:t.error})}},{key:"getUserLikes",value:function(e,t){Object(r.a)({url:"/v1/me/content/".concat(e,"/likes/"),type:"GET",success:t.success,error:t.error})}},{key:"like",value:function(e,t){Object(r.a)({url:"/v1/content/".concat(e,"/likes/"),type:"POST",contentType:"application/json; charset=utf-8",success:t.success,error:t.error})}},{key:"removeLike",value:function(e,t){Object(r.a)({url:"/v1/content/".concat(e,"/likes/"),type:"DELETE",contentType:"application/json; charset=utf-8",success:t.success,error:t.error})}},{key:"loadEmployeeEngagementContent",value:function(e,t,n,o,a,i,s){var c="/v1/content/?ordering=-publication_date&limit=".concat(t,"&offset=").concat((n-1)*t,"&use_language_fallbacks=").concat(!!o);e&&(c+="&employee_engagement_ids=".concat(e)),a.length&&(c+="&issue=".concat(a.join(","))),i.length&&(c+="&subissue=".concat(i.join(","))),Object(r.a)({url:c,type:"GET",success:s.success,error:s.error})}}]),e}();function s(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var c=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.generateActions("resetContentList")}return function(e,t,n){t&&s(e.prototype,t),n&&s(e,n)}(e,[{key:"loadUserLikeCount",value:function(e){return function(t){i.getUserLikes(e,{success:function(n){t({contentId:e,userLikeCount:n.count,maxLikesPerUser:n.max_likes_per_user})}})}}},{key:"loadTotalLikeCount",value:function(e){return function(t){i.getTotalLikes(e,{success:function(n){t({contentId:e,totalLikeCount:n.count})}})}}},{key:"like",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(n){i.like(e,{success:function(){n(e),t.success&&t.success(e)}})}}},{key:"removeLike",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(n){i.removeLike(e,{success:function(){n(e),t.success&&t.success(e)}})}}},{key:"loadEmployeeEngagementContent",value:function(e,t,n,o,r){return function(a){i.loadEmployeeEngagementContent(e,t,1,n,o,r,{success:function(e){a({count:e.count,contentList:e.results})}})}}},{key:"updatePage",value:function(e,t,n,o,r,a,s,c,l,u){return function(p){s&&(r=Object.keys(c)),l&&(a=u),i.loadEmployeeEngagementContent(e,t,n,o,r,a,{success:function(e){p({count:e.count,contentList:e.results,page:n})}})}}}]),e}();t.a=o.a.createActions(c)},55:function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return d});var o=n(0),r=n.n(o),a=n(173),i=n(39),s=(n(2),n(22));function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var d=function(t){function n(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(t=function(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?f(e):t}(this,u(n).call(this,e))).openSignUpDialog=t.openSignUpDialog.bind(f(f(t))),t.openIframe=t.openIframe.bind(f(f(t))),t.handleClick=t.handleClick.bind(f(f(t))),t.getButtonClass=t.getButtonClass.bind(f(f(t))),t.getButtonContent=t.getButtonContent.bind(f(f(t))),t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(n,r.a.Component),function(e,t,n){t&&l(e.prototype,t),n&&l(e,n)}(n,[{key:"openSignUpDialog",value:function(e){window.openTargetDialog("#registerDialog")}},{key:"openIframe",value:function(t){e("body").prepend("<div id='iframeContainer'></div>");var n=s.a.parsePath(this.props.resourceUrl),o=(window.location.pathname,{resourceUrl:n,iFrameIsOpen:!0,closeCallback:this.props.closeCallback,navElement:this.props.navElement,backButtonText:this.props.backButtonText});i.b.bindComponentToDiv("iframeContainer",a.a,o),e("body").addClass("no-overflow iframe-open"),s.a.historyReplaceState(s.a.updateUrlParameter(window.location.toString(),"subPage",n)),this.props.closeMenu(),this.props.closeSecondaryDropdown(t)}},{key:"handleClick",value:function(e){this.props.openInIframe&&(e.preventDefault(),this.props.useAuthentication&&this.props.user&&!this.props.user.authenticated?this.openSignUpDialog(e):this.openIframe(e))}},{key:"getButtonClass",value:function(){return this.props.buttonClass?this.props.buttonClass:"btn"}},{key:"getButtonContent",value:function(){return this.props.buttonContent?this.props.buttonContent:this.props.action&&this.props.action.button_text?this.props.action.button_text:"Click Here"}},{key:"getButtonTitle",value:function(){return this.props.title?this.props.title:this.getButtonContent()}},{key:"getOpenInNewWindow",value:function(){return this.props.openInIframe?null:this.props.openInNewWindow?"_blank":null}},{key:"getStyle",value:function(){return this.props.style?this.props.style:null}},{key:"getLink",value:function(){return this.props.openInIframe?"#":this.props.resourceUrl}},{key:"render",value:function(){return r.a.createElement("a",{href:this.getLink(),onClick:this.handleClick,className:this.getButtonClass(),ref:"takeActionButton",target:this.getOpenInNewWindow(),style:this.getStyle(),title:this.getButtonTitle()},this.getButtonContent())}}]),n}();d.defaultProps={closeMenu:function(){},closeSecondaryDropdown:function(){},openInNewWindow:!1,useAuthentication:!0,navElement:".attach-iframe-container"}}).call(this,n(6))},58:function(e,t,n){"use strict";var o=n(15),r=n(81);function a(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.bindListeners({getLocation:r.a.getLocation}),this.state={locationDataHasLoaded:!1,locationData:{countryCode:null,countryName:null,cookie_warning:!1}}}return function(e,t,n){t&&a(e.prototype,t),n&&a(e,n)}(e,[{key:"getLocation",value:function(e){this.setState({locationDataHasLoaded:!0,locationData:{countryName:e.country_name,countryCode:e.country_code,cookieWarning:e.cookie_warning}})}}]),e}();t.a=o.a.createStore(i,"LocationStore")},589:function(e,t,n){"use strict";(function(e){!function(e,t,n,o){var r=e(t);e(n).ready(function(){var t=e(".nav"),o=e("#nav-issues"),a=e("#nav-search");t.length&&a.length&&(r.on("scroll",function(){r.scrollTop()>t.height()+o.height()?(t.addClass("scroll"),o.addClass("scroll"),e("#search").addClass("search-scrolled")):(o.removeClass("scroll"),t.removeClass("scroll"),e("#search").removeClass("search-scrolled"))}),e(".nav-toggle").on("click touch",function(t){e(".nav-toggle").toggleClass("active"),e(".nav-menu").toggleClass("visible"),t.preventDefault()}),e(n).on("click touchstart",function(t){e(t.target).parents(".nav-toggle").length||e(t.target).parents(".nav-menu").length||(e(".nav-toggle").removeClass("active"),e(".nav-menu").removeClass("visible"))}),e(".nav-menu li").each(function(){var t=e(this);t.find("ul").length&&t.addClass("has-dropdown")}),e(".has-dropdown").on("click","> a",function(t){e(this).next().stop().slideToggle().parent().siblings().find("ul").slideUp(),t.preventDefault()}),e(".js-nav-trigger").on("click",function(){var t=e(this).data("target");if(void 0===t)return!1;e(".nav-toggle").addClass("active"),e(".nav-menu").addClass("visible"),e(".js-target-".concat(t)).find("a").click()}),e(".search-button").on("click",function(t){e("#search").hasClass("active-search")?e("#search").removeClass("active-search"):(e("#search").addClass("active-search"),e("#nav-search").focus())}),e("#nav-search").val().length||e(".search-bar i").removeAttr("style"),e("#nav-search").on("keyup",function(){e("#nav-search").val().length>0&&e(".search-bar i").css("color","#d62027"),e("#nav-search").val().length||e(".search-bar i").removeAttr("style")}),e(".select-language").click(function(){var t=e(this).data("code");e("#languageCode").val(t),e("#setLanguage").submit()}),e("ul.dropdown-visitor a").click(function(){e("ul.dropdown-visitor").removeClass("visible")}))})}(e,window,document)}).call(this,n(6))},59:function(e,t,n){"use strict";var o=n(6),r=n.n(o),a=n(16);function i(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var s=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return function(e,t,n){t&&i(e.prototype,t),n&&i(e,n)}(e,null,[{key:"convert",value:function(e){switch(e.type){case"call":e.call_phone_number=e.phone_number,e.call_script=e.script;break;case"checkin":e.checkin_address=e.address,e.checkin_latitude=e.latitude,e.checkin_longitude=e.longitude;break;case"community_action":e.community_action_button_link=e.button_link,e.community_action_instructions=e.instructions;break;case"email":e.email_bcc_addresses=e.bcc,e.email_cc_addresses=e.cc,e.email_points_with_template=e.points_with_template,e.email_template_body=e.template,e.email_to=e.introduction,e.email_to_addresses=e.to;break;case"petition":e.petition_body=e.body;break;case"tweet":e.tweet_text=e.text;break;case"quiz":e.quiz_questions=e.questions}return e}}]),e}();function c(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}n.d(t,"a",function(){return l});var l=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return function(e,t,n){t&&c(e.prototype,t),n&&c(e,n)}(e,null,[{key:"getAction",value:function(e,t){r.a.ajax({url:"/api/actions/",type:"GET",data:{id:e},success:t.success})}},{key:"getActions",value:function(e,t,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,r="/v1/actions/?id=".concat(e,"&use_language_fallbacks=").concat(!!n);o&&(r+="&limit=".concat(o)),Object(a.a)({url:r,type:"GET",success:function(e,n,o){t.success(e.results.map(s.convert),n,o)}})}},{key:"completeAction",value:function(e,t,n){t.action_completion_url=window.location.href,r.a.ajax({url:"/api/actions/".concat(e,"/complete/"),type:"POST",data:JSON.stringify(t),contentType:"application/json; charset=utf-8",dataType:"json",success:n.success,error:n.error})}},{key:"startCall",value:function(e,t,n,o){Object(a.a)({url:"/v1/actions/calls/".concat(e,"/start_call/"),type:"POST",data:JSON.stringify({action_set_id:t,contact_id:n}),contentType:"application/json; charset=utf-8",dataType:"json",success:o.success,error:o.error})}},{key:"getContacts",value:function(e,t){Object(a.a)({url:"/v1/actions/".concat(e,"/contacts/"),type:"GET",success:t.success,error:t.error})}},{key:"getCompletedAction",value:function(e,t){Object(a.a)({url:"/v1/actions/".concat(e,"/completed/"),type:"GET",dataType:"json",success:t.success,error:t.error})}},{key:"getCompleteCall",value:function(e,t){Object(a.a)({url:"/v1/actions/calls/".concat(e,"/completed/"),type:"GET",dataType:"json",success:t.success,error:t.error})}},{key:"loadEmployeeEngagementActions",value:function(e,t,n,o,r,i,s){var c="/v1/search/?types=action&employee_engagement_ids=".concat(e,"&limit=").concat(t,"&offset=").concat((n-1)*t,"&use_language_fallbacks=").concat(!!o,"&exclude_country_by_ip=true");r.length&&(c+="&issue=".concat(r.join(","))),i.length&&(c+="&subissue=".concat(i.join(","))),Object(a.a)({url:c,type:"GET",dataType:"json",success:s.success,error:s.error})}}]),e}()},591:function(e,t,n){"use strict";(function(e){var t=n(175);!function(e){function n(t){function n(e){r(e.is_new)}function o(n){var o=e(t);if(n&&n.responseJSON&&n.responseJSON.errors){var r=n.responseJSON.errors;!function(e){e.find(".form--floating-label__input").removeClass("form--floating-label__input--error"),e.find("p.form--floating-label__error-message").remove(),e.find(".form--floating-label__input").siblings(".form--floating-label__required").show()}(o),e.each(r,function(t,n){if("__all__"!==t){var r=o.find(".form--floating-label--".concat(t," .form--floating-label__input ")).addClass("form--floating-label__input--error"),a=e("<p>").addClass("form--floating-label__error-message").text(n[0]);r.after(a)}else{var i=o.find(".form--floating-label__input").last(),s=e("<p>").addClass("form--floating-label__error-message").text(n[0]);i.after(s),o.find(".form--floating-label__input").each(function(){e(this).toggleClass("form--floating-label__input--error"),e(this).siblings(".form--floating-label__required").toggle()})}})}o.find("button[type=submit]").prop("disabled",!1)}e(t).on("submit",function(t){t.preventDefault();var r=e(this);r.find("button[type=submit]").prop("disabled",!0),window.FormUtils.submit(r,n,o)})}var o={"/account/password/reset/complete/":"/","/account/login/":"/"};function r(e){"content"===window.location.pathname.split("/")[2]&&(window.location.hash="action");var n=utils.getCleanParameterByName("partner");if(n)window.location.href="https://".concat(n,".globalcitizen.org/").concat(utils.getQueryString());else{var r=o[window.location.pathname];r?window.location.href=r:e?window.location=utils.updateUrlParameter(window.location.toString(),"newReg","true"):window.location.replace(function(e){if("/"===e[3]){var n=e.slice(1,3);t.a.localeMapping[n]&&(e=e.slice(3))}return e}(window.location.pathname))}}function a(t){var n=!1,o={scope:"public_profile,email,user_location",return_scopes:!0};function a(e){window.openTargetDialog("#deactivatedDialog")}function i(i){if("connected"===i.status){var s=i.authResponse;-1!==s.grantedScopes.indexOf("email")?function(t){var n={access_token:t.accessToken};e.get("/account/access-token-registration/facebook/",n,function(e){r(e.is_new)}).fail(a)}(s):(n&&e(t).off("click"),n=!0,o.scope="email",o.auth_type="rerequest",window.openTargetDialog("#facebookRerequestDialog"))}}e(t).on("click",function(){FB.login(i,o)})}e(document).ready(function(){n("#loginDialog form"),n("#loginPage form"),a(".facebook-button")})}(window.jQuery);e(document).ready(function(){utils.getParameterByName("newReg")&&setTimeout(function(){window.openTargetDialog("#postRegisterDialog")},1e3)})}).call(this,n(6))},612:function(e,t,n){"use strict";n.r(t);n(116);var o=n(165),r=n.n(o),a=n(6),i=n.n(a),s=n(284),c=n.n(s),l=n(0),u=n.n(l),p=n(40),f=n.n(p),d=n(231),m=n.n(d),h=n(1),y=n.n(h),b=n(4),g=n(3),v=n(2);function w(e){return(w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function k(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function O(e){return(O=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _(e,t){return(_=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function C(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var E=b.a.div.withConfig({displayName:"accordion__Container",componentId:"b6h5f9-0"})(["color:",";"],function(e){return e.color}),P=b.a.div.withConfig({displayName:"accordion__ToggleContentContainer",componentId:"b6h5f9-1"})(["cursor:pointer;"]);P.displayName="ToggleContentContainer";var j=b.a.span.withConfig({displayName:"accordion__ToggleSwitch",componentId:"b6h5f9-2"})(["cursor:pointer;color:",";&.open{> *{transform:rotate(-90deg);transition-duration:0.3s;}}&.close{> *{transform:rotate(90deg);transition-duration:0.3s;}}"],function(e){return e.color});j.displayName="ToggleSwitch";var N=b.a.div.withConfig({displayName:"accordion__CollapsedContent",componentId:"b6h5f9-3"})(["&.slidedown{max-height:",";}"],function(e){return e.maxHeight});N.displayName="CollapsedContent";var T=b.a.div.withConfig({displayName:"accordion__ChildrenAsHTML",componentId:"b6h5f9-4"})([""]);T.displayName="ChildrenAsHTML";var x=b.a.div.withConfig({displayName:"accordion__ToggleContentHTML",componentId:"b6h5f9-5"})([""]);x.displayName="ToggleContentHTML";var I=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),S(C(C(n=function(e,t){return!t||"object"!==w(t)&&"function"!=typeof t?C(e):t}(this,O(t).call(this,e)))),"toggleAccordion",function(){n.props.toggleAccordion?n.props.toggleAccordion():n.setState(function(e){return{accordionOpen:!e.accordionOpen}})}),S(C(C(n)),"renderChildrenAsHTML",function(){return n.props.renderChildrenAsHTML?u.a.createElement(T,{className:n.props.collapsedClass,dangerouslySetInnerHTML:{__html:n.props.children}}):n.props.children}),S(C(C(n)),"renderToggleContent",function(){return n.props.toggleContent?n.props.renderToggleContentAsHTML?u.a.createElement(x,{dangerouslySetInnerHTML:{__html:n.props.toggleContent}}):n.props.toggleContent:null}),n.state={accordionOpen:n.props.accordionOpen},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_(e,t)}(t,l["Component"]),function(e,t,n){t&&k(e.prototype,t),n&&k(e,n)}(t,[{key:"componentDidUpdate",value:function(e){Object.prototype.hasOwnProperty.call(this.props,"accordionOpen")&&this.props.accordionOpen!==e.accordionOpen&&this.setState(function(e){return{accordionOpen:!e.accordionOpen}})}},{key:"render",value:function(){var e=u.a.Children.toArray(this.props.children).filter(function(e){return null!==e});return e&&e.length>0?u.a.createElement(E,{color:this.props.color,className:"bst ".concat(this.props.className)},u.a.createElement(P,{className:"d-flex align-items-center ".concat(this.props.className),onClick:this.toggleAccordion},this.renderToggleContent(),u.a.createElement("div",{className:"ml-auto"},u.a.createElement(j,{className:"\n                                    ".concat(this.state.accordionOpen?"open":"close"," ").concat(this.props.className)},this.props.toggleSwitch))),u.a.createElement(N,{accordionOpen:this.state.accordionOpen,className:"".concat(this.state.accordionOpen?"slidedown":"slideup"," ").concat(this.props.className),maxHeight:this.props.maxHeight},this.renderChildrenAsHTML())):null}}]),t}();I.defaultProps={color:g.a.black,accordionOpen:!1,maxHeight:null,toggleContent:Object(v.c)("Learn more"),toggleSwitch:u.a.createElement("i",{className:"fas fa-chevron-right"}),collapsedClass:"mt-4",renderChildrenAsHTML:!1,renderToggleContentAsHTML:!1},I.propTypes={accordionOpen:y.a.bool,renderChildrenAsHTML:y.a.bool,toggleAccordion:y.a.func,color:y.a.string,toggleContent:y.a.node,renderToggleContentAsHTML:y.a.node,toggleSwitch:y.a.node,maxHeight:y.a.string,collapsedClass:y.a.string,className:y.a.string,children:y.a.object};var A=n(34),L={min:{xxlarge:"1366px",xlarge:"1200px",iPadLandscape:"1024px",large:"960px",medium:"768px",mobile:"460px",small:"599px",iphone6:"375px",iphone5:"320px"},max:{xxlarge:"1365px",xlarge:"1199",iPadLandscape:"1023px",large:"959px",medium:"767px",mobile:"459px",small:"599px",iphone6:"374px",iphone5:"319px"}};function R(e){return(R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function M(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function B(e,t){return!t||"object"!==R(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function D(e){return(D=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function z(e,t){return(z=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var W=b.a.div.withConfig({displayName:"copy__Container",componentId:"axd5c8-0"})(["max-width:",";"],function(e){return e.maxWidth}),F=b.a.p.withConfig({displayName:"copy__Kicker",componentId:"axd5c8-1"})(["color:",";font-family:",";text-transform:uppercase;margin-bottom:5px;font-size:",";"],g.a.gray,g.a.primaryFontFamilyBold,g.a.defaultTopicSize);F.displayName="Kicker";var U=b.a.h1.withConfig({displayName:"copy__Head",componentId:"axd5c8-2"})(["color:",";font-size:","rem;margin:0;@media (min-width:","){font-size:",";}"],g.a.black,Object(A.d)("".concat(g.a.defaultHeadlineSize))*"".concat(g.a.mobileHeaderReduction),L.min.medium,g.a.defaultHeadlineSize);U.displayName="Head";var q=b.a.h6.withConfig({displayName:"copy__Deck",componentId:"axd5c8-3"})(["font-family:",";color:",";margin-top:15px;"],g.a.primaryFontFamily,g.a.midGray);q.displayName="Deck";var G=b.a.h6.withConfig({displayName:"copy__Subhead",componentId:"axd5c8-4"})(["font-weight:bold;text-transform:uppercase;color:",";margin-top:15px;letter-spacing:0.5px;"],function(e){return Object(A.b)(.1,e.color)});G.displayName="Subhead",G.defaultProps={color:g.a.black},G.propTypes={color:y.a.string};var H=b.a.p.withConfig({displayName:"copy__Byline",componentId:"axd5c8-5"})(["color:",";margin-top:5px;"],g.a.gray);H.displayName="Byline";var V=b.a.p.withConfig({displayName:"copy__Dateline",componentId:"axd5c8-6"})(["color:",";margin-top:5px;"],g.a.gray);V.displayName="Dateline";var Y=b.a.div.withConfig({displayName:"copy__Body",componentId:"axd5c8-7"})(["margin-top:10px;&:last-of-type{margin-bottom:10px;div,p{margin-top:10px;}"]);Y.displayName="Body";var Q=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),B(this,D(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&z(e,t)}(t,l["Component"]),function(e,t,n){t&&M(e.prototype,t),n&&M(e,n)}(t,[{key:"render",value:function(){u.a.Children.toArray(this.props.children).filter(function(e){return null!==e&&void 0!==e});return u.a.createElement(W,function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({className:this.props.className,maxWidth:this.props.maxWidth},"className","".concat(this.props.className||""," ").concat(this.props.containerClasses)),this.props.kicker&&u.a.createElement(F,null,this.props.kicker),this.props.head&&u.a.createElement(U,null,this.props.head),this.props.subhead&&u.a.createElement(G,{color:this.props.color},this.props.subhead),this.props.deck&&u.a.createElement(q,null,this.props.deck),this.props.byline&&u.a.createElement(H,null,"By ",this.props.byline),this.props.dateline&&u.a.createElement(V,null,this.props.dateline),this.props.body&&u.a.createElement(Y,null,this.props.body),this.props.children&&u.a.createElement(Y,null,this.props.children))}}]),t}();Q.propTypes={color:y.a.string,kicker:y.a.string,head:y.a.string,deck:y.a.string,subhead:y.a.string,byline:y.a.string,dateline:y.a.string,body:y.a.string,children:y.a.node,className:y.a.string},Q.defaultProps={maxWidth:"600px",containerClasses:""};var K=n(33),J=n(91);function Z(e){return(Z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function X(e){return(X=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ee(e,t){return(ee=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function te(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var ne=b.a.div.withConfig({displayName:"partner-attribution__Container",componentId:"sc-1x8ctdz-0"})(["color:",";"],function(e){return e.color});ne.displayName="Container";var oe=b.a.span.withConfig({displayName:"partner-attribution__Message",componentId:"sc-1x8ctdz-1"})(["padding-right:",";white-space:nowrap;"],function(e){return"image"===e.type?"15px":null});oe.displayName="Message";var re=b.a.span.withConfig({displayName:"partner-attribution__Connector",componentId:"sc-1x8ctdz-2"})(["padding-left:15px;padding-right:15px;"]);re.displayName="Connector";var ae=b.a.a.withConfig({displayName:"partner-attribution__PartnerLink",componentId:"sc-1x8ctdz-3"})(["border:0;color:",";&:hover{color:",";}"],function(e){return e.color},function(e){return e.color&&Object(A.a)(.1,e.color)});ae.displayName="PartnerLink";var ie=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=function(e,t){return!t||"object"!==Z(t)&&"function"!=typeof t?te(e):t}(this,X(t).call(this,e))).renderClassName=n.renderClassName.bind(te(te(n))),n.renderPartnerList=n.renderPartnerList.bind(te(te(n))),n.renderNames=n.renderNames.bind(te(te(n))),n.renderImages=n.renderImages.bind(te(te(n))),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ee(e,t)}(t,l["Component"]),function(e,t,n){t&&$(e.prototype,t),n&&$(e,n)}(t,[{key:"createImageList",value:function(e){var t=this;return e.map(function(e){return u.a.createElement(ae,{href:e.url,title:e.name,key:e.id},u.a.createElement(K.a,{src:e.logo_url,alt:e.name,key:e.id,maxHeight:t.props.maxHeight,maxWidth:t.props.maxWidth,width:t.props.width,height:t.props.height}))}).reduce(function(e,t,n){return[e,u.a.createElement(re,{key:n},"+"),t]})}},{key:"renderImages",value:function(){return this.props.partners&&this.props.partners.length?u.a.createElement("div",{className:"d-flex flex-row align-items-center flex-wrap"},this.createImageList(this.props.partners)):null}},{key:"renderNames",value:function(e){return u.a.createElement(ae,{color:this.props.color,href:e.url,title:e.name,key:e.id,className:"".concat(this.props.className||""," d-inline-block")},e.name)}},{key:"renderText",value:function(){return this.props.partners&&this.props.partners.length?u.a.createElement(J.a,{items:this.props.partners,renderItem:this.renderNames,color:this.props.color}):null}},{key:"renderPartnerList",value:function(){return"image"===this.props.type?this.renderImages():this.renderText()}},{key:"renderClassName",value:function(){return"image"===this.props.type?"".concat(this.props.imagesWrapperClass," ").concat(this.props.className):this.props.className}},{key:"render",value:function(){return this.props.partners&&this.props.partners.length?u.a.createElement("div",{className:"bst"},u.a.createElement(ne,{color:this.props.color,className:this.renderClassName(),type:this.props.type},this.props.message&&u.a.createElement(oe,{type:this.props.type},this.props.message)," ",this.renderPartnerList())):null}}]),t}();ie.defaultProps={color:g.a.midGray,width:"auto",height:"auto",maxHeight:"41px",maxWidth:"100%",type:"image",imagesWrapperClass:"d-flex align-items-center flex-wrap"},ie.propTypes={color:y.a.string,message:y.a.string,partners:y.a.arrayOf(y.a.object).isRequired,height:y.a.string,width:y.a.string,maxHeight:y.a.string,maxWidth:y.a.string,type:y.a.string,imagesWrapperClass:y.a.string,className:y.a.string};var se=n(614);function ce(e){return(ce="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function le(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function ue(e){return(ue=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function pe(e,t){return(pe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function fe(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var de=b.a.div.withConfig({displayName:"attribution__Bootstrap",componentId:"sc-50u486-0"})(["width:100%;"]);de.displayName="Bootstrap";var me=b.a.div.withConfig({displayName:"attribution__Container",componentId:"sc-50u486-1"})(["color:",";font-size:",";a{color:",";text-decoration:underline;&:hover,&:active{color:",";}}"],function(e){return e.color},g.a.xxxxsmallBaseFont,function(e){return e.color},g.a.hoverLinkColor),he=b.a.div.withConfig({displayName:"attribution__Icon",componentId:"sc-50u486-2"})(["line-height:0;color:",";"],function(e){return e.color});he.displayName="Icon";var ye=b.a.div.withConfig({displayName:"attribution__Text",componentId:"sc-50u486-3"})([""]);ye.displayName="Text";var be=function(e){function t(){var e,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];return function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(fe(fe(n=function(e,t){return!t||"object"!==ce(t)&&"function"!=typeof t?fe(e):t}(this,(e=ue(t)).call.apply(e,[this].concat(r))))),"renderCredits",function(){return n.props.credits.source_link?u.a.createElement("a",{href:n.props.credits.source_link,target:"_blank",title:n.props.credits.author,rel:"noopener noreferrer"},n.props.credits.author):u.a.createElement("span",null,n.props.credits.author)}),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&pe(e,t)}(t,l["Component"]),function(e,t,n){t&&le(e.prototype,t),n&&le(e,n)}(t,[{key:"render",value:function(){return this.props.credits&&this.props.credits.author&&!this.props.hideCredits?u.a.createElement(de,{className:"bst"},u.a.createElement(me,{color:this.props.color,className:"d-flex flex-row align-items-center ".concat(this.props.alignment," ").concat(this.props.className)},this.props.icon&&u.a.createElement(he,{color:this.props.color,className:this.props.iconClass},this.props.icon),u.a.createElement(ye,null,this.renderCredits()))):null}}]),t}();be.defaultProps={hideCredits:!1,color:g.a.midGray,alignment:"justify-content-center",icon:u.a.createElement(se.a,{size:12}),iconClass:"pr-2"},be.propTypes={alignment:y.a.string,color:y.a.string,icon:y.a.node,iconClass:y.a.string,text:y.a.string,className:y.a.string};var ge=n(23),ve=n(10);function we(e){return(we="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ke(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Oe(e,t){return!t||"object"!==we(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _e(e){return(_e=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ce(e,t){return(Ce=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Se=Object(b.a)(ve.a).withConfig({displayName:"social-button__Container",componentId:"tmj7se-0"})(["&,&[button],&[class*='button__']{background-color:transparent;font-size:25px;border:0;min-width:0;padding:0;color:",";&:hover,&:active,&:focus{color:",";background-color:transparent;box-shadow:none;background-image:none;}}"],function(e){return e.color},function(e){return e.color&&Object(A.a)(.2,e.color)}),Ee=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Oe(this,_e(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ce(e,t)}(t,l["Component"]),function(e,t,n){t&&ke(e.prototype,t),n&&ke(e,n)}(t,[{key:"render",value:function(){return u.a.createElement(Se,{color:this.props.color,icon:this.props.icon,className:this.props.className,handleClick:this.props.handleClick,title:this.props.title})}}]),t}();Ee.defaultProps={color:g.a.mediumGray},Ee.propTypes={color:y.a.string,icon:y.a.node,className:y.a.string,title:y.a.string,handleClick:y.a.node};var Pe=n(83);function je(e){return(je="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ne(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Te(e,t){return!t||"object"!==je(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function xe(e){return(xe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ie(e,t){return(Ie=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ae=b.a.div.withConfig({displayName:"social-buttons__Row",componentId:"sc-3fj5bk-0"})([""]);Ae.displayName="Row";var Le=b.a.div.withConfig({displayName:"social-buttons__Col",componentId:"sc-3fj5bk-1"})([""]);Le.displayName="Col";var Re=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Te(this,xe(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ie(e,t)}(t,u.a.Component),function(e,t,n){t&&Ne(e.prototype,t),n&&Ne(e,n)}(t,[{key:"socialShare",value:function(e){return Pe.b.socialShare(e,this.props.shareItem,this.props.shareItemType,this.props.shareItemText,this.props.shareItemQueryStringOptions,this.props.shareItemUrl)}},{key:"renderRowClassName",value:function(){return this.props.vertical?"d-flex flex-column":"bst-row"}},{key:"renderColClassName",value:function(){return this.props.vertical?"pb-4":"col"}},{key:"renderFbButton",value:function(){var e=this;return this.props.hideFb?null:u.a.createElement(Le,{className:"social-button__facebook ".concat(this.renderColClassName())},u.a.createElement(Ee,{id:"facebookLink",color:g.a.fbBlue,icon:u.a.createElement("i",{className:"fab fa-facebook-f"}),title:Object(v.c)("Share on Facebook"),handleClick:function(){return e.socialShare("facebook")}}))}},{key:"renderTwitterButton",value:function(){var e=this;return this.props.hideTwitter?null:u.a.createElement(Le,{className:"social-button__twitter ".concat(this.renderColClassName())},u.a.createElement(Ee,{id:"twitterLink",color:g.a.twitterBlue,icon:u.a.createElement("i",{className:"fab fa-twitter"}),title:Object(v.c)("Share on Twitter"),handleClick:function(){return e.socialShare("twitter")}}))}},{key:"renderEmailButton",value:function(){var e=this;return this.props.hideEmail?null:u.a.createElement(Le,{className:"social-button__email ".concat(this.renderColClassName())},u.a.createElement(Ee,{id:"emailLink",color:g.a.doveGray,icon:u.a.createElement("i",{className:"fas fa-envelope"}),title:Object(v.c)("Share with Email"),handleClick:function(){return e.socialShare("email")}}))}},{key:"renderFbMessengerButtons",value:function(){var e=this;return this.props.hideFbMessenger?null:u.a.createElement("div",null,u.a.createElement(Le,{className:"d-none d-lg-block social-button__fb-messenger ".concat(this.renderColClassName())},u.a.createElement(Ee,{id:"fbMessengerDesktopLink",color:"#3b5998",icon:u.a.createElement("i",{className:"fab fa-facebook-messenger"}),title:Object(v.c)("Share with Facebook Messenger"),handleClick:function(){return e.socialShare("fbMessengerDesktop")}})),u.a.createElement(Le,{className:"d-lg-none social-button__fb-messenger ".concat(this.renderColClassName())},u.a.createElement(Ee,{id:"fbMessengerMobileLink",color:"#3b5998",icon:u.a.createElement("i",{className:"fab fa-facebook-messenger"}),title:Object(v.c)("Share with Facebook Messenger"),handleClick:function(){return e.socialShare("fbMessengerMobile")}})))}},{key:"renderWhatsAppButton",value:function(){var e=this;return this.props.hideWhatsApp?null:u.a.createElement(Le,{className:"d-lg-none social-button__whatsapp ".concat(this.renderColClassName())},u.a.createElement(Ee,{id:"whatsappLink",color:"#25D366",icon:u.a.createElement("i",{className:"fab fa-whatsapp"}),title:Object(v.c)("Share on Whatsapp"),handleClick:function(){return e.socialShare("whatsapp")}}))}},{key:"renderWorkplaceButton",value:function(){var e=this;return this.props.hideWorkplace?null:u.a.createElement(Le,{className:"".concat(this.renderColClassName())},u.a.createElement(Ee,{id:"workplacebutton",color:g.a.workplaceBlue,icon:u.a.createElement(K.a,{src:"/static/img/coty/workplace-gray.svg",width:"30px",height:"auto",alt:Object(v.c)("Share on Workplace"),type:"tag"}),title:Object(v.c)("Share on Workplace"),handleClick:function(){return e.socialShare("workplace")}}))}},{key:"render",value:function(){return u.a.createElement("div",{className:"bst"},u.a.createElement(Ae,{className:this.renderRowClassName()},this.renderFbButton(),this.renderTwitterButton(),this.renderEmailButton(),this.renderFbMessengerButtons(),this.renderWhatsAppButton(),this.renderWorkplaceButton()))}}]),t}();Re.defaultProps={vertical:!1,shareItemQueryStringOptions:{},hideFb:!1,hideTwitter:!1,hideEmail:!1,hideFbMessenger:!1,hideWhatsApp:!1,hideWorkplace:!1},Re.propTypes={vertical:y.a.bool,shareItem:y.a.object,shareItemType:y.a.string,shareItemText:y.a.string,shareItemQueryStringOptions:y.a.object,hideFb:y.a.bool,hideTwitter:y.a.bool,hideEmail:y.a.bool,hideFbMessenger:y.a.bool,hideWhatsApp:y.a.bool,hideWorkplace:y.a.bool};var Me=n(22);function Be(e){return(Be="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function De(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function ze(e){return(ze=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function We(e,t){return(We=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Fe(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ue(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var qe=function(e){function t(){var e,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];return Ue(Fe(Fe(n=function(e,t){return!t||"object"!==Be(t)&&"function"!=typeof t?Fe(e):t}(this,(e=ze(t)).call.apply(e,[this].concat(r))))),"getActionOrActionSet",function(){return n.props.actionSet||n.props.action}),Ue(Fe(Fe(n)),"renderHeroImageSrc",function(){return Me.a.renderDefaultImage(n.getActionOrActionSet().hero_image)}),Ue(Fe(Fe(n)),"renderPartnersText",function(){return n.getActionOrActionSet().partners&&n.getActionOrActionSet().partners.length?u.a.createElement("small",{className:"col-12 d-lg-none pb-3 pb-md-4 mb-4 border-bottom border-border-base"},u.a.createElement(ie,{message:"Brought to you by",type:"text",partners:n.getActionOrActionSet().partners,className:"text-center ".concat(n.getActionOrActionSet().className)})):null}),Ue(Fe(Fe(n)),"renderPartnersImage",function(){return n.getActionOrActionSet().partners&&n.getActionOrActionSet().partners.length?u.a.createElement("small",{className:"col-12 d-none d-lg-block"},u.a.createElement(ie,{message:"Brought to you by",type:"image",partners:n.getActionOrActionSet().partners,className:"justify-content-end ".concat(n.props.className)})):null}),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&We(e,t)}(t,u.a.Component),function(e,t,n){t&&De(e.prototype,t),n&&De(e,n)}(t,[{key:"render",value:function(){return u.a.createElement("div",{className:"action-page__top bst"},u.a.createElement("div",{className:"bst-container pt-sm-3 pt-md-4"},u.a.createElement("div",{className:"bst-row"},this.renderPartnersText(),u.a.createElement("div",{className:"col-xl-4 col-lg-4 col-md-6 col-sm-12 d-flex flex-column"},u.a.createElement("div",{className:"d-flex flex-column mt-auto"},u.a.createElement(Q,{kicker:ge.a.renderPoints(this.getActionOrActionSet()),head:this.getActionOrActionSet().title,body:this.getActionOrActionSet().description}),ge.a.renderActionOrActionSetProgressBar(this.props,"pt-1 pb-4 pb-md-3")),u.a.createElement("div",{className:"d-none pt-md-2 d-md-flex mt-auto"},u.a.createElement(Re,{shareItem:this.getActionOrActionSet(),shareItemType:"action",shareItemText:this.getActionOrActionSet().title,hideFbMessenger:this.props.hideFbMessenger,hideWorkplace:this.props.hideWorkplace}))),u.a.createElement("div",{className:"col-xl-6 offset-xl-2 col-lg-7 offset-lg-1 col-md-6 col-sm-12 d-flex flex-column align-items-center"},u.a.createElement(K.a,{src:this.renderHeroImageSrc(),width:"100%",height:"auto",alt:"Global Citizen",type:"tag"}),u.a.createElement(be,{credits:this.getActionOrActionSet().thumbnails&&this.getActionOrActionSet().thumbnails.credits,alignment:"justify-content-end",className:"pt-2"}))),u.a.createElement("div",{className:"bst-row pt-md-0 pt-lg-4 pt-xl-4 pb-4"},this.renderPartnersImage(),u.a.createElement("div",{className:"col-12 pt-4 d-md-none d-flex justify-content-end"},u.a.createElement(Re,{shareItem:this.getActionOrActionSet(),shareItemType:"action",shareItemText:this.getActionOrActionSet().title,hideFbMessenger:this.props.hideFbMessenger,hideWorkplace:this.props.hideWorkplace})))))}}]),t}();function Ge(e){return(Ge="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function He(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Ve(e,t){return!t||"object"!==Ge(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ye(e){return(Ye=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Qe(e,t){return(Qe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}qe.defaultProps={hideFbMessenger:!0,hideWorkplace:!0},qe.propTypes={actionSet:y.a.object,action:y.a.object,className:y.a.string,partners:y.a.arrayOf(y.a.object),kicker:y.a.object,head:y.a.string,body:y.a.string,shareItem:y.a.string,shareItemType:y.a.string,shareItemText:y.a.string,hideFbMessenger:y.a.bool,hideWorkplace:y.a.bool};var Ke=b.a.div.withConfig({displayName:"card__Container",componentId:"sc-8m88n0-0"})(["background:",";border-top:",";max-width:",";min-width:250px;min-height:225px;flex:1 0 auto;justify-content:stretch;font-size:",";box-shadow:0 0 4px ",";*[class|='copy__Kicker']{font-size:",";}*[class|='copy__Head']{font-size:",";}*[class|='copy__Subhead']{font-size:",";}*[class|='copy__Body']{font-size:0.85rem;}*[class|='attribution__Icon']{font-size:",";}*[class|='attribution__Header']{font-size:",";}"],g.a.white,function(e){return e.topBorder?"3px solid ".concat(e.color):null},function(e){return e.maxWidth},g.a.xxsmallBaseFont,Object(A.c)(g.a.gray,.5),g.a.xxsmallBaseFont,g.a.baseFontSize,g.a.xxxxsmallBaseFont,g.a.largeBaseFont,g.a.xxxxsmallBaseFont);Ke.propTypes={color:y.a.string,maxWidth:y.a.string,topBorder:y.a.bool};var Je=b.a.div.withConfig({displayName:"card__Header",componentId:"sc-8m88n0-1"})(["width:100%;min-width:100%;max-width:100%;min-height:75px;"]);Je.displayName="Header";var Ze=b.a.div.withConfig({displayName:"card__Content",componentId:"sc-8m88n0-2"})(["justify-content:center;flex:1 0 auto;padding:20px;width:100%;min-width:100%;max-width:100%;min-height:0;"]);Ze.displayName="Content";var $e=b.a.div.withConfig({displayName:"card__Footer",componentId:"sc-8m88n0-3"})(["width:100%;min-width:100%;max-width:100%;flex:0 0 auto;padding:0 20px 20px 20px;flex-wrap:wrap;"]);$e.displayName="Footer";var Xe=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Ve(this,Ye(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Qe(e,t)}(t,l["Component"]),function(e,t,n){t&&He(e.prototype,t),n&&He(e,n)}(t,[{key:"childrenWithProps",value:function(){var e=Object.assign({},this.props);delete e.children;var t=u.a.Children.toArray(this.props.children).filter(function(e){return null!==e&&void 0!==e});return u.a.Children.map(t,function(t){return u.a.cloneElement(t,e)})}},{key:"firstChild",value:function(){return this.childrenWithProps().slice(0,1)}},{key:"middleChildren",value:function(){return this.childrenWithProps().length>2?this.childrenWithProps().slice(1,-1):2===this.childrenWithProps().length?this.childrenWithProps().slice(0,1):this.childrenWithProps()}},{key:"lastChild",value:function(){return this.childrenWithProps().slice(-1)}},{key:"renderFirstChild",value:function(){return this.childrenWithProps().length>2?u.a.createElement(Je,{className:"d-flex flex-wrap align-items-stretch ".concat(this.props.className)},this.firstChild()):null}},{key:"renderMiddleChildren",value:function(){return u.a.createElement(Ze,{className:"d-flex flex-column flex-wrap ".concat(this.props.verticalAlignment," ").concat(this.props.className)},this.middleChildren())}},{key:"renderLastChild",value:function(){return this.childrenWithProps().length>1?u.a.createElement($e,{className:"d-flex align-self-end align-items-end flex-wrap ".concat(this.props.className)},this.lastChild()):null}},{key:"render",value:function(){return u.a.createElement("div",{className:"bst"},u.a.createElement(Ke,{color:this.props.color,maxWidth:this.props.maxWidth,topBorder:this.props.topBorder,className:"d-flex flex-wrap flex-column ".concat(this.props.className)},this.renderFirstChild(),this.renderMiddleChildren(),this.renderLastChild()))}}]),t}();function et(e){return(et="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function tt(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function nt(e,t){return!t||"object"!==et(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ot(e){return(ot=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function rt(e,t){return(rt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}Xe.propTypes={color:y.a.string,maxWidth:y.a.string,topBorder:y.a.bool,verticalAlignment:y.a.string,children:y.a.node,className:y.a.string},Xe.defaultProps={color:g.a.lightGray,maxWidth:"250px",topBorder:!0,verticalAlignment:"justify-content-center"};var at=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),nt(this,ot(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&rt(e,t)}(t,u.a.Component),function(e,t,n){t&&tt(e.prototype,t),n&&tt(e,n)}(t,[{key:"render",value:function(){return this.props.action&&this.props.action.call_to_action&&this.props.action.description?u.a.createElement(Xe,{color:this.props.color,maxWidth:this.props.maxWidth,verticalAlignment:this.props.verticalAlignment,topBorder:this.props.topBorder},u.a.createElement("div",null,u.a.createElement(Q,{kicker:ge.a.renderPoints(this.props.action),head:this.props.action.call_to_action,body:this.props.action.description}),ge.a.renderProgressBar(this.props.action)),u.a.createElement("a",{href:Me.a.parsePath(this.props.action.url),title:Object(v.c)("Take Action Now")},u.a.createElement(ve.a,{buttonText:Object(v.c)("Take Action Now")}))):null}}]),t}();at.defaultProps={color:g.a.primaryRed,topBorder:!1},at.propTypes={color:y.a.string,maxWidth:y.a.string,verticalAlignment:y.a.string,topBorder:y.a.bool};var it=n(68);function st(e){return(st="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ct(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function lt(e,t){return!t||"object"!==st(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ut(e){return(ut=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function pt(e,t){return(pt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ft=b.a.div.withConfig({displayName:"action-page-bottom__Column",componentId:"sc-5ed96s-0"})([".bst{width:100%;}"]),dt=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),lt(this,ut(t).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&pt(e,t)}(t,u.a.Component),function(e,t,n){t&&ct(e.prototype,t),n&&ct(e,n)}(t,[{key:"createActionList",value:function(e){var t=this;return e.map(function(e){return u.a.createElement(ft,{key:e.id,className:"".concat(t.props.className||"","} d-flex col-lg-4 col-md-6 col-sm-12 mb-4 pt-1")},u.a.createElement(at,{key:e.id,action:e,maxWidth:t.props.maxWidth,color:t.props.color,verticalAlignment:t.props.verticalAlignment,topBorder:t.props.topBorder}))})}},{key:"renderActionsList",value:function(){return this.props.actions&&this.props.actions.length?this.createActionList(this.props.actions):null}},{key:"render",value:function(){return this.props.actions&&this.props.actions.length>1?u.a.createElement("div",null,u.a.createElement("div",{className:"bst-container"},u.a.createElement("div",{className:"bst-row"},u.a.createElement("div",{className:"col-12"},u.a.createElement("h4",{className:"mb-4 text-sm-center text-lg-left"},Object(v.c)("Take More Action")))),u.a.createElement(it.a,{centerPadding:"30px",useRow:!0},this.renderActionsList()))):null}}]),t}();dt.defaultProps={maxWidth:"100%",verticalAlignment:"justify-content-start"},dt.propTypes={color:y.a.string,maxWidth:y.a.string,verticalAlignment:y.a.string,topBorder:y.a.bool};var mt=n(167),ht=n.n(mt),yt=n(7),bt=n.n(yt);function gt(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var vt=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.token=t,this.activities=[],this.observers=[],this.client=n.connect(e.STREAM_KEY,null,e.APP_ID),this.onMessageReceived=this.onMessageReceived.bind(this),this.notify=this.notify.bind(this)}return function(e,t,n){t&&gt(e.prototype,t),n&&gt(e,n)}(e,[{key:"notify",value:function(e){e(this.activities)}},{key:"register",value:function(e){this.observers.push(e)}},{key:"subscribe",value:function(e,t){this.feed=this.client.feed(e,t,this.token),this.feed.subscribe(bt.a.throttle(this.onMessageReceived,2500))}},{key:"onMessageReceived",value:function(e){this.activities=this.processNewMessages(e),this.observers.forEach(this.notify)}},{key:"poll",value:function(e){var t=this;void 0===this.feed&&console.log("must subscribe before loading recent data"),this.feed.get({limit:10,mark_seen:!0},function(n,o,r){n||(t.activities=r.results,e(o,r))})}},{key:"processNewMessages",value:function(e){return bt.a.uniq(e.new.concat(this.activities),function(e){return e.id}).slice(0,10)}}]),e}(),wt=n(168),kt=n(169);function Ot(e){return(Ot="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _t(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Ct(e,t){return!t||"object"!==Ot(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function St(e){return(St=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Et(e,t){return(Et=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Pt=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Ct(this,St(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Et(e,t)}(t,u.a.Component),function(e,t,n){t&&_t(e.prototype,t),n&&_t(e,n)}(t,[{key:"formatActivities",value:function(e){var t=this;return e.map(function(e,n){return e.name=t.getNameFromActivity(e),e.timeSince=Object(kt.a)(e.time),e.humanizedVerb=t.humanizeVerb(e.verb),e.title=e.action_title,e})}},{key:"humanizeVerb",value:function(e){return{"completed-petition":Object(v.c)("signed a petition"),"completed-email":Object(v.c)("sent an email"),"completed-call":Object(v.c)("made a call"),"completed-tweet":Object(v.c)("tweeted"),"completed-checkin":Object(v.c)("checked in")}[e]||Object(v.c)("completed an action")}},{key:"capitalize",value:function(e){return void 0!==e?e.charAt(0).toUpperCase()+e.substring(1).toLowerCase():""}},{key:"getNameFromActivity",value:function(e){return e.first_name&&e.last_name?"".concat(this.capitalize(e.first_name)," ").concat(this.capitalize(e.last_name),"."):e.first_name?this.capitalize(e.first_name):Object(v.c)("Global Citizen")}},{key:"activities",value:function(){if(this.props.activities&&this.props.activities.length)return this.formatActivities(this.props.activities)}},{key:"render",value:function(){return this.props.activities&&this.props.activities.length?u.a.createElement(wt.a,{activities:this.activities(),type:this.props.type,maxHeight:this.props.maxHeight,linkItems:this.props.linkItems}):null}}]),t}();Pt.propTypes={type:y.a.oneOf([null,"basic","expanded"]),activities:y.a.arrayOf(y.a.object).isRequired,maxHeight:y.a.string,linkItems:y.a.bool},Pt.defaultProps={linkItems:!0};var jt=n(14);function Nt(e){return(Nt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Tt(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function xt(e){return(xt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function It(e,t){return(It=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function At(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var Lt=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=function(e,t){return!t||"object"!==Nt(t)&&"function"!=typeof t?At(e):t}(this,xt(t).call(this,e)),vt.STREAM_KEY=n.props.streamKey,vt.APP_ID=n.props.streamAppId,n.onInitialFeedData=n.onInitialFeedData.bind(At(At(n))),n.onNewActivity=n.onNewActivity.bind(At(At(n))),n.getFeed(),n.state={activities:[],loading:!0},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&It(e,t)}(t,u.a.Component),function(e,t,n){t&&Tt(e.prototype,t),n&&Tt(e,n)}(t,[{key:"componentDidMount",value:function(){this.loadInitialFeedData(),this.subscribeToNewActivities()}},{key:"onInitialFeedData",value:function(e,t){this.setState({loading:!1}),t&&t.results&&t.results.length>0&&(this.setState({activities:t.results}),this.showParentCardIfEnoughActivities())}},{key:"onNewActivity",value:function(e){this.setState({activities:e}),this.showParentCardIfEnoughActivities()}},{key:"getActivityFeed",value:function(){this.activityFeed=this.props.activityFeed||new vt(this.props.streamToken,ht.a)}},{key:"getFeed",value:function(){this.getActivityFeed(),this.activityFeed.subscribe(this.props.feedBucket,this.props.feedId)}},{key:"showParentCardIfEnoughActivities",value:function(){this.state.activities&&this.state.activities.length>=this.props.minimumActivitiesToDisplay&&this.props.showCard(!0)}},{key:"loadInitialFeedData",value:function(){this.activityFeed.poll(this.onInitialFeedData)}},{key:"subscribeToNewActivities",value:function(){this.activityFeed.register(this.onNewActivity)}},{key:"render",value:function(){return this.state.loading?u.a.createElement(jt.a,null):!this.state.activities||this.state.activities&&this.state.activities.length<this.props.minimumActivitiesToDisplay?null:u.a.createElement(Pt,{activities:this.state.activities,type:this.props.type,maxHeight:this.props.maxHeight,linkItems:this.props.linkItems})}}]),t}();function Rt(e){return(Rt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Mt(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Bt(e){return(Bt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Dt(e,t){return(Dt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function zt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}Lt.propTypes={streamKey:y.a.string.isRequired,streamAppId:y.a.string.isRequired,localeData:y.a.object,streamToken:y.a.string.isRequired,type:y.a.oneOf([null,"basic","expanded"]),pollMethod:y.a.string.isRequired,feedBucket:y.a.string.isRequired,feedId:y.a.string.isRequired,activities:y.a.arrayOf(y.a.object),maxHeight:y.a.string,minimumActivitiesToDisplay:y.a.number,showCard:y.a.func,linkItems:y.a.bool},Lt.defaultProps={minimumActivitiesToDisplay:6,showCard:function(){},linkItems:!0};var Wt=Object(b.a)(Xe).withConfig({displayName:"activity-feed-card__CardContainer",componentId:"wve6fn-0"})(["padding:0;position:relative;*[class|='activity-feed-card__CardContainer']{position:absolute;top:0;right:0;left:0;bottom:50px;}*[class*='ActivityFeed__Container']{&:after{height:60px;}}*[class*='ActivityFeed__Time']{display:none;}&&& *[class*='ActivityFeed__Flag']{max-width:22px;min-width:22px;width:22px;height:22px;}"]),Ft=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(zt(zt(n=function(e,t){return!t||"object"!==Rt(t)&&"function"!=typeof t?zt(e):t}(this,Bt(t).call(this,e)))),"showCard",function(e){n.setState({showCard:e})}),n.state={showCard:!1},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Dt(e,t)}(t,u.a.Component),function(e,t,n){t&&Mt(e.prototype,t),n&&Mt(e,n)}(t,[{key:"showOrHideCardCSS",value:function(){return this.state.showCard?null:"d-none"}},{key:"render",value:function(){return this.props.streamKey&&this.props.streamAppId&&this.props.streamToken?u.a.createElement("div",{className:"bst"},u.a.createElement("div",{id:"activity-feed-plugin-card",className:this.showOrHideCardCSS()},u.a.createElement(Wt,{color:this.props.color,maxWidth:this.props.maxWidth,verticalAlignment:this.props.verticalAlignment,topBorder:this.props.topBorder,linkItems:this.props.linkItems},u.a.createElement("div",null,u.a.createElement(Q,{head:Object(v.c)("Making an Impact"),className:"px-2 py-3 ".concat(this.props.className)}),u.a.createElement(Lt,{streamKey:this.props.streamKey,streamAppId:this.props.streamAppId,localeData:this.props.localeData,streamToken:this.props.streamToken,type:this.props.type,pollMethod:this.props.pollMethod,feedBucket:this.props.feedBucket,feedId:this.props.feedId,activities:this.props.activities,maxHeight:this.props.maxHeight,className:this.props.className,minimumActivitiesToDisplay:this.props.minimumActivitiesToDisplay,showCard:this.showCard,linkItems:this.props.linkItems}))))):null}}]),t}();Ft.defaultProps={color:g.a.primaryRed,topBorder:!1,maxHeight:"100%",type:"expanded",pollMethod:"poll",feedBucket:"action",feedId:"all",minimumActivitiesToDisplay:3,linkItems:!0},Ft.propTypes={color:y.a.string,maxWidth:y.a.string,verticalAlignment:y.a.string,topBorder:y.a.bool,streamKey:y.a.string,streamAppId:y.a.string,streamToken:y.a.string,className:y.a.string,maxHeight:y.a.string,type:y.a.string,pollMethod:y.a.string,feedBucket:y.a.string,feedId:y.a.string,activities:y.a.arrayOf(y.a.object),localeData:y.a.object,minimumActivitiesToDisplay:y.a.number,linkItems:y.a.bool};var Ut=n(27),qt=n(101);function Gt(e){return(Gt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ht(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Vt(e){return(Vt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Yt(e,t){return(Yt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Qt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var Kt=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=function(e,t){return!t||"object"!==Gt(t)&&"function"!=typeof t?Qt(e):t}(this,Vt(t).call(this,e))).state={loaded:!1},n.followClient=new qt.a(n.props.followType),n.followClick=n.followClick.bind(Qt(Qt(n))),n.unfollowClick=n.unfollowClick.bind(Qt(Qt(n))),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Yt(e,t)}(t,u.a.Component),function(e,t,n){t&&Ht(e.prototype,t),n&&Ht(e,n)}(t,[{key:"componentDidMount",value:function(){var e=this;Ut.a.get().then(function(t){t.authenticated?e.getFollowingState():e.setState({authenticated:!1,loaded:!0})})}},{key:"getFollowingState",value:function(){this.followClient.loadInitialState(this.props.followId,function(e){this.setState({authenticated:!0,following:!0,loaded:!0})}.bind(this),function(e){this.setState({authenticated:!0,following:!1,loaded:!0})}.bind(this))}},{key:"followClick",value:function(){this.followClient.follow(this.props.followId,function(){this.setState({following:!0})}.bind(this),function(){})}},{key:"unfollowClick",value:function(){this.followClient.unfollow(this.props.followId,function(){this.setState({following:!1})}.bind(this),function(){})}},{key:"isUserAuthenticated",value:function(){return this.state.authenticated}},{key:"openLoginDialog",value:function(){window.openTargetDialog("#loginDialog")}},{key:"getFollowMessage",value:function(){return this.props.followMessage?this.props.followMessage:Object(v.c)("Follow")}},{key:"getFollowingMessage",value:function(){return this.props.followingMessage?this.props.followingMessage:Object(v.c)("Following")}},{key:"getUnfollowMessage",value:function(){return this.props.unFollowMessage?this.props.unFollowMessage:Object(v.c)("Unfollow")}},{key:"render",value:function(){return!1===this.state.loaded?u.a.createElement(jt.a,null):!1===this.isUserAuthenticated()?u.a.createElement("button",{className:"gc-ui-follow-button gc-ui-follow-button-follow",ref:"openSigninDialogButton",onClick:this.openLoginDialog},u.a.createElement("span",{className:"button-text"},this.getFollowMessage())):!0===this.state.following?u.a.createElement("button",{className:"gc-ui-follow-button gc-ui-follow-button-unfollow",ref:"followButton",onClick:this.unfollowClick},u.a.createElement("div",{className:"button-text following"},u.a.createElement("i",{className:"fas fa-check"}),u.a.createElement("span",null,this.getFollowingMessage())),u.a.createElement("div",{className:"button-text unfollow"},u.a.createElement("i",{className:"fas fa-times"}),u.a.createElement("span",null,this.getUnfollowMessage()))):!1===this.state.following&&u.a.createElement("button",{className:"gc-ui-follow-button gc-ui-follow-button-follow",ref:"followButton",onClick:this.followClick},u.a.createElement("span",{className:"button-text"},this.getFollowMessage()))}}]),t}();function Jt(e){return(Jt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Zt(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function $t(e,t){return!t||"object"!==Jt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Xt(e){return(Xt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function en(e,t){return(en=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var tn=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),$t(this,Xt(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&en(e,t)}(t,Kt),function(e,t,n){t&&Zt(e.prototype,t),n&&Zt(e,n)}(t,[{key:"render",value:function(){return!1===this.state.loaded?u.a.createElement(jt.a,null):!1===this.isUserAuthenticated()?u.a.createElement("button",{className:"btn btn--dark",ref:"openSigninDialogButton",onClick:this.openLoginDialog},Object(v.c)("Follow issue")):!0===this.state.following?u.a.createElement("button",{className:"btn btn--dark",ref:"followButton",onClick:this.unfollowClick},Object(v.c)("Unfollow issue")):!1===this.state.following&&u.a.createElement("button",{className:"btn btn--dark",ref:"followButton",onClick:this.followClick},Object(v.c)("Follow issue"))}}]),t}();tn.defaultProps={followType:"issue"};n(555);function nn(){function e(){i()(".mobile-only-list-slideshow-wrapper").each(function(){var e=i()(this);e.children(".slideshow").not(".slick-initialized").slick({mobileFirst:!0,slidesToShow:1,slidesToScroll:1,centerPadding:"0",speed:300,arrows:!0,prevArrow:'<button type="button" class="slick-prev"><i class="fas fa-long-arrow-left"></i></button>',nextArrow:'<button type="button" class="slick-next"><i class="fas fa-long-arrow-right"></i></button>',appendArrows:i()(".mobile-only-list-slideshow-wrapper__arrow",e),responsive:[{breakpoint:960,settings:"unslick"}]})})}e(),i()(window).resize(e)}n(125),n(556);var on=n(170),rn=n(171),an=n(294);function sn(e){return(sn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function cn(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function ln(e,t){return!t||"object"!==sn(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function un(e){return(un=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function pn(e,t){return(pn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var fn=b.a.ol.withConfig({displayName:"content-ordered-list__OrderedList",componentId:"alfvxg-0"})(["list-style-type:none;margin-left:1.8rem;counter-reset:item;"]),dn=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),ln(this,un(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&pn(e,t)}(t,u.a.Component),function(e,t,n){t&&cn(e.prototype,t),n&&cn(e,n)}(t,[{key:"render",value:function(){var e=(this.props?this.props:null).contentList,t=[];return e?(e.forEach(function(e){t.push(u.a.createElement(an.a,{key:e.id,item:e}))}),u.a.createElement("div",{className:"bst"},u.a.createElement(fn,null,t))):null}}]),t}(),mn=n(295),hn=n(296),yn=(n(159),n(102));function bn(e){return(bn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function gn(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function vn(e){return(vn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function wn(e,t){return(wn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function kn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var On=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=function(e,t){return!t||"object"!==bn(t)&&"function"!=typeof t?kn(e):t}(this,vn(t).call(this,e))).state={},n.closeWarning=n.closeWarning.bind(kn(kn(n))),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&wn(e,t)}(t,u.a.Component),function(e,t,n){t&&gn(e.prototype,t),n&&gn(e,n)}(t,[{key:"componentWillMount",value:function(){this.setWarningState()}},{key:"closeWarning",value:function(){i.a.cookie("cookieWarningAccepted","true",{expires:30,path:"/"}),this.setState({show_warning:!1})}},{key:"setWarningState",value:function(){var e=this;this.warningAccepted()?this.setState({show_warning:!1}):yn.a.get({success:function(t){e.setState({show_warning:t.cookie_warning})}})}},{key:"warningAccepted",value:function(){return"true"==i.a.cookie("cookieWarningAccepted")}},{key:"render",value:function(){return!!this.state.show_warning&&u.a.createElement("div",{className:"cookie-warning"},u.a.createElement("div",{className:"cookie-warning__inner"},u.a.createElement("div",{className:"cookie-warning__inner__text"},"".concat(Object(v.c)("This site uses cookies to provide you with the best experience.")," "),u.a.createElement("a",{className:"cookie-warning__inner__link",href:"/about/privacy-policy/"},Object(v.c)("Read more."))),u.a.createElement("div",{className:"cookie-warning__inner__close-wrapper"},u.a.createElement("span",{ref:"close",className:"cookie-warning__inner__close-wrapper__close-warning",onClick:this.closeWarning},"×"))))}}]),t}(),_n=n(78),Cn=n(17),Sn=n.n(Cn),En=n(57),Pn=n(63),jn=n(19),Nn=n(79),Tn=n(127);function xn(e){return(xn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function In(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function An(e,t){return!t||"object"!==xn(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ln(e){return(Ln=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Rn(e,t){return(Rn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Mn=b.a.div.withConfig({displayName:"container__Container",componentId:"sc-1t64h8l-0"})(["height:100%;"]);Mn.displayName="Container";var Bn=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),An(this,Ln(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Rn(e,t)}(t,u.a.Component),function(e,t,n){t&&In(e.prototype,t),n&&In(e,n)}(t,[{key:"render",value:function(){return u.a.createElement(Mn,{className:"".concat(this.props.className||""," bst")},u.a.createElement("div",{className:"bst-container-fluid h-100"},u.a.createElement("div",{className:"bst-row h-100 align-items-stretch"},this.props.children)))}}]),t}();Bn.propTypes={className:y.a.string,children:y.a.node};var Dn=n(92);function zn(e){return(zn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Wn(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Fn(e,t){return!t||"object"!==zn(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Un(e){return(Un=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function qn(e,t){return(qn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Gn=Object(b.a)(Dn.a).withConfig({displayName:"progress-bar__StyledProgressBar",componentId:"sc-1q61yki-0"})(["*[class*='progress-bar__OuterBar']{border-radius:0;}*[class*='progress-bar__InnerBar']{border-radius:0;}"]);Gn.displayName="StyledProgressBar";var Hn=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Fn(this,Un(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&qn(e,t)}(t,u.a.Component),function(e,t,n){t&&Wn(e.prototype,t),n&&Wn(e,n)}(t,[{key:"render",value:function(){return u.a.createElement("div",{className:"d-block w-100"},u.a.createElement("div",{className:"bst-row"},u.a.createElement("div",{className:"col-12 p-0"},u.a.createElement(Gn,{goal:this.props.goal,count:this.props.count,showCounter:this.props.showCounter,className:this.props.className}))))}}]),t}();function Vn(e){return(Vn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Yn(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Qn(e){return(Qn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Kn(e,t){return(Kn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Jn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Zn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Hn.defaultProps={goal:11,showCounter:!1,className:"d-lg-none"},Hn.propTypes={count:y.a.number,goal:y.a.number,showCounter:y.a.bool,className:y.a.string};var $n=b.a.ul.withConfig({displayName:"nav-title__NavTitleContainer",componentId:"sc-1f76kgk-0"})(["&&&{width:100%;list-style-type:none;padding:0;@media (min-width:","){width:auto;max-height:",";}}"],L.min.large,g.a.navHeight);$n.displayName="NavTitleContainer";var Xn=b.a.li.withConfig({displayName:"nav-title__TitleItem",componentId:"sc-1f76kgk-1"})(["line-height:0;display:flex;align-items:center;& + &{border-left:1px solid ",";padding-left:0.5rem;margin-left:0.5rem;@media (min-width:","){padding-left:1.5rem;margin-left:1.5rem;}}&:only-child{img{width:80px;@media (min-width:","){width:100px;}}}img{width:55px;@media (min-width:","){width:100px;}}"],function(e){return e.separatorColor},L.min.large,L.min.large,L.min.large);Xn.displayName="TitleItem";var eo=function(e){function t(){var e,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];return Zn(Jn(Jn(n=function(e,t){return!t||"object"!==Vn(t)&&"function"!=typeof t?Jn(e):t}(this,(e=Qn(t)).call.apply(e,[this].concat(r))))),"createTitles",function(e){return e.map(function(e){return u.a.createElement(Xn,{key:e.id},u.a.createElement("a",{key:e.id,href:e.url,title:e.title},u.a.createElement(K.a,{src:e.image,width:"100px",height:"auto",alt:e.title,type:"tag",key:e.id})))})}),Zn(Jn(Jn(n)),"renderTitles",function(){return n.props.titles&&n.props.titles.length?n.createTitles(n.props.titles):null}),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Kn(e,t)}(t,u.a.Component),function(e,t,n){t&&Yn(e.prototype,t),n&&Yn(e,n)}(t,[{key:"render",value:function(){return u.a.createElement($n,{className:"d-flex align-items-stretch justify-content-start"},this.renderTitles())}}]),t}();function to(e){return(to="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function no(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function oo(e){return(oo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ro(e,t){return(ro=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ao(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}eo.defaultProps={separatorColor:g.a.black,titles:[{id:1,image:"/static/img/gc-logo-no-space.svg",title:"Global Citizen",url:"/"}]},eo.propTypes={separatorColor:y.a.string,titles:y.a.arrayOf(y.a.object)};var io=b.a.div.withConfig({displayName:"header__Header",componentId:"g2ta34-0"})([""]);io.displayName="Header";var so=b.a.a.withConfig({displayName:"header__SignInLink",componentId:"g2ta34-1"})(["cursor:pointer;&:hover{text-decoration:underline;}"]);so.displayName="SignInLink";var co=function(e){function t(){var e,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];return function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(ao(ao(n=function(e,t){return!t||"object"!==to(t)&&"function"!=typeof t?ao(e):t}(this,(e=oo(t)).call.apply(e,[this].concat(r))))),"getSignInLink",function(){n.props.ssoLink?Me.a.assign("".concat(n.props.ssoLink,"&next=").concat(window.location.pathname)):window.openTargetDialog("#loginDialog")}),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ro(e,t)}(t,u.a.Component),function(e,t,n){t&&no(e.prototype,t),n&&no(e,n)}(t,[{key:"render",value:function(){return u.a.createElement(io,{className:"px-lg-3"},u.a.createElement("div",{className:"bst-row align-items-center pb-3"},u.a.createElement("div",{className:"col-6"},u.a.createElement(eo,{titles:this.props.titles,separatorColor:this.props.separatorColor})),u.a.createElement("div",{className:"col-6 text-right"},u.a.createElement("p",{className:"m-0"},u.a.createElement("span",{className:"d-none d-lg-inline pr-3"},"Already a user?")," ",u.a.createElement(so,{onClick:this.getSignInLink,title:Object(v.c)("Sign in"),className:"text-uppercase font-weight-bold"},Object(v.c)("Sign in"))))))}}]),t}();function lo(e){return(lo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function uo(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function po(e,t){return!t||"object"!==lo(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function fo(e){return(fo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function mo(e,t){return(mo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}co.defaultProps={separatorColor:g.a.white,titles:[{id:1,image:"/static/img/gc-logo-no-space-alt.png",title:"Global Citizen",url:"/"}]},co.propTypes={separatorColor:y.a.string,titles:y.a.arrayOf(y.a.object),ssoLink:y.a.string,className:y.a.string};var ho=b.a.div.withConfig({displayName:"centered-content__Container",componentId:"sc-1jr1fbb-0"})(["flex-grow:1;max-width:600px;width:100%;@media (min-width:","){flex-grow:0;}"],L.min.large);ho.displayName="Container";var yo=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),po(this,fo(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&mo(e,t)}(t,u.a.Component),function(e,t,n){t&&uo(e.prototype,t),n&&uo(e,n)}(t,[{key:"render",value:function(){return u.a.createElement(ho,{className:"".concat(this.props.className||""," d-flex flex-column justify-content-center mx-auto text-center")},this.props.children)}}]),t}();function bo(e){return(bo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function go(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function vo(e){return(vo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function wo(e,t){return(wo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ko(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}yo.propTypes={className:y.a.string,children:y.a.node};var Oo=Object(b.a)(En.c).withConfig({displayName:"navigation__StyledLink",componentId:"sc-8td7xq-0"})(["text-transform:uppercase;border-top:7px solid ",";padding-top:0.5rem;box-sizing:border-box;color:",";margin-left:",";margin-right:",";text-align:center;font-weight:bold;font-size:",";letter-spacing:0.5px;&:hover,&.active{color:",";border-color:",";}"],g.a.classicGray,g.a.classicGray,g.a.gutter,g.a.gutter,g.a.xxxxsmallBaseFont,g.a.primraryRed,g.a.pimraryRed);Oo.displayName="StyledLink";var _o=Object(b.a)(En.c).withConfig({displayName:"navigation__SignUpLink",componentId:"sc-8td7xq-1"})(["color:",";font-weight:bold;font-size:",";"],g.a.white,g.a.smallBaseFont);_o.displayName="SignUpLink";var Co=function(e){function t(){var e,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];return function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(ko(ko(n=function(e,t){return!t||"object"!==bo(t)&&"function"!=typeof t?ko(e):t}(this,(e=vo(t)).call.apply(e,[this].concat(r))))),"renderMobileSignUpLink",function(){return n.props.location&&n.props.location.pathname&&n.props.location.pathname.includes("sign-up")?null:u.a.createElement("div",{className:"d-block d-lg-none text-center pt-2"},u.a.createElement(_o,{to:"/sign-up/form",className:"".concat(n.props.className||""," text-uppercase"),title:Object(v.c)("Skip to Sign Up")},Object(v.c)("Skip to Sign Up")," ",u.a.createElement("span",{className:"highlight"},"→")))}),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&wo(e,t)}(t,u.a.Component),function(e,t,n){t&&go(e.prototype,t),n&&go(e,n)}(t,[{key:"render",value:function(){return u.a.createElement("div",null,u.a.createElement(yo,{className:"d-none d-lg-block"},u.a.createElement("div",{className:"bst-row d-none d-lg-flex justify-content-center"},u.a.createElement(Oo,{exact:!0,to:"/",activeClassName:"active",className:"".concat(this.props.className||""," col"),title:Object(v.c)("What")},Object(v.c)("What")),u.a.createElement(Oo,{to:"/why",activeClassName:"active",className:"".concat(this.props.className||""," col"),title:Object(v.c)("Why")},Object(v.c)("Why")),u.a.createElement(Oo,{to:"/how",activeClassName:"active",className:"".concat(this.props.className||""," col"),title:Object(v.c)("How")},Object(v.c)("How")),u.a.createElement(Oo,{to:"/sign-up",activeClassName:"active",className:"".concat(this.props.className||""," col"),title:Object(v.c)("Sign Up")},Object(v.c)("Sign Up")))),this.renderMobileSignUpLink())}}]),t}();function So(e){return(So="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Eo(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Po(e,t){return!t||"object"!==So(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function jo(e){return(jo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function No(e,t){return(No=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}Co.propTypes={className:y.a.string};var To=b.a.div.withConfig({displayName:"main__Main",componentId:"sc-1nre1ez-0"})([""]);To.displayName="Main";var xo=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Po(this,jo(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&No(e,t)}(t,u.a.Component),function(e,t,n){t&&Eo(e.prototype,t),n&&Eo(e,n)}(t,[{key:"render",value:function(){return u.a.createElement(To,{className:"".concat(this.props.className||""," col-12 col-lg-8 py-4 py-lg-5 d-flex flex-column justify-content-stretch")},u.a.createElement(co,{ssoLink:this.props.ssoLink,titles:this.props.titles}),this.props.children,u.a.createElement(Co,{location:this.props.location}))}}]),t}();function Io(e){return(Io="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ao(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Lo(e,t){return!t||"object"!==Io(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ro(e){return(Ro=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Mo(e,t){return(Mo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}xo.propTypes={titles:y.a.arrayOf(y.a.object),ssoLink:y.a.string,className:y.a.string,children:y.a.node};var Bo=b.a.div.withConfig({displayName:"content__Container",componentId:"hsfre8-0"})(["position:relative;flex-grow:1;"]);Bo.displayName="Container";var Do=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Lo(this,Ro(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Mo(e,t)}(t,u.a.Component),function(e,t,n){t&&Ao(e.prototype,t),n&&Ao(e,n)}(t,[{key:"render",value:function(){return u.a.createElement(Bo,{className:"".concat(this.props.className||""," \n                d-flex flex-column justify-content-center align-items-center w-100")},this.props.children)}}]),t}();function zo(e){return(zo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Wo(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Fo(e,t){return!t||"object"!==zo(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Uo(e){return(Uo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function qo(e,t){return(qo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}Do.propTypes={className:y.a.string,children:y.a.node};var Go=b.a.p.withConfig({displayName:"message__Message",componentId:"v5r1wc-0"})(["font-size:",";letter-spacing:0.3px;line-height:",";@media (min-width:","){font-size:",";}@media (min-width:","){font-size:1.32rem;letter-spacing:0.2px;line-height:",";}"],g.a.baseFontSize,g.a.baseLineHeight,L.min.iphone6,g.a.mediumBaseFont,L.min.large,g.a.xxlargeLineHeight);Go.displayName="Message";var Ho=b.a.p.withConfig({displayName:"message__LargeText",componentId:"v5r1wc-1"})(["font-size:",";letter-spacing:0.4px;@media (min-width:","){font-size:1.32rem;}@media (min-width:","){font-size:1.75rem;letter-spacing:0.3px;}"],g.a.baseFontSize,L.min.iphone6,L.min.large);Ho.displayName="LargeText";var Vo=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Fo(this,Uo(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&qo(e,t)}(t,u.a.Component),function(e,t,n){t&&Wo(e.prototype,t),n&&Wo(e,n)}(t,[{key:"render",value:function(){return this.props.largeText?u.a.createElement(Ho,{dangerouslySetInnerHTML:this.props.message,className:this.props.className}):u.a.createElement(Go,{dangerouslySetInnerHTML:this.props.message,className:this.props.className})}}]),t}();Vo.defaultProps={largeText:!1,className:"pb-4"},Vo.propTypes={message:y.a.object,className:y.a.string,largeText:y.a.bool};var Yo=b.a.div.withConfig({displayName:"sidebar__Sidebar",componentId:"sc-1mqkw2p-0"})(["display:none;@media (min-width:","){display:flex;background-image:url('/static/img/coty/welcome/what-sidebar.jpg');background-size:cover;background-position:center;}"],L.min.large);Yo.displayName="Sidebar";var Qo=function(e){return u.a.createElement(Yo,{className:"".concat(e.className||""," col-lg-4 align-items-center justify-content-center flex-column text-center")},e.children)};Qo.propTypes={className:y.a.string,children:y.a.node};var Ko=b.a.h2.withConfig({displayName:"title__Headline",componentId:"sc-1jamfd7-0"})(["letter-spacing:2.95px;font-size:",";@media (min-width:","){font-size:",";}"],g.a.smallBaseFontSize,L.min.large,g.a.baseFontSize);Ko.displayName="Headline";var Jo=function(e){return u.a.createElement(Ko,{className:"".concat(e.className||""," font-weight-bold text-uppercase")},e.headline)};function Zo(e){return(Zo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $o(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Xo(e){return(Xo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function er(e,t){return(er=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function tr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function nr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Jo.propTypes={headline:y.a.string,className:y.a.string};var or=function(e){function t(){var e,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];return nr(tr(tr(n=function(e,t){return!t||"object"!==Zo(t)&&"function"!=typeof t?tr(e):t}(this,(e=Xo(t)).call.apply(e,[this].concat(r))))),"renderMessage",function(){return{__html:Object(v.c)("We are partnering with {{noWrapOpen}}Global Citizen{{spanClose}} to tackle {{highlightOpen}}prejudice{{spanClose}} and {{highlightOpen}}discrimination{{spanClose}} on a global scale through {{noWrapOpen}}{{highlightOpen}}action-taking{{spanClose}} and {{highlightOpen}}advocacy{{spanClose}}{{spanClose}}",{highlightOpen:'<span class="highlight">',spanClose:"</span>",noWrapOpen:'<span class="text-nowrap">',interpolation:{escape:!1}})}}),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&er(e,t)}(t,u.a.Component),function(e,t,n){t&&$o(e.prototype,t),n&&$o(e,n)}(t,[{key:"render",value:function(){return u.a.createElement(Bn,null,u.a.createElement(xo,{ssoLink:this.props.ssoLink,titles:this.props.titles,location:this.props.location},u.a.createElement(Hn,{count:this.props.count}),u.a.createElement(Do,null,u.a.createElement(yo,null,u.a.createElement(Jo,{headline:Object(v.c)("We stand for you")}),u.a.createElement(Vo,{message:this.renderMessage(),largeText:!0})),u.a.createElement(En.b,{to:"/why",className:"btn"},Object(v.c)("Next")," ",u.a.createElement("i",{className:"fas fa-chevron-right pl-3"})))),u.a.createElement(Qo,null))}}]),t}();function rr(e){return(rr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ar(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function ir(e){return(ir=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function sr(e,t){return(sr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function cr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}nr(or,"propTypes",{user:y.a.shape({authenticated:y.a.bool}),ssoLink:y.a.string,titles:y.a.arrayOf(y.a.object)}),or.defaultProps={count:1},or.propTypes={count:y.a.number,titles:y.a.arrayOf(y.a.object),ssoLink:y.a.string};var lr=Object(b.a)(Qo).withConfig({displayName:"sidebar-content__Sidebar",componentId:"sc-1y9s3cv-0"})(["&&&{display:flex;padding-left:0;padding-right:0;flex-grow:1;}@media (min-width:","){&&&{padding-left:",";padding-right:",";}}"],L.min.large,g.a.gutter,g.a.gutter);lr.displayName="Sidebar";var ur=Object(b.a)(Vo).withConfig({displayName:"sidebar-content__StyledMessage",componentId:"sc-1y9s3cv-1"})(["font-size ",";line-height:",";letter-spacing:0.25px;"],g.a.baseFontSize,g.a.baseLineHeight);ur.displayName="StyledMessage";var pr=b.a.a.withConfig({displayName:"sidebar-content__NextButton",componentId:"sc-1y9s3cv-2"})([""]);pr.displayName="NextButton";var fr=function(e){function t(){var e,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];return function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(cr(cr(n=function(e,t){return!t||"object"!==rr(t)&&"function"!=typeof t?cr(e):t}(this,(e=ir(t)).call.apply(e,[this].concat(r))))),"renderImage",function(){return n.props.image?u.a.createElement(K.a,{src:n.props.image,width:n.props.width,alt:n.props.title,className:"d-block mx-auto"}):null}),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&sr(e,t)}(t,u.a.Component),function(e,t,n){t&&ar(e.prototype,t),n&&ar(e,n)}(t,[{key:"render",value:function(){return u.a.createElement(lr,{className:this.props.className},u.a.createElement(Hn,{count:this.props.count}),u.a.createElement(Do,null,u.a.createElement(yo,null,u.a.createElement("h3",null,Object(v.c)(this.props.title)),u.a.createElement(ur,{message:this.props.message,className:this.props.messageClass}),this.renderImage())),u.a.createElement(pr,{className:"d-block d-lg-none btn",onClick:this.props.handleClick},Object(v.c)("Next")," ",u.a.createElement("i",{className:"fas fa-chevron-right pl-3"})))}}]),t}();function dr(e){return(dr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function mr(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function hr(e){return(hr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function yr(e,t){return(yr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function br(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function gr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}fr.propTypes={count:y.a.number,className:y.a.string,message:y.a.object,title:y.a.string,handleClick:y.a.func};var vr=Object(b.a)(fr).withConfig({displayName:"why-sidebar-selector__GenderSidebar",componentId:"sc-106isy7-0"})([""]);vr.displayName="GenderSidebar";var wr=Object(b.a)(fr).withConfig({displayName:"why-sidebar-selector__DisabilitySidebar",componentId:"sc-106isy7-1"})([""]);wr.displayName="DisabilitySidebar";var kr=Object(b.a)(fr).withConfig({displayName:"why-sidebar-selector__LgbtiSidebar",componentId:"sc-106isy7-2"})([""]);kr.displayName="LgbtiSidebar";var Or=Object(b.a)(fr).withConfig({displayName:"why-sidebar-selector__EthnicitySidebar",componentId:"sc-106isy7-3"})([""]);Or.displayName="EthnicitySidebar";var _r=function(e){function t(){var e,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];return gr(br(br(n=function(e,t){return!t||"object"!==dr(t)&&"function"!=typeof t?br(e):t}(this,(e=hr(t)).call.apply(e,[this].concat(r))))),"renderDisabilityMessage",function(){return{__html:Object(v.c)("We partnered with {{noWrapOpen}}Global Citizen{{noWrapClose}} on our first disability campaign want to build a world that is more inclusive and accessible for people with disabilities. We want to champion that we are all are {{noWrapOpen}}differently-abled.{{noWrapClose}}",{noWrapOpen:'<span class="text-nowrap">',noWrapClose:"</span>",interpolation:{escape:!1}})}}),gr(br(br(n)),"renderEthnicityMessage",function(){return{__html:Object(v.c)("We are one human race. But in many places around the world, people are judged and discriminated against because of their race or ethnicity due to prejudice that is ingrained in cultures and {{noWrapOpen}}societal norms.{{noWrapClose}}",{noWrapOpen:'<span class="text-nowrap">',noWrapClose:"</span>",interpolation:{escape:!1}})}}),gr(br(br(n)),"renderLGBTIMessage",function(){return{__html:Object(v.c)("We want to create an equal world where everyone is free to express themselves, and create a diverse and inclusive organization, where everyone can bring their whole self {{noWrapOpen}}to work.{{noWrapClose}}",{noWrapOpen:'<span class="text-nowrap">',noWrapClose:"</span>",interpolation:{escape:!1}})}}),gr(br(br(n)),"renderGenderMessage",function(){return{__html:Object(v.c)("We're looking to promote the empowerment of girls & women for building healthier, better-educated, and more {{noWrapOpen}}prosperous communities.{{noWrapClose}}",{noWrapOpen:'<span class="text-nowrap">',noWrapClose:"</span>",interpolation:{escape:!1}})}}),gr(br(br(n)),"goToHow",function(){n.props.history.push("how")}),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&yr(e,t)}(t,u.a.Component),function(e,t,n){t&&mr(e.prototype,t),n&&mr(e,n)}(t,[{key:"render",value:function(){var e=this,t=u.a.createElement(vr,{count:2,title:Object(v.c)("Gender"),message:this.renderGenderMessage(),handleClick:function(){return e.props.renderDisplay("disability")}});return"gender"===this.props.display?t:"disability"===this.props.display?u.a.createElement(wr,{count:3,title:Object(v.c)("Disability"),message:this.renderDisabilityMessage(),handleClick:function(){return e.props.renderDisplay("lgbti")}}):"lgbti"===this.props.display?u.a.createElement(kr,{count:4,title:Object(v.c)("LGBTI"),message:this.renderLGBTIMessage(),handleClick:function(){return e.props.renderDisplay("ethnicity")}}):"ethnicity"===this.props.display?u.a.createElement(Or,{count:5,title:Object(v.c)("Ethnicity"),message:this.renderEthnicityMessage(),handleClick:this.goToHow}):this.props.windowWidth<=parseInt(L.min.large,10)?null:t}}]),t}();function Cr(e){return(Cr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Sr(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Er(e){return(Er=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Pr(e,t){return(Pr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function jr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Nr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}_r.propTypes={windowWidth:y.a.number,history:y.a.object,renderDisplay:y.a.func,display:y.a.string};var Tr=Object(b.a)(Do).withConfig({displayName:"why__DesktopContent",componentId:"sc-1n0pj7o-0"})([""]);Tr.displayName="DesktopContent";var xr=b.a.a.withConfig({displayName:"why__MobileNextLink",componentId:"sc-1n0pj7o-1"})([""]);xr.displayName="MobileNextLink";var Ir=Object(b.a)(Hn).withConfig({displayName:"why__StartProgressBar",componentId:"sc-1n0pj7o-2"})([""]);Ir.displayName="StartProgressBar";var Ar=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Nr(jr(jr(n=function(e,t){return!t||"object"!==Cr(t)&&"function"!=typeof t?jr(e):t}(this,Er(t).call(this,e)))),"updateWindowDimensions",function(){n.setState({windowWidth:window.innerWidth})}),Nr(jr(jr(n)),"renderMessage",function(){return{__html:Object(v.c)("{{noWrapOpen}}Global Citizen's{{noWrapClose}} goal of ending extreme poverty is possible by calling on leaders to focus support behind {{noWrapOpen}}marginalized groups.{{noWrapClose}}",{noWrapOpen:'<span class="text-nowrap">',noWrapClose:"</span>",interpolation:{escape:!1}})}}),Nr(jr(jr(n)),"renderSidebarDesktop",function(){return n.state.windowWidth>=parseInt(L.min.large,10)?u.a.createElement(_r,{display:n.state.display,renderDisplay:n.renderDisplay,history:n.props.history,windowWidth:n.state.windowWidth}):null}),Nr(jr(jr(n)),"renderSidebarMobile",function(){return n.state.windowWidth<=parseInt(L.min.large,10)?u.a.createElement(_r,{display:n.state.display,renderDisplay:n.renderDisplay,history:n.props.history,windowWidth:n.state.windowWidth}):null}),Nr(jr(jr(n)),"renderStartProgressBar",function(){return"start"===n.state.display?u.a.createElement(Ir,{count:2,className:"d-block d-lg-none"}):null}),Nr(jr(jr(n)),"renderContentDesktop",function(){return"start"===n.state.display||n.state.windowWidth>=parseInt(L.min.large,10)?u.a.createElement(Tr,null,u.a.createElement(yo,null,u.a.createElement(Jo,{headline:Object(v.c)("We stand for you")}),u.a.createElement(Vo,{message:n.renderMessage()}),u.a.createElement("div",{className:"bst-row pb-lg-5"},u.a.createElement("div",{className:"col-6"},u.a.createElement(ve.a,{handleClick:function(){return n.renderDisplay("gender")},className:"btn btn--border btn--border--gender ".concat("gender"===n.state.display||"start"===n.state.display?"active":null),buttonText:Object(v.c)("Gender"),smallButton:!0})),u.a.createElement("div",{className:"col-6"},u.a.createElement(ve.a,{handleClick:function(){return n.renderDisplay("disability")},className:"btn btn--border btn--border--disability ".concat("disability"===n.state.display?"active":null),buttonText:Object(v.c)("Disability"),smallButton:!0})),u.a.createElement("div",{className:"col-6"},u.a.createElement(ve.a,{handleClick:function(){return n.renderDisplay("lgbti")},className:"btn btn--border btn--border--lgbti ".concat("lgbti"===n.state.display?"active":null),buttonText:Object(v.c)("LGBTI"),smallButton:!0})),u.a.createElement("div",{className:"col-6"},u.a.createElement(ve.a,{handleClick:function(){return n.renderDisplay("ethnicity")},className:"btn btn--border btn--border--ethnicity ".concat("ethnicity"===n.state.display?"active":null),buttonText:Object(v.c)("Ethnicity"),smallButton:!0})))),u.a.createElement(En.b,{to:"/how",className:"d-none d-lg-block btn"},Object(v.c)("Next")," ",u.a.createElement("i",{className:"fas fa-chevron-right pl-3"})),u.a.createElement(xr,{className:"d-block d-lg-none btn",onClick:function(){return n.renderDisplay("gender")}},Object(v.c)("Next")," ",u.a.createElement("i",{className:"fas fa-chevron-right pl-3"}))):null}),Nr(jr(jr(n)),"renderDisplay",function(e){return n.setState({display:e})}),n.state={display:"start",windowWidth:0},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Pr(e,t)}(t,u.a.Component),function(e,t,n){t&&Sr(e.prototype,t),n&&Sr(e,n)}(t,[{key:"componentDidMount",value:function(){this.updateWindowDimensions(),window.addEventListener("resize",this.updateWindowDimensions)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.updateWindowDimensions)}},{key:"render",value:function(){return u.a.createElement(Bn,null,u.a.createElement(xo,{ssoLink:this.props.ssoLink,titles:this.props.titles,location:this.props.location},this.renderStartProgressBar(),this.renderContentDesktop(),this.renderSidebarMobile()),this.renderSidebarDesktop())}}]),t}();function Lr(e){return(Lr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Rr(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Mr(e){return(Mr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Br(e,t){return(Br=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Dr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function zr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Ar.propTypes={titles:y.a.arrayOf(y.a.object),ssoLink:y.a.string,history:y.a.object};var Wr=Object(b.a)(fr).withConfig({displayName:"how-sidebar-selector__LearnSidebar",componentId:"sc-1d3r1zk-0"})([""]);Wr.displayName="LearnSidebar";var Fr=Object(b.a)(fr).withConfig({displayName:"how-sidebar-selector__ActionsSidebar",componentId:"sc-1d3r1zk-1"})([""]);Fr.displayName="ActionsSidebar";var Ur=Object(b.a)(fr).withConfig({displayName:"how-sidebar-selector__RewardsSidebar",componentId:"sc-1d3r1zk-2"})([""]);Ur.displayName="RewardsSidebar";var qr=function(e){function t(){var e,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];return zr(Dr(Dr(n=function(e,t){return!t||"object"!==Lr(t)&&"function"!=typeof t?Dr(e):t}(this,(e=Mr(t)).call.apply(e,[this].concat(r))))),"renderLearnMessage",function(){return{__html:Object(v.c)("Read the latest stories to learn more about {{noWrapOpen}}the issues.{{noWrapClose}}",{noWrapOpen:'<span class="text-nowrap">',noWrapClose:"</span>",interpolation:{escape:!1}})}}),zr(Dr(Dr(n)),"renderActionsMessage",function(){return{__html:Object(v.c)("Sign petitions, send emails, tweet, and call your {{noWrapOpen}}world leaders.{{noWrapClose}}",{noWrapOpen:'<span class="text-nowrap">',noWrapClose:"</span>",interpolation:{escape:!1}})}}),zr(Dr(Dr(n)),"renderRewardsMessage",function(){return{__html:Object(v.c)("Use your points from action-taking to enter to win {{noWrapOpen}}exclusive rewards.{{noWrapClose}}",{noWrapOpen:'<span class="text-nowrap">',noWrapClose:"</span>",interpolation:{escape:!1}})}}),zr(Dr(Dr(n)),"goToSignUp",function(){n.props.history.push("sign-up")}),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Br(e,t)}(t,u.a.Component),function(e,t,n){t&&Rr(e.prototype,t),n&&Rr(e,n)}(t,[{key:"render",value:function(){var e=this,t=u.a.createElement(Wr,{count:7,title:Object(v.c)("Learn"),message:this.renderLearnMessage(),image:"/static/img/coty/welcome/how-sidebar-learn.png",width:"200",handleClick:function(){return e.props.renderDisplay("actions")},messageClass:null});return"learn"===this.props.display?t:"actions"===this.props.display?u.a.createElement(Fr,{count:8,title:Object(v.c)("Take Action"),message:this.renderActionsMessage(),image:"/static/img/coty/welcome/how-sidebar-actions.png",width:"200",handleClick:function(){return e.props.renderDisplay("rewards")},messageClass:null}):"rewards"===this.props.display?u.a.createElement(Ur,{count:9,title:Object(v.c)("Earn Rewards"),message:this.renderRewardsMessage(),image:"/static/img/coty/welcome/how-sidebar-rewards.png",width:"200",handleClick:this.goToSignUp,messageClass:null}):this.props.windowWidth<=parseInt(L.min.large,10)?null:t}}]),t}();function Gr(e){return(Gr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Hr(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Vr(e){return(Vr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Yr(e,t){return(Yr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Qr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Kr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}qr.propTypes={windowWidth:y.a.number,history:y.a.object,renderDisplay:y.a.func,display:y.a.string};var Jr=Object(b.a)(Do).withConfig({displayName:"how__DesktopContent",componentId:"sc-1m9bzcx-0"})([""]);Jr.displayName="DesktopContent";var Zr=b.a.a.withConfig({displayName:"how__MobileNextLink",componentId:"sc-1m9bzcx-1"})([""]);Zr.displayName="MobileNextLink";var $r=Object(b.a)(Hn).withConfig({displayName:"how__StartProgressBar",componentId:"sc-1m9bzcx-2"})([""]);$r.displayName="StartProgressBar";var Xr=b.a.ol.withConfig({displayName:"how__OrderedList",componentId:"sc-1m9bzcx-3"})(["list-style-type:none;counter-reset:item;"]);Xr.displayName="OrderedList";var ea=b.a.li.withConfig({displayName:"how__OrderedListItem",componentId:"sc-1m9bzcx-4"})(["text-transform:uppercase;font-weight:bold;&:before{content:counter(item) '.';counter-increment:item;color:",";padding-right:0.5rem;}@media (min-width:","){font-weight:normal;text-transform:none;&:before{content:none;}}"],g.a.primaryRed,L.min.large);ea.displayName="OrderedListItem";var ta=b.a.a.withConfig({displayName:"how__ListItemLink",componentId:"sc-1m9bzcx-5"})(["cursor:pointer;color:",";@media (min-width:","){img,p{opacity:0.3;}&:hover,&.active{img,p{opacity:1;}}}"],g.a.white,L.min.large);ta.displayName="ListItemLink";var na=Object(b.a)(ta).withConfig({displayName:"how__LearnLink",componentId:"sc-1m9bzcx-6"})([""]);na.displayName="LearnLink";var oa=Object(b.a)(ta).withConfig({displayName:"how__ActionsLink",componentId:"sc-1m9bzcx-7"})([""]);oa.displayName="ActionsLink";var ra=Object(b.a)(ta).withConfig({displayName:"how__RewardsLink",componentId:"sc-1m9bzcx-8"})([""]);ra.displayName="RewardsLink";var aa=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Kr(Qr(Qr(n=function(e,t){return!t||"object"!==Gr(t)&&"function"!=typeof t?Qr(e):t}(this,Vr(t).call(this,e)))),"updateWindowDimensions",function(){n.setState({windowWidth:window.innerWidth})}),Kr(Qr(Qr(n)),"renderMessage",function(){return{__html:Object(v.c)("{{noWrapOpen}}Global Citizen{{noWrapClose}} is a platform that helps you have your voice heard on {{noWrapOpen}}what matters{{noWrapClose}}",{noWrapOpen:'<span class="text-nowrap">',noWrapClose:"</span>",interpolation:{escape:!1}})}}),Kr(Qr(Qr(n)),"renderSidebarDesktop",function(){return n.state.windowWidth>=parseInt(L.min.large,10)?u.a.createElement(qr,{display:n.state.display,renderDisplay:n.renderDisplay,history:n.props.history,windowWidth:n.state.windowWidth}):null}),Kr(Qr(Qr(n)),"renderSidebarMobile",function(){return n.state.windowWidth<=parseInt(L.min.large,10)?u.a.createElement(qr,{display:n.state.display,renderDisplay:n.renderDisplay,history:n.props.history,windowWidth:n.state.windowWidth}):null}),Kr(Qr(Qr(n)),"renderStartProgressBar",function(){return"start"===n.state.display?u.a.createElement($r,{count:n.props.count,className:"d-block d-lg-none"}):null}),Kr(Qr(Qr(n)),"renderContentDesktop",function(){return"start"===n.state.display||n.state.windowWidth>=parseInt(L.min.large,10)?u.a.createElement(Jr,null,u.a.createElement(yo,null,u.a.createElement(Jo,{headline:Object(v.c)("We stand for you")}),u.a.createElement(Vo,{message:n.renderMessage()}),u.a.createElement(Xr,{className:"".concat(n.props.className||""," bst-row pb-4")},u.a.createElement(ea,{className:"".concat(n.props.className||""," col-12 col-lg-4 d-flex d-lg-block justify-content-center")},u.a.createElement(na,{onClick:function(){return n.renderDisplay("learn")},className:"".concat(n.props.className||"","  ").concat("learn"===n.state.display||"start"===n.state.display?"active":null),title:Object(v.c)("Learn")},u.a.createElement(K.a,{src:"/static/img/coty/welcome/how-learn-icon.svg",height:"127px",alt:Object(v.c)("Learn"),className:"d-none d-lg-block mx-auto pb-4"}),u.a.createElement("p",null,Object(v.c)("Learn")))),u.a.createElement(ea,{className:"".concat(n.props.className||""," col-12 col-lg-4 d-flex d-lg-block justify-content-center")},u.a.createElement(oa,{onClick:function(){return n.renderDisplay("actions")},className:"".concat(n.props.className||"","  ").concat("actions"===n.state.display?"active":null),title:Object(v.c)("Take Action")},u.a.createElement(K.a,{src:"/static/img/coty/welcome/how-take-action-icon.svg",height:"127px",alt:Object(v.c)("Take Action"),className:"d-none d-lg-block mx-auto pb-4"}),u.a.createElement("p",null,Object(v.c)("Take Action")))),u.a.createElement(ea,{className:"".concat(n.props.className||""," col-12 col-lg-4 d-flex d-lg-block justify-content-center")},u.a.createElement(ra,{onClick:function(){return n.renderDisplay("rewards")},className:"".concat(n.props.className||"","  ").concat("rewards"===n.state.display?"active":null),title:Object(v.c)("Earn Rewards")},u.a.createElement(K.a,{src:"/static/img/coty/welcome/how-earn-rewards-icon.svg",height:"127px",alt:Object(v.c)("Earn Rewards"),className:"d-none d-lg-block mx-auto pb-4"}),u.a.createElement("p",null,Object(v.c)("Earn Rewards")))))),u.a.createElement(En.b,{to:"/sign-up",className:"d-none d-lg-block btn"},Object(v.c)("Next")," ",u.a.createElement("i",{className:"fas fa-chevron-right pl-3"})),u.a.createElement(Zr,{className:"d-block d-lg-none btn",onClick:function(){return n.renderDisplay("learn")}},Object(v.c)("Next")," ",u.a.createElement("i",{className:"fas fa-chevron-right pl-3"}))):null}),Kr(Qr(Qr(n)),"renderDisplay",function(e){return n.setState({display:e})}),n.state={display:"start",windowWidth:0},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Yr(e,t)}(t,u.a.Component),function(e,t,n){t&&Hr(e.prototype,t),n&&Hr(e,n)}(t,[{key:"componentDidMount",value:function(){this.updateWindowDimensions(),window.addEventListener("resize",this.updateWindowDimensions)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.updateWindowDimensions)}},{key:"render",value:function(){return u.a.createElement(Bn,null,u.a.createElement(xo,{ssoLink:this.props.ssoLink,titles:this.props.titles,location:this.props.location},this.renderStartProgressBar(),this.renderContentDesktop(),this.renderSidebarMobile()),this.renderSidebarDesktop())}}]),t}();function ia(e){return(ia="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function sa(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function ca(e){return(ca=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function la(e,t){return(la=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ua(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}aa.defaultProps={count:7},aa.propTypes={count:y.a.number,titles:y.a.arrayOf(y.a.object),ssoLink:y.a.string,history:y.a.object};var pa=function(e){function t(){var e,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];return function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(ua(ua(n=function(e,t){return!t||"object"!==ia(t)&&"function"!=typeof t?ua(e):t}(this,(e=ca(t)).call.apply(e,[this].concat(r))))),"renderMessage",function(){return{__html:Object(v.c)("It Starts with {{highlightOpen}}You{{spanClose}}.",{highlightOpen:'<span class="highlight">',spanClose:"</span>",interpolation:{escape:!1}})}}),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&la(e,t)}(t,u.a.Component),function(e,t,n){t&&sa(e.prototype,t),n&&sa(e,n)}(t,[{key:"render",value:function(){return u.a.createElement(Bn,null,u.a.createElement(xo,{ssoLink:this.props.ssoLink,titles:this.props.titles,location:this.props.location},u.a.createElement(Hn,{count:this.props.count}),u.a.createElement(Do,null,u.a.createElement(yo,null,u.a.createElement(Jo,{headline:Object(v.c)("We stand for you")}),u.a.createElement(Vo,{message:this.renderMessage(),largeText:!0})),u.a.createElement(En.b,{to:"/sign-up/form",className:"btn"},Object(v.c)("Sign Up")," ",u.a.createElement("i",{className:"fas fa-chevron-right pl-3"})))),u.a.createElement(Qo,null))}}]),t}();function fa(e){return(fa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function da(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function ma(e){return(ma=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ha(e,t){return(ha=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ya(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}pa.defaultProps={count:11},pa.propTypes={titles:y.a.arrayOf(y.a.object),ssoLink:y.a.string};var ba=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=function(e,t){return!t||"object"!==fa(t)&&"function"!=typeof t?ya(e):t}(this,ma(t).call(this,e))).state={acceptTerms:!1,acceptSocialTerms:!1,emailOptIn:!1},n.toggleAcceptTerms=n.toggleState.bind(ya(ya(n)),"acceptTerms"),n.toggleAcceptSocialTerms=n.toggleState.bind(ya(ya(n)),"acceptSocialTerms"),n.toggleEmailOptIn=n.toggleState.bind(ya(ya(n)),"emailOptIn"),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ha(e,t)}(t,u.a.Component),function(e,t,n){t&&da(e.prototype,t),n&&da(e,n)}(t,[{key:"toggleState",value:function(e,t){var n=!this.state[e],o={};o[e]=n,this.setState(o)}},{key:"termsMessage",value:function(){var e="",t="";this.props.ssoProviderTermsURL&&(e="<a href='".concat(this.props.ssoProviderTermsURL,"' target='_blank'>"),t="</a>");var n={gcTermsLinkOpen:"<a href='https://www.globalcitizen.org/about/terms/' target='_blank'>",gcPrivacyPolicyLinkOpen:"<a href='https://www.globalcitizen.org/about/privacy-policy/' target='_blank'>",ssoTermsLinkOpen:e,ssoTermsLinkClose:t,linkClose:"</a>",lineBreak:"<br/>",strongOpen:"<strong>",strongClose:"</strong>",noWrapOpen:'<span class="text-nowrap">',noWrapClose:"</span>",provider:this.props.ssoProviderName,interpolation:{escape:!1}};return u.a.createElement("small",{ref:"termsMessage",className:"terms-message",dangerouslySetInnerHTML:{__html:Object(v.c)("{{ strongOpen }}Terms and Privacy Policy agreement (required):{{ strongClose }} {{ noWrapOpen }}I have read,{{ noWrapClose }} understood and agree to:{{ lineBreak}}(i) Global Citizen’s {{ gcTermsLinkOpen }}Terms{{ linkClose }} and {{ gcPrivacyPolicyLinkOpen}}Privacy Policy{{ linkClose }}.{{ lineBreak }}(ii) granting permission to Global Citizen to provide my first name, last name, email address and country to {{ provider }} who may use my information and send to me communications related to the partnership and the platform in accordance with its {{ ssoTermsLinkOpen }}Privacy Policy{{ linkClose }}.",n)}})}},{key:"socialTermsMessage",value:function(){var e="",t="";this.props.ssoProviderSocialMediaTermsURL&&(e="<a href='".concat(this.props.ssoProviderSocialMediaTermsURL,"' target='_blank'>"),t="</a>");var n={linkOpen:e,linkClose:t,strongOpen:"<strong>",strongClose:"</strong>",provider:this.props.ssoProviderName,interpolation:{escape:!1}};return u.a.createElement("small",{ref:"socialTermsMessage",className:"terms-message",dangerouslySetInnerHTML:{__html:Object(v.c)("{{ strongOpen }}Social media engagement guideline acknowledgement (required):{{ strongClose }} I have read, understood and agree to {{ provider }}'s social media {{ linkOpen }}policy{{ linkClose }}.",n)}})}},{key:"emailOptInMessage",value:function(){return u.a.createElement("small",{ref:"emailOptInMessage",className:"terms-message",dangerouslySetInnerHTML:{__html:Object(v.c)("{{ strongOpen }}Sign up for emails (optional):{{ strongClose }} Yes, please send me updates and opportunities from Global Citizen to be part of the movement to end extreme poverty.",{strongOpen:"<strong>",strongClose:"</strong>",interpolation:{escape:!1}})}})}},{key:"hasAcceptedTerms",value:function(){return this.state.acceptSocialTerms&&this.state.acceptTerms}},{key:"render",value:function(){return u.a.createElement("div",{className:"signup-social-auth signup-dialog"},u.a.createElement("h1",{ref:"header",className:"signup-prompt headline__section"},this.props.header),u.a.createElement("p",{className:"register-flow-link"},u.a.createElement("span",{className:"sign-in-text"},Object(v.c)("Already have an account?"))," ",u.a.createElement("a",{href:"/login/saml/?idp=".concat(this.props.ssoProviderKey)},Object(v.c)("Log in"))),u.a.createElement("div",{className:"sso-redirect"},u.a.createElement("form",{ref:"ssoRedirect",action:"/login/saml/"},u.a.createElement("input",{type:"hidden",name:"idp",ref:"ssoProviderKey",value:this.props.ssoProviderKey}),u.a.createElement("input",{type:"hidden",name:"next",ref:"nextURL",value:this.props.nextURL}),u.a.createElement("input",{type:"hidden",name:"email_opt_in",ref:"emailOptInField",value:this.state.emailOptIn}),u.a.createElement("input",{type:"hidden",name:"terms",ref:"termsStatus",value:this.hasAcceptedTerms()}),u.a.createElement("button",{ref:"button",className:"btn",disabled:!this.hasAcceptedTerms()},Object(v.c)("Sign up with your {{ provider }} account",{provider:this.props.ssoProviderName})))),u.a.createElement("div",{ref:"terms",className:"sso-terms"},u.a.createElement("p",{className:"sso-terms__text row-flex row-flex--valign-top"},u.a.createElement("span",{className:"sso-terms__checkbox-wrapper"},u.a.createElement("input",{ref:"acceptTerms",type:"checkbox",value:this.state.acceptTerms,onChange:this.toggleAcceptTerms})),this.termsMessage()),u.a.createElement("p",{className:"sso-terms__text row-flex row-flex--valign-top"},u.a.createElement("span",{className:"sso-terms__checkbox-wrapper"},u.a.createElement("input",{ref:"acceptSocialTerms",type:"checkbox",value:this.state.acceptSocialTerms,onChange:this.toggleAcceptSocialTerms})),this.socialTermsMessage()),u.a.createElement("p",{className:"sso-terms__text row-flex row-flex--valign-top"},u.a.createElement("span",{className:"sso-terms__checkbox-wrapper"},u.a.createElement("input",{ref:"emailOptIn",type:"checkbox",value:this.state.emailOptIn,onChange:this.toggleEmailOptIn})),this.emailOptInMessage())))}}]),t}();function ga(e){return(ga="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function va(){return(va=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}function wa(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function ka(e,t){return!t||"object"!==ga(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Oa(e){return(Oa=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _a(e,t){return(_a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}ba.defaultProps={header:Object(v.c)("It all starts with becoming a Global Citizen."),nextURL:window.location.pathname};var Ca=Object(b.a)(yo).withConfig({displayName:"sign-up-form__CenteredContent",componentId:"sc-1wy795s-0"})(["font-size:0.94rem;@media (min-width:","){font-size:",";}.signup-prompt{letter-spacing:2.95px;font-size:",";font-weight:bold;text-transform:uppercase;font-family:",";@media (min-width:","){font-size:",";}}.register-flow-link{display:none;}.sso-terms{text-align:left;margin-top:0.5rem;}p:last-of-type{margin-bottom:0;}"],L.min.large,g.a.baseFontSize,g.a.smallBaseFontSize,g.a.primaryFontFamily,L.min.large,g.a.baseFontSize);Ca.displayName="CenteredContent";var Sa=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),ka(this,Oa(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_a(e,t)}(t,u.a.Component),function(e,t,n){t&&wa(e.prototype,t),n&&wa(e,n)}(t,[{key:"render",value:function(){return u.a.createElement(Bn,null,u.a.createElement(xo,{ssoLink:this.props.ssoLink,titles:this.props.titles,location:this.props.location},u.a.createElement(Hn,{count:this.props.count}),u.a.createElement(Do,null,u.a.createElement(Ca,null,u.a.createElement(ba,va({className:this.props.className},this.props))))),u.a.createElement(Qo,null))}}]),t}();function Ea(){return(Ea=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}Sa.defaultProps={count:11},Sa.propTypes={titles:y.a.arrayOf(y.a.object),ssoLink:y.a.string};var Pa=function(e){return u.a.createElement(Tn.c,{className:"employee-engagment-modal-router__switch"},u.a.createElement(Tn.a,{exact:!0,path:"/",history:e.history,render:function(t){return u.a.createElement(or,Ea({},t,{ssoLink:e.ssoLink,titles:e.titles}))},className:"employee-engagment-modal-router__route"}),u.a.createElement(Tn.a,{path:"/what",history:e.history,render:function(t){return u.a.createElement(or,Ea({},t,{ssoLink:e.ssoLink,titles:e.titles}))},className:"employee-engagment-modal-router__route"}),u.a.createElement(Tn.a,{path:"/why",history:e.history,render:function(t){return u.a.createElement(Ar,Ea({},t,{ssoLink:e.ssoLink,titles:e.titles}))},className:"employee-engagment-modal-router__route"}),u.a.createElement(Tn.a,{path:"/how",history:e.history,render:function(t){return u.a.createElement(aa,Ea({},t,{ssoLink:e.ssoLink,titles:e.titles}))},className:"employee-engagment-modal-router__route"}),u.a.createElement(Tn.a,{exact:!0,path:"/sign-up",history:e.history,render:function(t){return u.a.createElement(pa,Ea({},t,{ssoLink:e.ssoLink,titles:e.titles}))},className:"employee-engagment-modal-router__route"}),u.a.createElement(Tn.a,{path:"/sign-up/form",history:e.history,render:function(t){return u.a.createElement(Sa,Ea({},t,{ssoLink:e.ssoLink,titles:e.titles,ssoProviderName:e.ssoProviderName,ssoProviderKey:e.ssoProviderKey,ssoProviderTermsURL:e.ssoProviderTermsURL,ssoProviderSocialMediaTermsURL:e.ssoProviderSocialMediaTermsURL,partners:e.partners,datashare:e.datashare}))},className:"employee-engagment-modal-router__route"}))};function ja(e){return(ja="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Na(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Ta(e){return(Ta=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function xa(e,t){return(xa=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ia(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Aa(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Pa.propTypes={ssoLink:y.a.string,titles:y.a.arrayOf(y.a.object)};var La=Object(b.a)(Nn.a).withConfig({displayName:"modal__EEWelcomeModal",componentId:"d4qt8w-0"})(["width:100%;height:100%;background:",";color:",";opacity:1;overflow-y:auto;"],g.a.darkGray,g.a.white),Ra=function(e){function t(){var e,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];return Aa(Ia(Ia(n=function(e,t){return!t||"object"!==ja(t)&&"function"!=typeof t?Ia(e):t}(this,(e=Ta(t)).call.apply(e,[this].concat(r))))),"state",{showModal:!0}),Aa(Ia(Ia(n)),"handleLoad",function(){var e=document.body;n.state.showModal?e.className+=" fixed-position-body":e.className-=" fixed-position-body"}),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&xa(e,t)}(t,u.a.Component),function(e,t,n){t&&Na(e.prototype,t),n&&Na(e,n)}(t,[{key:"componentDidMount",value:function(){window.addEventListener("load",this.handleLoad)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("load",this.handleLoad)}},{key:"render",value:function(){return u.a.createElement(La,{isOpen:this.state.showModal,closeTimeoutMS:0,contentLabel:"Modal",className:this.props.className},u.a.createElement(Pa,{history:this.props.history,ssoLink:this.props.ssoLink,titles:this.props.titles,ssoProviderName:this.props.ssoProviderName,ssoProviderKey:this.props.ssoProviderKey,ssoProviderTermsURL:this.props.ssoProviderTermsURL,ssoProviderSocialMediaTermsURL:this.props.ssoProviderSocialMediaTermsURL,partners:this.props.partners,datashare:this.props.datashare}))}}]),t}();function Ma(e){return(Ma="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ba(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Da(e){return(Da=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function za(e,t){return(za=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Wa(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Fa(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Aa(Ra,"propTypes",{user:y.a.shape({authenticated:y.a.bool}),history:y.a.func,ssoLink:y.a.string,className:y.a.string,titles:y.a.arrayOf(y.a.object)}),Ra.propTypes={titles:y.a.arrayOf(y.a.object),ssoLink:y.a.string,className:y.a.string};var Ua=function(e){function t(){var e,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];return Fa(Wa(Wa(n=function(e,t){return!t||"object"!==Ma(t)&&"function"!=typeof t?Wa(e):t}(this,(e=Da(t)).call.apply(e,[this].concat(r))))),"history",function(){return Object(Pn.a)()}),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&za(e,t)}(t,u.a.Component),function(e,t,n){t&&Ba(e.prototype,t),n&&Ba(e,n)}(t,[{key:"render",value:function(){return this.props&&this.props.user&&!this.props.user.authenticated?u.a.createElement(En.a,{basename:"/welcome"},u.a.createElement(Ra,{user:this.props.user,ssoLink:this.props.ssoLink,titles:this.props.titles,history:this.history,ssoProviderName:this.props.ssoProviderName,ssoProviderKey:this.props.ssoProviderKey,ssoProviderTermsURL:this.props.ssoProviderTermsURL,ssoProviderSocialMediaTermsURL:this.props.ssoProviderSocialMediaTermsURL,partners:this.props.partners,datashare:this.props.datashare})):null}}],[{key:"getStores",value:function(){return[jn.a]}},{key:"getPropsFromStores",value:function(){return{user:jn.a.getState().user}}}]),t}();Fa(Ua,"propTypes",{user:y.a.shape({authenticated:y.a.bool}),ssoLink:y.a.string,titles:y.a.arrayOf(y.a.object)});var qa=Sn()(Ua),Ga=n(37),Ha=(n(589),n(300));function Va(e){return(Va="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ya(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Qa(e){return(Qa=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ka(e,t){return(Ka=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ja(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Za(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var $a=function(e){function t(){var e,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];return Za(Ja(Ja(n=function(e,t){return!t||"object"!==Va(t)&&"function"!=typeof t?Ja(e):t}(this,(e=Qa(t)).call.apply(e,[this].concat(r))))),"handleClick",function(e){e.preventDefault(),n.props.selectLanguage(n.props.code)}),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ka(e,t)}(t,u.a.Component),function(e,t,n){t&&Ya(e.prototype,t),n&&Ya(e,n)}(t,[{key:"render",value:function(){return u.a.createElement("li",{className:this.className(),onClick:this.handleClick},u.a.createElement("a",{ref:"link","data-code":this.props.code,className:"select-language",href:"#"},this.props.name_local))}},{key:"className",value:function(){return!0===this.props.active?"current nav-language":"nav-language"}}]),t}();Za($a,"propTypes",{active:y.a.bool.isRequired,code:y.a.string.isRequired,name_local:y.a.string.isRequired,selectLanguage:y.a.func.isRequired});var Xa=n(39),ei=n(175);function ti(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var ni=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return function(e,t,n){t&&ti(e.prototype,t),n&&ti(e,n)}(e,[{key:"get",value:function(){return void 0===this.languages&&(this.languages=ei.a.getLanguages()),this.languages}}]),e}());function oi(e){return(oi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ri(){return(ri=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}function ai(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function ii(e){return(ii=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function si(e,t){return(si=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ci(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function li(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ui=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),li(ci(ci(n=function(e,t){return!t||"object"!==oi(t)&&"function"!=typeof t?ci(e):t}(this,ii(t).call(this,e)))),"state",{user:Ut.a.get(),authenticated:!1,languages:[],dropdownVisible:!1}),li(ci(ci(n)),"handleClickOutside",function(e){n.navRef.current&&n.navRef.current.contains(e.target)||n.toggleDropdown()}),li(ci(ci(n)),"toggleDropdown",function(){n.state.dropdownVisible?(Xa.b.removeEventListener("mousedown",n.handleClickOutside),Xa.b.removeEventListener("touchstart",n.handleClickOutside)):(Xa.b.addEventListener("mousedown",n.handleClickOutside),Xa.b.addEventListener("touchstart",n.handleClickOutside)),n.setState(function(e){return{dropdownVisible:!e.dropdownVisible}})}),li(ci(ci(n)),"authenticate",function(e){n.setState({authenticated:e.authenticated})}),li(ci(ci(n)),"setLanguages",function(e){n.setState({languages:e.languages})}),li(ci(ci(n)),"optionsDropdown",function(){return!!n.state.dropdownVisible&&u.a.createElement("ul",{ref:"languageOptionsList",className:"language-options-list dropdown-visitor"},n.optionsList())}),li(ci(ci(n)),"optionsList",function(){return n.state.languages.map(function(e,t){return u.a.createElement($a,ri({},e,{key:t,selectLanguage:n.selectLanguage}))})}),li(ci(ci(n)),"selectLanguage",function(e){window.utils.postAsForm("/i18n/setlang/",{language:e})}),n.navRef=u.a.createRef(),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&si(e,t)}(t,u.a.Component),function(e,t,n){t&&ai(e.prototype,t),n&&ai(e,n)}(t,[{key:"componentWillMount",value:function(){var e=this;ni.get().then(this.setLanguages),Ut.a.subscribe(function(t){return t.then(e.authenticate)})}},{key:"render",value:function(){return!this.state.authenticated&&u.a.createElement("div",{className:"nav-language-select",onClick:this.toggleDropdown,ref:this.navRef},u.a.createElement("i",{className:"fas fa-globe"}),this.optionsDropdown())}}]),t}();li(ui,"displayName","LanguageSelect");var pi=n(13);function fi(e){return(fi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function di(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function mi(e,t){return!t||"object"!==fi(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function hi(e){return(hi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function yi(e,t){return(yi=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var bi=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=mi(this,hi(t).call(this,e))).state={wasSkillProblemSubmitted:!1},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&yi(e,t)}(t,u.a.Component),function(e,t,n){t&&di(e.prototype,t),n&&di(e,n)}(t,[{key:"submitSkillProblem",value:function(e){e.preventDefault(),this.skillQuestionInput.value&&this.setState({wasSkillProblemSubmitted:!0})}},{key:"isTicketmasterLinkDisabled",value:function(){return this.props.showSkillProblem&&!this.state.wasSkillProblemSubmitted}},{key:"renderSkillProblem",value:function(){var e=this;return!!this.props.showSkillProblem&&u.a.createElement("li",{ref:"skillProblem"},u.a.createElement("p",null,Object(v.c)("Canadian law requires that you correctly answer the skill testing question below.  Kindly answer the question and provide us with your response.")),u.a.createElement("form",{ref:"skillQuestionForm",onSubmit:this.submitSkillProblem.bind(this)},u.a.createElement("label",{className:"form-math-problem"},"25 × 4 ÷ 5 + 57 – 2 ="),u.a.createElement("p",null,Object(v.c)("(twenty-five MULTIPLIED BY four DIVIDED BY five PLUS fifty-seven MINUS two EQUALS)")),u.a.createElement("input",{ref:function(t){e.skillQuestionInput=t},type:"number"}),u.a.createElement("input",{type:"submit",value:Object(v.c)("Submit")})))}},{key:"renderTicketmasterLinkClass",value:function(){return this.isTicketmasterLinkDisabled()?"btn disabled":"btn "}},{key:"render",value:function(){return u.a.createElement("ol",{className:"numbered"},this.renderSkillProblem(),u.a.createElement("li",{ref:"offerCode"},u.a.createElement("p",null,Object(v.c)("Copy the following Offer Code:")),u.a.createElement("div",{className:"reward-redemption-detail__offer-code"},this.props.offerCode)),u.a.createElement("li",null,u.a.createElement("p",null,Object(v.c)("Go to the Ticketmaster website, enter the code, and follow the instruction.")),u.a.createElement("p",null,u.a.createElement("a",{ref:"ticketMasterLink",className:this.renderTicketmasterLinkClass(),target:"_blank",href:this.props.ticketMasterLink},Object(v.c)("Go To Ticketmaster")))))}}]),t}();bi.propTypes={offerCode:y.a.string.isRequired,showSkillProblem:y.a.bool.isRequired,ticketMasterLink:y.a.string.isRequired};var gi=n(80),vi=n(70);function wi(e){return e.navPointsCategory&&e.navPointsCategory.id&&1!=e.navPointsCategory.id?e.navPointsCategory.name:function(e){var t=vi.a.findMatchingPointsCategory(e,"navPointsCategory");return t&&1===t.points?Object(v.c)("point"):Object(v.c)("points")}(e)}function ki(e){return(ki="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Oi(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function _i(e,t){return!t||"object"!==ki(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ci(e){return(Ci=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Si(e,t){return(Si=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ei=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),_i(this,Ci(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Si(e,t)}(t,u.a.Component),function(e,t,n){t&&Oi(e.prototype,t),n&&Oi(e,n)}(t,[{key:"render",value:function(){return this.props.showPointsInHeader?u.a.createElement("span",{ref:"pointsMessageHeader",className:"dropdown-user__points__message dropdown-user__points__message--header mr-3 p-1 border border-primary-red text-center text-uppercase"},u.a.createElement("span",{className:"dropdown-user__points__count"},vi.a.getUserPointsInPointsCategory(this.props,"navPointsCategory"))," ",u.a.createElement("span",{className:"dropdown-user__points__points"},wi(this.props))):null}}]),t}();function Pi(e){return(Pi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ji(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Ni(e,t){return!t||"object"!==Pi(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ti(e){return(Ti=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function xi(e,t){return(xi=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ii=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Ni(this,Ti(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&xi(e,t)}(t,u.a.Component),function(e,t,n){t&&ji(e.prototype,t),n&&ji(e,n)}(t,[{key:"render",value:function(){return u.a.createElement("a",{className:"has-dd active",onClick:this.props.toggleDropdown,ref:"navAvatarLink"},u.a.createElement("div",{className:"user-avatar"},u.a.createElement("img",{src:this.props.avatarUrl})))}}]),t}();function Ai(e){return(Ai="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Li(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Ri(e,t){return!t||"object"!==Ai(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Mi(e){return(Mi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Bi(e,t){return(Bi=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Di=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Ri(this,Mi(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Bi(e,t)}(t,u.a.Component),function(e,t,n){t&&Li(e.prototype,t),n&&Li(e,n)}(t,[{key:"render",value:function(){return u.a.createElement("li",{className:"dropdown-user__profile",onClick:this.props.toggleDropdown,ref:"navProfileListItem"},u.a.createElement("a",{href:this.props.profileUrl,ref:"profileLink"},u.a.createElement("img",{ref:"profileIcon",className:"profile-image nav-image",src:"".concat(this.props.staticAssetPath,"/img/gray_avatar_small.png")}),Object(v.c)("Profile")))}}]),t}();function zi(e){return(zi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Wi(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Fi(e){return(Fi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ui(e,t){return(Ui=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function qi(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(Di,"propTypes",{currentLanguage:y.a.string,profileUrl:y.a.string.isRequired,staticAssetPath:y.a.string.isRequired});var Gi=function(e){function t(){var e,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];return function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(qi(qi(n=function(e,t){return!t||"object"!==zi(t)&&"function"!=typeof t?qi(e):t}(this,(e=Fi(t)).call.apply(e,[this].concat(r))))),"linkProfile",function(){return n.props.linkNavPointsUserProfile?n.props.profileUrl:null}),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ui(e,t)}(t,u.a.Component),function(e,t,n){t&&Wi(e.prototype,t),n&&Wi(e,n)}(t,[{key:"render",value:function(){return u.a.createElement("li",{className:"dropdown-user__points",onClick:this.props.toggleDropdown,ref:"navAvailablePointsListItem"},u.a.createElement("a",{href:this.linkProfile(),ref:"pointsLink"},u.a.createElement("img",{className:"nav-image",src:"".concat(this.props.staticAssetPath,"/img/point_icon.png")}),u.a.createElement("span",{ref:"pointsMessage",className:"dropdown-user__points__message"},u.a.createElement("span",{className:"dropdown-user__points__count"},vi.a.getUserPointsInPointsCategory(this.props,"navPointsCategory"))," ",u.a.createElement("span",{className:"dropdown-user__points__points"},wi(this.props)))))}}]),t}(),Hi=n(55);function Vi(e){return(Vi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Yi(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Qi(e,t){return!t||"object"!==Vi(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ki(e){return(Ki=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ji(e,t){return(Ji=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Zi=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Qi(this,Ki(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ji(e,t)}(t,u.a.Component),function(e,t,n){t&&Yi(e.prototype,t),n&&Yi(e,n)}(t,[{key:"render",value:function(){return u.a.createElement("li",{className:"dropdown-user__settings",onClick:this.props.toggleDropdown,ref:"navSettingsListItem"},u.a.createElement(Hi.a,{resourceUrl:this.props.settingsUrl,buttonContent:Object(v.c)("Settings"),buttonClass:"dropdown-user__settings__link",navElement:this.props.navElement,openInIframe:this.props.openInIframe,backButtonText:this.props.backButtonText,useAuthentication:!1,closeMenu:this.props.closeMenu,closeSecondaryDropdown:this.props.closeSecondaryDropdown}))}}]),t}();function $i(e){return($i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Xi(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function es(e,t){return!t||"object"!==$i(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ts(e){return(ts=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ns(e,t){return(ns=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var os=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),es(this,ts(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ns(e,t)}(t,u.a.Component),function(e,t,n){t&&Xi(e.prototype,t),n&&Xi(e,n)}(t,[{key:"render",value:function(){return u.a.createElement("li",{className:"dropdown-user__refer-friends",onClick:this.props.toggleDropdown,ref:"navReferFriendsListItem"},u.a.createElement("a",{href:"/account/refer-friends/"},Object(v.c)("Refer friends")))}}]),t}();function rs(e){return(rs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function as(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function is(e,t){return!t||"object"!==rs(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ss(e){return(ss=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function cs(e,t){return(cs=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ls=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),is(this,ss(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&cs(e,t)}(t,u.a.Component),function(e,t,n){t&&as(e.prototype,t),n&&as(e,n)}(t,[{key:"showAdminPortalOrLiveSiteLink",value:function(){return window.location.href.includes("partneradmin")?this.showLiveSiteLink():this.showAdminPortalLink()}},{key:"showAdminPortalLink",value:function(){return u.a.createElement("a",{href:"/partneradmin/"},u.a.createElement("span",null,this.props.partnerStaff," ",Object(v.c)("Admin")))}},{key:"showLiveSiteLink",value:function(){return u.a.createElement("a",{href:window.location.origin},u.a.createElement("span",null,Object(v.c)("Live Site")))}},{key:"render",value:function(){return u.a.createElement("li",{className:"dropdown-user__stripe-connect",onClick:this.props.toggleDropdown},this.showAdminPortalOrLiveSiteLink())}}]),t}();function us(e){return(us="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ps(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function fs(e,t){return!t||"object"!==us(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ds(e){return(ds=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ms(e,t){return(ms=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var hs=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),fs(this,ds(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ms(e,t)}(t,u.a.Component),function(e,t,n){t&&ps(e.prototype,t),n&&ps(e,n)}(t,[{key:"render",value:function(){return u.a.createElement("li",{className:"dropdown-user__logout",onClick:this.props.toggleDropdown,ref:"navLogoutListItem"},u.a.createElement("a",{href:"/account/logout/?next=".concat(window.location.href),className:"dropdown-user__logout__link"},Object(v.c)("Sign out")))}}]),t}();function ys(e){return(ys="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function bs(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function gs(e){return(gs=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function vs(e,t){return(vs=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ws(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ks(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Os=function(e){function t(){var e,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];return ks(ws(ws(n=function(e,t){return!t||"object"!==ys(t)&&"function"!=typeof t?ws(e):t}(this,(e=gs(t)).call.apply(e,[this].concat(r))))),"getUserName",function(){return n.props.name?n.props.name:Object(v.c)("Global Citizen")}),ks(ws(ws(n)),"renderGreeting",function(){var e={username:n.getUserName(),spanOpen:"<span class='dropdown-user__greeting'>",spanClose:"</span>",spanEndOpen:"<span class='dropdown-user__greeting__close'>",interpolation:{escape:!1}};return{__html:Object(v.c)("{{spanOpen}}Hi{{spanClose}} {{ username }}{{ spanEndOpen }}!{{ spanClose }}",e)}}),ks(ws(ws(n)),"linkProfile",function(){return n.props.linkNavPointsUserProfile?n.props.profileUrl:null}),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&vs(e,t)}(t,u.a.Component),function(e,t,n){t&&bs(e.prototype,t),n&&bs(e,n)}(t,[{key:"renderPartnerAdmin",value:function(){return this.props.partnerStaff?u.a.createElement(ls,{toggleDropdown:this.props.toggleDropdown,partnerStaff:this.props.partnerStaff}):null}},{key:"render",value:function(){var e="dropdown-user";return!0===this.props.dropdownVisible?e+=" dropdown-user--show":e+=" dropdown-user--hide",u.a.createElement("div",{className:e,ref:"navDropDownWrapper"},u.a.createElement("div",{className:"dropdown-user-inner"},u.a.createElement("a",{href:this.linkProfile(),className:"dropdown-user__name",dangerouslySetInnerHTML:this.renderGreeting()}),u.a.createElement("ul",null,u.a.createElement(Di,{currentLanguage:this.props.currentLanguage,staticAssetPath:this.props.staticAssetPath,profileUrl:this.props.profileUrl,toggleDropdown:this.props.toggleDropdown}),u.a.createElement(Gi,{profileUrl:this.props.profileUrl,staticAssetPath:this.props.staticAssetPath,currentLanguage:this.props.currentLanguage,linkNavPointsUserProfile:this.props.linkNavPointsUserProfile,toggleDropdown:this.props.toggleDropdown,navPointsCategory:this.props.navPointsCategory,userPointsByCategory:this.props.userPointsByCategory}),u.a.createElement(Zi,{settingsUrl:this.props.settingsUrl,currentLanguage:this.props.currentLanguage,openInIframe:this.props.openInIframe,toggleDropdown:this.props.toggleDropdown,closeMenu:this.props.closeMenu,closeSecondaryDropdown:this.props.closeSecondaryDropdown}),u.a.createElement(os,{toggleDropdown:this.props.toggleDropdown}),this.renderPartnerAdmin(),u.a.createElement(hs,{currentLanguage:this.props.currentLanguage,toggleDropdown:this.props.toggleDropdown}))))}}]),t}();function _s(e){return(_s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Cs(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Ss(e){return(Ss=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Es(e,t){return(Es=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ps(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function js(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ns=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),js(Ps(Ps(n=function(e,t){return!t||"object"!==_s(t)&&"function"!=typeof t?Ps(e):t}(this,Ss(t).call(this,e)))),"state",{dropdownVisible:!1}),js(Ps(Ps(n)),"handleClickOutside",function(e){n.navRef.current.contains(e.target)||n.toggleDropdown()}),js(Ps(Ps(n)),"toggleDropdown",function(){n.state.dropdownVisible?(Xa.b.removeEventListener("mousedown",n.handleClickOutside),Xa.b.removeEventListener("touchstart",n.handleClickOutside)):(Xa.b.addEventListener("mousedown",n.handleClickOutside),Xa.b.addEventListener("touchstart",n.handleClickOutside)),n.setState(function(e){return{dropdownVisible:!e.dropdownVisible}})}),n.navRef=u.a.createRef(),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Es(e,t)}(t,u.a.Component),function(e,t,n){t&&Cs(e.prototype,t),n&&Cs(e,n)}(t,[{key:"render",value:function(){return u.a.createElement("div",{className:"nav-user",ref:this.navRef},u.a.createElement(Ii,{avatarUrl:this.props.avatarUrl,toggleDropdown:this.toggleDropdown}),u.a.createElement(Os,{name:this.props.name,settingsUrl:this.props.settingsUrl,profileUrl:this.props.profileUrl,staticAssetPath:this.props.staticAssetPath,currentLanguage:this.props.currentLanguage,openInIframe:this.props.openInIframe,linkNavPointsUserProfile:this.props.linkNavPointsUserProfile,toggleDropdown:this.toggleDropdown,dropdownVisible:this.state.dropdownVisible,navPointsCategory:this.props.navPointsCategory,userPointsByCategory:this.props.userPointsByCategory,closeMenu:this.props.closeMenu,closeSecondaryDropdown:this.props.closeSecondaryDropdown,partnerStaff:this.props.partnerStaff}))}}]),t}();function Ts(e){return(Ts="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function xs(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Is(e){return(Is=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function As(e,t){return(As=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ls(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}Ns.defaultProps={avatarUrl:"/static/img/gray_avatar_small.png"};var Rs=function(e){function t(){var e,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];return function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(Ls(Ls(n=function(e,t){return!t||"object"!==Ts(t)&&"function"!=typeof t?Ls(e):t}(this,(e=Is(t)).call.apply(e,[this].concat(r))))),"classForLanguage",function(e){return e.active?"current":"nav-language"}),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&As(e,t)}(t,u.a.Component),function(e,t,n){t&&xs(e.prototype,t),n&&xs(e,n)}(t,[{key:"render",value:function(){return u.a.createElement("li",{className:this.classForLanguage(this.props.language)},u.a.createElement("a",{href:"#",ref:"name_local","data-code":this.props.language.code,onClick:this.props.setLanguage.bind(null,this.props.language.code)},this.props.language.name_local))}}]),t}();function Ms(e){return(Ms="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Bs(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Ds(e,t){return!t||"object"!==Ms(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function zs(e){return(zs=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ws(e,t){return(Ws=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Fs=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Ds(this,zs(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ws(e,t)}(t,u.a.Component),function(e,t,n){t&&Bs(e.prototype,t),n&&Bs(e,n)}(t,[{key:"render",value:function(){var e=this;return u.a.createElement("ul",{className:"nav-actions-mobile__language__list ".concat(this.props.languageDropDownOpen?"slidedown":"slideup")},this.props.languages.map(function(t,n){return u.a.createElement(Rs,{key:n,language:t,setLanguage:e.props.setLanguage})}))}}]),t}();function Us(e){return(Us="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function qs(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Gs(e){return(Gs=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Hs(e,t){return(Hs=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Vs(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ys(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(Fs,"defaultProps",{languages:[]});var Qs=function(e){function t(){var e,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];return Ys(Vs(Vs(n=function(e,t){return!t||"object"!==Us(t)&&"function"!=typeof t?Vs(e):t}(this,(e=Gs(t)).call.apply(e,[this].concat(r))))),"state",{languageDropDownOpen:!1}),Ys(Vs(Vs(n)),"setLanguage",function(e){i()(n.props.languageCodeInput).val(e),i()(n.props.setLanguageForm).submit()}),Ys(Vs(Vs(n)),"getLanguageTitle",function(){return n.props.navLanguagesMobileTitle?n.props.navLanguagesMobileTitle:n.getDefaultLanguageTitle()}),Ys(Vs(Vs(n)),"getDefaultLanguageTitle",function(){return Object(v.c)("{{ icon }} Language",{icon:"<i class='fas fa-globe'></i>",interpolation:{escape:!1}})}),Ys(Vs(Vs(n)),"languageDropDownToggle",function(){n.setState({languageDropDownOpen:!n.state.languageDropDownOpen})}),Ys(Vs(Vs(n)),"getLanguageToggleArrow",function(){if(n.props.languageArrow)return u.a.createElement("i",{className:"fas fa-angle-right ".concat(n.state.languageDropDownOpen?"icon-rotate-up":"icon-rotate-down")})}),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Hs(e,t)}(t,u.a.Component),function(e,t,n){t&&qs(e.prototype,t),n&&qs(e,n)}(t,[{key:"render",value:function(){return u.a.createElement("li",{className:"language ".concat(this.state.languageDropDownOpen?"active":""),onClick:this.languageDropDownToggle},u.a.createElement("span",{className:"nav-actions-mobile__language__title__wrapper"},u.a.createElement("span",{className:"nav-actions-mobile__language__title",ref:"navLanguagesMobileTitle",dangerouslySetInnerHTML:{__html:this.getLanguageTitle()}}),this.getLanguageToggleArrow()),u.a.createElement(Fs,{languages:this.props.languages,setLanguage:this.setLanguage,languageDropDownOpen:this.state.languageDropDownOpen}))}}]),t}();function Ks(e){return(Ks="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Js(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Zs(e){return(Zs=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function $s(e,t){return($s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Xs(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ec(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var tc=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),ec(Xs(Xs(n=function(e,t){return!t||"object"!==Ks(t)&&"function"!=typeof t?Xs(e):t}(this,Zs(t).call(this,e)))),"state",{dropdownVisible:!1}),ec(Xs(Xs(n)),"handleClickOutside",function(e){n.navRef.current.contains(e.target)||n.toggleDropdown()}),ec(Xs(Xs(n)),"toggleDropdown",function(){n.state.dropdownVisible?(Xa.b.removeEventListener("mousedown",n.handleClickOutside),Xa.b.removeEventListener("touchstart",n.handleClickOutside)):(Xa.b.addEventListener("mousedown",n.handleClickOutside),Xa.b.addEventListener("touchstart",n.handleClickOutside)),n.setState(function(e){return{dropdownVisible:!e.dropdownVisible}})}),ec(Xs(Xs(n)),"getSignUpLinks",function(){return n.props.ssoLink?u.a.createElement("li",null,u.a.createElement("ul",{className:"nav-visitor-mobile__sso"},u.a.createElement("li",{className:"nav-actions-mobile__sign-in-link"},u.a.createElement("a",{href:"#","data-toggle":"dialog","data-target":"#registerDialog",ref:"signUpLinkText"},Object(v.c)("Sign up"))),u.a.createElement("li",{className:"nav-actions-mobile__sign-up-text"},Object(v.c)("or")),u.a.createElement("li",{className:"nav-actions-mobile__sign-up-link"},u.a.createElement("a",{href:"".concat(n.props.ssoLink,"&next=").concat(window.location.pathname)},Object(v.c)("Sign into your account"))))):u.a.createElement("li",null,u.a.createElement("ul",{className:"nav-visitor-mobile__sign-up"},u.a.createElement("li",{className:"nav-actions-mobile__sign-in-link"},u.a.createElement("a",{href:"#","data-toggle":"dialog","data-target":"#loginDialog"},Object(v.c)("Sign in"))),u.a.createElement("li",{className:"nav-actions-mobile__sign-up-link"},u.a.createElement("a",{href:"#","data-toggle":"dialog","data-target":"#registerDialog",ref:"signUpLinkText"},Object(v.c)("Sign up")))))}),n.navRef=u.a.createRef(),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&$s(e,t)}(t,u.a.Component),function(e,t,n){t&&Js(e.prototype,t),n&&Js(e,n)}(t,[{key:"dropdownClass",value:function(){return this.state.dropdownVisible?"dropdown-visitor visible":"dropdown-visitor"}},{key:"render",value:function(){return u.a.createElement("div",{className:"nav-actions-mobile",ref:this.navRef},u.a.createElement("a",{className:"icon-gear has-dd",onClick:this.toggleDropdown}),u.a.createElement("ul",{className:this.dropdownClass()},this.getSignUpLinks(),u.a.createElement(Qs,{languages:this.props.languages,languageCodeInput:this.props.languageCodeInput,setLanguageForm:this.props.setLanguageForm,currentLanguage:this.props.currentLanguage,navLanguagesMobileTitle:this.props.navLanguagesMobileTitle,languageArrow:this.props.languageArrow}),u.a.createElement("li",{className:"nav-actions-mobile__facebook"},u.a.createElement("a",{className:"nav-icon",href:"https://www.facebook.com/GLBLCTZN",target:"_blank"},u.a.createElement("i",{className:"fab fa-facebook-f"}),u.a.createElement("span",null," Facebook"))),u.a.createElement("li",{className:"nav-actions-mobile__twitter"},u.a.createElement("a",{className:"nav-icon",href:"https://twitter.com/glblctzn",target:"_blank"},u.a.createElement("i",{className:"fab fa-twitter"}),u.a.createElement("span",null," Twitter")))))}}]),t}();function nc(e){return(nc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function oc(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function rc(e,t){return!t||"object"!==nc(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ac(e){return(ac=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ic(e,t){return(ic=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var sc=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),rc(this,ac(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ic(e,t)}(t,u.a.Component),function(e,t,n){t&&oc(e.prototype,t),n&&oc(e,n)}(t,[{key:"render",value:function(){return this.props.ssoLink?u.a.createElement("div",{className:"nav-actions nav-actions-sso-link mobile-hidden"},u.a.createElement("a",{className:"nav-button",href:"#","data-toggle":"dialog","data-target":"#registerDialog"},Object(v.c)("Sign up"))," ",u.a.createElement("strong",{className:"px-2"},Object(v.c)("or"))," ",u.a.createElement("a",{className:"nav-button",href:"".concat(this.props.ssoLink,"&next=").concat(window.location.pathname)},Object(v.c)("Sign into your account"))):u.a.createElement("div",{className:"nav-actions mobile-hidden"},u.a.createElement("a",{className:"nav-button",href:"#","data-toggle":"dialog","data-target":"#loginDialog"},Object(v.c)("Sign in")),u.a.createElement("a",{className:"nav-button",href:"#","data-toggle":"dialog","data-target":"#registerDialog"},Object(v.c)("Sign up")))}}]),t}();function cc(e){return(cc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function lc(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function uc(e){return(uc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function pc(e,t){return(pc=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function fc(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var dc=function(e){function t(){var e,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];return function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(fc(fc(n=function(e,t){return!t||"object"!==cc(t)&&"function"!=typeof t?fc(e):t}(this,(e=uc(t)).call.apply(e,[this].concat(r))))),"nodeClass",function(){if(null===n.props.authenticated)return"hidden"}),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&pc(e,t)}(t,u.a.Component),function(e,t,n){t&&lc(e.prototype,t),n&&lc(e,n)}(t,[{key:"render",value:function(){return u.a.createElement("div",{className:this.nodeClass()},u.a.createElement(tc,{languages:this.props.languages,languageCodeInput:this.props.languageCodeInput,setLanguageForm:this.props.setLanguageForm,currentLanguage:this.props.currentLanguage,navLanguagesMobileTitle:this.props.navLanguagesMobileTitle,languageArrow:this.props.languageArrow,ssoLink:this.props.ssoLink}),u.a.createElement(sc,{currentLanguage:this.props.currentLanguage,setLanguageForm:this.props.setLanguageForm,ssoLink:this.props.ssoLink}))}}]),t}();function mc(e){return(mc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function hc(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function yc(e){return(yc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function bc(e,t){return(bc=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function gc(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function vc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var wc=function(e){function t(){var e,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];return vc(gc(gc(n=function(e,t){return!t||"object"!==mc(t)&&"function"!=typeof t?gc(e):t}(this,(e=yc(t)).call.apply(e,[this].concat(r))))),"state",{authenticated:null,languages:[],currentLanguage:"en",user:Ut.a.get()}),vc(gc(gc(n)),"setLanguages",function(e){var t=[];void 0!==e&&(t=e.languages),n.setState({languages:t});var o=bt.a.findWhere(t,{active:!0});void 0!==o&&n.setState({currentLanguage:o.code})}),vc(gc(gc(n)),"authenticate",function(e){if(n.state._mounted){var t={authenticated:e.authenticated};!0===e.authenticated&&(t.user={name:e.first_name,settingsUrl:e.settings_url,profileUrl:e.profile_url,avatarUrl:e.avatar_url}),n.setState(t)}}),vc(gc(gc(n)),"renderNavWrapperClass",function(){var e="dropdown-user__wrapper";return n.props.showPointsInHeader&&(e+=" d-flex align-items-center"),e}),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&bc(e,t)}(t,u.a.Component),function(e,t,n){t&&hc(e.prototype,t),n&&hc(e,n)}(t,[{key:"componentDidMount",value:function(){var e=this;this.setState({_mounted:!0}),ni.get().then(this.setLanguages),Ut.a.subscribe(function(t){return t.then(e.authenticate)})}},{key:"componentWillUnmount",value:function(){this.setState({_mounted:!1})}},{key:"getPartnerAdminName",value:function(){var e=this.props.user?this.props.user.partner_donations_admin:this.state.user.partner_donations_admin,t=this.props.user?this.props.user.partner_content_admin:this.state.user.partner_content_admin;return e||t}},{key:"render",value:function(){return this.state.authenticated||this.props.user&&this.props.user.authenticated?u.a.createElement("div",{className:"bst"},u.a.createElement("div",{className:this.renderNavWrapperClass()},u.a.createElement(Ei,{className:"dropdown-user__header-points",showPointsInHeader:this.props.showPointsInHeader,navPointsCategory:this.props.navPointsCategory,userPointsByCategory:this.props.userPointsByCategory}),u.a.createElement(Ns,{avatarUrl:this.props.user?this.props.user.avatar_url:this.state.user.avatarUrl,name:this.props.user?this.props.user.first_name:this.state.user.name,settingsUrl:this.props.user?this.props.user.settings_url:this.state.user.settingsUrl,profileUrl:this.props.user?this.props.user.profile_url:this.state.user.profileUrl,currentLanguage:this.state.currentLanguage,staticAssetPath:this.props.staticAssetPath,openInIframe:this.props.openInIframe,linkNavPointsUserProfile:this.props.linkNavPointsUserProfile,navPointsCategory:this.props.navPointsCategory,userPointsByCategory:this.props.userPointsByCategory,closeMenu:this.props.closeMenu,closeSecondaryDropdown:this.props.closeSecondaryDropdown,partnerStaff:this.getPartnerAdminName()}))):u.a.createElement(dc,{languages:this.state.languages,languageCodeInput:this.props.languageCodeInput,setLanguageForm:this.props.setLanguageForm,currentLanguage:this.state.currentLanguage,authenticated:this.state.authenticated,navLanguagesMobileTitle:this.props.navLanguagesMobileTitle,languageArrow:this.props.languageArrow,ssoLink:this.props.ssoLink})}}]),t}();function kc(e){return(kc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Oc(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function _c(e,t){return!t||"object"!==kc(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Cc(e){return(Cc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Sc(e,t){return(Sc=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}vc(wc,"displayName","Nav"),Ns.defaultProps={avatarUrl:"/static/img/gray_avatar_small.png"},wc.defaultProps={openInIframe:!1,linkNavPointsUserProfile:!0,navPointsCategory:{name:"Default",id:1},showPointsInHeader:!1,languageArrow:!1,ssoLink:null},wc.propTypes={user:y.a.shape({partner_content_admin:y.a.string,partner_donations_admin:y.a.string})};var Ec=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),_c(this,Cc(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Sc(e,t)}(t,u.a.Component),function(e,t,n){t&&Oc(e.prototype,t),n&&Oc(e,n)}(t,[{key:"render",value:function(){return u.a.createElement(gi.a,null,u.a.createElement(wc,{staticAssetPath:this.props.staticAssetPath,openInIframe:this.props.openInIframe,linkNavPointsUserProfile:this.props.linkNavPointsUserProfile,languageCodeInput:this.props.languageCodeInput,setLanguageForm:this.props.setLanguageForm,navLanguagesMobileTitle:this.props.navLanguagesMobileTitle,navPointsCategory:this.props.navPointsCategory,userPointsByCategory:this.props.userPointsByCategory,showPointsInHeader:this.props.showPointsInHeader,languageArrow:this.props.languageArrow,ssoLink:this.props.ssoLink,closeMenu:this.props.closeMenu,closeSecondaryDropdown:this.props.closeSecondaryDropdown}))}}]),t}();function Pc(e){return(Pc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function jc(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Nc(e){return(Nc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Tc(e,t){return(Tc=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function xc(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var Ic=b.a.div.withConfig({displayName:"nav-bar-display__OuterContainer",componentId:"sc-1mj604x-0"})(["position:fixed;top:0;width:100%;max-width:100%;min-width:0;z-index:100000;background:",";box-shadow:0 2px 4px 0 rgba(99,99,99,0.5);height:",";@media (min-width:","){height:",";margin-bottom:",";}"],function(e){return e.topBg},g.a.navCollapsedHeight,L.min.large,g.a.navHeight,g.a.navHeight);Ic.displayName="OuterContainer";var Ac=b.a.div.withConfig({displayName:"nav-bar-display__InnerContainer",componentId:"sc-1mj604x-1"})(["background:",";width:100%;max-width:100%;min-width:0;position:relative;height:100%;"],function(e){return e.topBg});Ac.displayName="InnerContainer";var Lc=b.a.div.withConfig({displayName:"nav-bar-display__Shell",componentId:"sc-1mj604x-2"})(["height:100%;"]);Lc.displayName="Shell";var Rc=b.a.li.withConfig({displayName:"nav-bar-display__Header",componentId:"sc-1mj604x-3"})(["background:",";height:",";@media (min-width:","){background:transparent;height:auto;}"],function(e){return e.topBg},g.a.navCollapsedHeight,L.min.large);Rc.displayName="Header";var Mc=b.a.ul.withConfig({displayName:"nav-bar-display__TopNav",componentId:"sc-1mj604x-4"})(["&&&{list-style-type:none;padding:0;height:100%;}"]);Mc.displayName="TopNav";var Bc=b.a.ul.withConfig({displayName:"nav-bar-display__NavList",componentId:"sc-1mj604x-5"})(["&&&{list-style-type:none;padding:0;height:100%;}"]);Bc.displayName="NavList";var Dc=b.a.button.withConfig({displayName:"nav-bar-display__Hamburger",componentId:"sc-1mj604x-6"})(["background:transparent;padding:0;min-width:0;&.nav-toggle.active span:before,&.nav-toggle.active span:after,&.nav-toggle span:before,&.nav-toggle span:after,&.nav-toggle:hover span:before,&.nav-toggle:hover span:after{background:",";}&.nav-toggle span{border-color:",";}&.nav-toggle.active span,&.nav-toggle.active:hover span{border-color:transparent;}&:hover{background:transparent;box-shadow:none;}"],function(e){return e.hamburgerColor?e.hamburgerColor:null},function(e){return e.hamburgerColor?e.hamburgerColor:null});Dc.displayName="Hamburger";var zc=b.a.li.withConfig({displayName:"nav-bar-display__NavItem",componentId:"sc-1mj604x-7"})(["font-size:",";span{display:inline-block;position:relative;}span:before,span:after{content:'';position:absolute;height:1px;border-top:1px solid ",";top:0;bottom:0;margin-top:auto;margin-bottom:auto;width:60px;}span:before{right:100%;margin-right:15px;}span:after{left:100%;margin-left:15px;}@media (min-width:","){font-size:",";text-transform:none;height:100%;span{font-weight:normal;}span:before,span:after{display:none;}}"],g.a.baseFontSize,function(e){return e.altMobileLinkColor?g.a.black:g.a.alabaster},L.min.large,function(e){return e.smallFont?g.a.xsmallBaseFont:null});zc.displayName="NavItem";var Wc=b.a.a.withConfig({displayName:"nav-bar-display__NavItemLink",componentId:"sc-1mj604x-8"})(["color:",";position:relative;pointer-events:none;&:hover,&:active,&:focus{text-decoration:underline;color:",";}@media (min-width:","){pointer-events:auto;color:",";height:100%;&:hover,&:active,&:focus{text-decoration:none;color:",";}&:after{content:'';width:0;height:0;border-style:solid;border-width:0 10px 10px 10px;border-color:transparent transparent "," transparent;position:absolute;bottom:0;left:0;right:0;margin-left:auto;margin-right:auto;display:none;}.dropDownOpen&:after{display:inline;}}"],function(e){return e.altMobileLinkColor?g.a.black:g.a.white},function(e){return e.altMobileLinkColor?g.a.black:g.a.white},L.min.large,function(e){return e.altDesktopTopLinkColor?g.a.white:g.a.black},function(e){return e.color},function(e){return e.desktopBottomBg});Wc.displayName="NavItemLink";var Fc=b.a.li.withConfig({displayName:"nav-bar-display__SingleNavItem",componentId:"sc-1mj604x-9"})(["font-size:",";@media (min-width:","){font-size:",";}"],g.a.baseFontSize,L.min.large,function(e){return e.smallFont?g.a.xsmallBaseFont:null});Fc.displayName="SingleNavItem";var Uc=b.a.a.withConfig({displayName:"nav-bar-display__SingleNavItemLink",componentId:"sc-1mj604x-10"})(["color:",";&:hover,&:active,&:focus{text-decoration:underline;color:",";}@media (min-width:","){color:",";&:hover,&:active,&:focus{text-decoration:none;color:",";}}"],function(e){return e.altMobileLinkColor?g.a.black:g.a.white},function(e){return e.altMobileLinkColor?g.a.black:g.a.white},L.min.large,function(e){return e.altDesktopTopLinkColor?g.a.white:g.a.black},function(e){return e.color});Uc.displayName="SingleNavItemLink";var qc=b.a.li.withConfig({displayName:"nav-bar-display__NavListContainer",componentId:"sc-1mj604x-11"})(["position:fixed;left:-200%;right:auto;bottom:0;top:",";",";overflow-x:hidden;overflow-y:auto;&.open{left:0;right:0;width:100%;background:",";}&.close{left:-200%;}@media (min-width:","){position:static;top:auto;bottom:auto;left:auto;right:auto;overflow:visible;height:100%;&.open{width:auto;background:transparent;}}"],g.a.navCollapsedHeight,Object(A.e)("left 0.5s linear"),function(e){return e.mobileBottomBg},L.min.large);qc.displayName="NavListContainer";var Gc=b.a.ul.withConfig({displayName:"nav-bar-display__NavDropDown",componentId:"sc-1mj604x-12"})(["&&&{list-style-type:none;padding:0;}@media (min-width:","){position:absolute;background:",";z-index:-1;width:100%;left:0;right:0;",";top:-",";}&.dropDownOpen{@media (min-width:","){top:",";}}"],L.min.large,function(e){return e.desktopBottomBg},Object(A.e)("all 0.4s ease"),g.a.navHeight,L.min.large,g.a.navHeight);Gc.displayName="NavDropDown";var Hc=b.a.li.withConfig({displayName:"nav-bar-display__NavDropDownItem",componentId:"sc-1mj604x-13"})(["height:100%;text-transform:none;"]);Hc.displayName="NavDropDownItem";var Vc=b.a.a.withConfig({displayName:"nav-bar-display__NavDropDownItemLink",componentId:"sc-1mj604x-14"})(["color:",";&:hover,&:active,&:focus{color:",";text-decoration:underline;}@media (min-width:","){color:",";height:44px;&:hover,&:active,&:focus{color:",";}}"],function(e){return e.altMobileLinkColor?g.a.black:g.a.white},function(e){return e.altMobileLinkColor?g.a.black:g.a.white},L.min.large,function(e){return e.altDesktopBottomLinkColor?g.a.black:g.a.white},function(e){return e.altDesktopBottomLinkColor?g.a.black:g.a.white});Vc.displayName="NavDropDownItemLink";var Yc=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=function(e,t){return!t||"object"!==Pc(t)&&"function"!=typeof t?xc(e):t}(this,Nc(t).call(this,e))).toggleMenu=n.toggleMenu.bind(xc(xc(n))),n.toggleSecondaryDropDown=n.toggleSecondaryDropDown.bind(xc(xc(n))),n.clickOutside=n.clickOutside.bind(xc(xc(n))),n.handleClickOutside=n.handleClickOutside.bind(xc(xc(n))),n.smoothScroll=n.smoothScroll.bind(xc(xc(n))),n.state={dropDownOpen:n.props.dropDownOpen,menuOpen:n.props.menuOpen},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Tc(e,t)}(t,l["Component"]),function(e,t,n){t&&jc(e.prototype,t),n&&jc(e,n)}(t,[{key:"componentDidUpdate",value:function(e){this.props.toggleMenu&&this.props.menuOpen!==e.menuOpen&&this.setState({menuOpen:this.props.menuOpen}),this.props.toggleSecondaryDropDown&&this.props.dropDownOpen!==e.dropDownOpen&&this.setState({dropDownOpen:this.props.dropDownOpen})}},{key:"clickOutside",value:function(e){document.getElementById("nav-bar__outercontainer")&&!document.getElementById("nav-bar__outercontainer").contains(e.target)&&this.toggleSecondaryDropDown(e)}},{key:"handleClickOutside",value:function(e){return e.preventDefault(),this.props.handleClickOutside?this.props.handleClickOutside(e):this.clickOutside(e)}},{key:"closeMenu",value:function(){this.props.closeMenu?this.props.closeMenu():this.setState({menuOpen:!1})}},{key:"closeSecondaryDropdown",value:function(){this.props.closeSecondaryDropdown&&this.props.closeSecondaryDropdown()}},{key:"toggleDropDown",value:function(e,t){this.state.dropDownOpen===t?(this.setState({dropDownOpen:null}),window.removeEventListener("mousedown",this.handleClickOutside)):(this.setState({dropDownOpen:t}),window.addEventListener("mousedown",this.handleClickOutside))}},{key:"toggleSecondaryDropDown",value:function(e,t){return e.preventDefault(),this.props.toggleSecondaryDropDown?this.props.toggleSecondaryDropDown(e,t):this.toggleDropDown(e,t)}},{key:"toggleMenu",value:function(e){e.preventDefault(),this.props.toggleMenu?this.props.toggleMenu():this.setState({menuOpen:!this.state.menuOpen})}},{key:"smoothScroll",value:function(e){i()("html,body").animate({scrollTop:e.offset().top},"slow")}},{key:"smoothScrollToAnchorCloseIframe",value:function(e,t){if(i()(".fullpage-iframe").length>0){i()("#iframeContainer").remove();var n=Me.a.getParameterByName("subPage");Me.a.historyReplaceState(Me.a.removeUrlParameter(window.location.toString(),"subPage")),"/account/settings/"===n&&Me.a.reloadPage(),i()("body").removeClass("no-overflow")}this.closeMenu(),e.preventDefault();var o=t.url,r=o.substring(o.indexOf("#")+1),a=i()("#".concat(r));a.offset()&&this.smoothScroll(a)}},{key:"checkAnchor",value:function(e,t){var n=window.location.pathname,o=t.url.split("#")[0];return-1!==t.url.indexOf("#")&&n.endsWith(o)?this.smoothScrollToAnchorCloseIframe(e,t):null}},{key:"createNavDropDownListItems",value:function(e){var t=this;return e.map(function(e){return u.a.createElement(Hc,{className:t.props.className,key:e.id},u.a.createElement(Vc,{onClick:function(n){return t.checkAnchor(n,e)},href:e.url,title:e.title,key:e.id,altDesktopBottomLinkColor:t.props.altDesktopBottomLinkColor,altMobileLinkColor:t.props.altMobileLinkColor,className:"\n            d-block d-lg-flex align-items-center px-lg-4 py-3 py-lg-2 text-center \n            ".concat(t.props.className,"\n          ")},e.title))})}},{key:"createNavListItems",value:function(e){var t=this;return e.map(function(e,n){return u.a.createElement(zc,{className:t.props.className,key:e.id,desktopBottomBg:t.props.desktopBottomBg,altMobileLinkColor:t.props.altMobileLinkColor,smallFont:t.props.smallFont},u.a.createElement(Wc,{href:"#",title:e.title,key:e.id,color:t.props.color,desktopBottomBg:t.props.desktopBottomBg,altDesktopTopLinkColor:t.props.altDesktopTopLinkColor,altMobileLinkColor:t.props.altMobileLinkColor,className:"\n            ".concat(t.state.dropDownOpen===n?"dropDownOpen":"","\n            ").concat(t.props.className," \n            d-block d-lg-flex px-lg-3 pb-3 pt-5 py-lg-4 align-items-center text-center justify-content-center\n          "),onClick:function(e){return t.toggleSecondaryDropDown(e,n)}},u.a.createElement("span",null,e.title)),u.a.createElement(Gc,{desktopBottomBg:t.props.desktopBottomBg,className:"\n            ".concat(t.state.dropDownOpen===n?"dropDownOpen":"","\n            ").concat(t.props.className,"\n          ")},u.a.createElement("li",{className:"bst-container"},u.a.createElement("ul",{className:"d-block d-lg-flex flex-column flex-lg-row flex-wrap text-center text-lg-left justify-content-center align-items-center"},t.renderNavDropDownListItems(e)))))})}},{key:"createSingleNavListItems",value:function(e){var t=this;return e.map(function(e,n){return u.a.createElement(Fc,{smallFont:t.props.smallFont,key:e.id},u.a.createElement(Uc,{color:t.props.color,onClick:function(n){return t.checkAnchor(n,e)},href:e.url,title:e.title,altDesktopTopLinkColor:t.props.altDesktopTopLinkColor,altMobileLinkColor:t.props.altMobileLinkColor,key:e.id,className:"\n            ".concat(0===n?"pt-5":"","\n            ").concat(t.props.className," \n            d-block px-lg-3 py-4 py-lg-2 text-center\n          ")},e.title))})}},{key:"renderNavListItems",value:function(){return this.props.linkLists&&this.props.linkLists.length>1?this.createNavListItems(this.props.linkLists):this.props.linkLists&&1===this.props.linkLists.length?this.createSingleNavListItems(this.props.linkLists[0].links):null}},{key:"renderNavDropDownListItems",value:function(e){return e&&e.links&&e.links.length?this.createNavDropDownListItems(e.links):null}},{key:"render",value:function(){return u.a.createElement("nav",{className:"bst"},u.a.createElement(Ic,{id:"nav-bar__outercontainer",topBg:this.props.topBg,className:"attach-iframe-container d-flex align-items-center ".concat(this.props.className)},u.a.createElement(Ac,{topBg:this.props.topBg},u.a.createElement(Lc,{className:"bst-container"},u.a.createElement(Mc,{className:"d-flex flex-column flex-lg-row justify-content-center justify-content-lg-start align-items-lg-center ".concat(this.props.className)},u.a.createElement(Rc,{topBg:this.props.topBg,className:"mr-lg-auto py-2 d-flex d-lg-block flex-row align-items-center"},u.a.createElement(eo,{titles:this.props.titles}),u.a.createElement("div",{className:"d-block d-lg-none ml-auto"},u.a.createElement(Dc,{"aria-label":"Open/Close Menu",altMobileLinkColor:this.props.altMobileLinkColor,className:"nav-toggle text-left \n                        ".concat(this.state.menuOpen?"active":""),onClick:this.toggleMenu,hamburgerColor:this.props.hamburgerColor},u.a.createElement("span",null)))),u.a.createElement(qc,{mobileBottomBg:this.props.mobileBottomBg,className:"".concat(this.state.menuOpen?"open":"close"," \n                    ").concat(this.props.className," \n                    d-flex flex-column flex-lg-row text-center ml-lg-auto justify-content-center align-items-lg-center")},u.a.createElement(Bc,{className:"d-block d-lg-flex flex-lg-row text-center align-items-center"},this.renderNavListItems(),this.props.children)))))))}}]),t}();Yc.defaultProps={menuOpen:!1,dropDownOpen:null,color:g.a.hoverLinkColor,topBg:g.a.white,desktopBottomBg:g.a.darkGray,mobileBottomBg:g.a.darkGray,altDesktopTopLinkColor:!1,altDesktopBottomLinkColor:!1,altMobileLinkColor:!1,hamburgerColor:null,smallFont:!1},Yc.propTypes={color:y.a.string,toggleMenu:y.a.func,toggleSecondaryDropDown:y.a.func,menuOpen:y.a.bool,dropDownOpen:y.a.number,handleClickOutside:y.a.func,closeMenu:y.a.func,closeSecondaryDropdown:y.a.func,titles:y.a.arrayOf(y.a.object),linkLists:y.a.arrayOf(y.a.object).isRequired,topBg:y.a.string,desktopBottomBg:y.a.string,mobileBottomBg:y.a.string,altDesktopTopLinkColor:y.a.bool,altDesktopBottomLinkColor:y.a.bool,altMobileLinkColor:y.a.bool,smallFont:y.a.bool,hamburgerColor:y.a.string,className:y.a.string,children:y.a.node};var Qc=n(176);function Kc(e){return(Kc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Jc(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Zc(e){return(Zc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function $c(e,t){return($c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Xc(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function el(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var tl=Object(b.a)(Yc).withConfig({displayName:"nav-bar__NavBarContainer",componentId:"quiosv-0"})(["font-size:",";@media(min-width:","){font-size:",";}@media(min-width:","){font-size:",";}.nav-language-select{display:none;padding:0 1rem;width:auto;height:auto;@media(min-width:","){display:block;}i{&:hover,&:active,&:focus{color:",";}}.language-options-list{padding:0;list-style-type:none;left:-85px;li{@media(min-width:","){background:",";}&.current a{color:",";}a{@media(min-width:","){color:",";}&:hover,&:active,&:focus{color:",";}}}}}.nav-user{.user-avatar img{width:40px;height:40px;}}.nav-actions-mobile,.nav-user{border-top:1px solid ",";padding-top:2rem;@media(min-width:","){border:none;padding-top:0;}}.dropdown-user{position:static;background:transparent;color:",";border-width:0;box-shadow:none;a{color:",";@media(min-width:","){color:",";&:hover,&:active,&:focus{color:",";}}}@media(min-width:","){position:absolute;background:",";color:",";border-width:3px 0 0;box-shadow:1px 2px 3px rgba(0,0,0,0.5);}&:before{border-color:transparent;@media(min-width:","){border-color:transparent transparent ",";}}&--hide{display:block;@media(min-width:","){display:none;}}}.dropdown-user-inner{margin-left:auto;margin-right:auto;ul{padding-left:0 !important;text-align:center;@media(min-width:","){text-align:left;}}.dropdown-user__greeting,.dropdown-user__greeting__close{display:none;@media(min-width:","){display:inline;}}.dropdown-user__name{font-weight:bold;width:100%;padding:20px 20px 10px 20px;text-align:center;display:block;@media(min-width:","){background:",";color:",";;text-align:left;padding:initial;&:hover,&:active,&:focus{color:",";}}}.dropdown-user__profile{display:none;@media(min-width:","){display:list-item;}}.dropdown-user__profile{.profile-image.nav-image{display:none;@media(min-width:","){display:inline;}}}.dropdown-user__points{text-transform:uppercase;width:100%;padding-top:0;padding-bottom:0;max-width:120px;margin-left:auto;margin-right:auto;font-weight:bold;@media(min-width:","){text-transform:capitalize;padding-top:24px;padding-bottom:0;max-width:100%;margin-left:0;margin-right:0;font-weight:normal;}a{padding-top:13px;padding-bottom:13px;width:100%;color:",";@media(min-width:","){color:",";padding-top:0;padding-bottom:0;&:hover,&:active,&:focus{color:",";}}}.dropdown-user__points__message{display:flex;justify-content:space-between;}.dropdown-user__points__count{order:2;}.dropdown-user__points__points{order:1;}.nav-image{display:none;}}}.dropdown-user__refer-friends,.dropdown-user__settings__link,.dropdown-user__logout__link{text-decoration:underline;@media(min-width:","){text-decoration:none;}}.nav-actions.mobile-hidden{a{font-size:",";color:",";@media(min-width:","){font-size:",";color:",";}@media(min-width:","){font-size:",";}&:hover{color:",";@media(min-width:","){color:",";}}}}.nav-actions-mobile{.icon-gear{display:none;}.dropdown-visitor{display:flex;position:static;background:transparent;transform:none;flex-direction:column;color:",";border:0;list-style-type:none;padding:0;margin-left:auto;margin-right:auto;@media(min-width:","){display:none;}&:before{content:none;}ul{background:transparent;padding:0;list-style-type:none;}.language li + li{border:0;}li{background:transparent;border:0;&:last-of-type{border-bottom:0;}a{text-transform:none;padding:0;color:",";}&.nav-actions-mobile__facebook,&.nav-actions-mobile__twitter{display:none;}&.nav-actions-mobile__sign-in-link{padding-top:0;padding-bottom:1rem;}nav-actions-mobile__sign-up-text,&.nav-actions-mobile__sign-up-link{padding:1rem 0;}&.nav-actions-mobile__sign-up-text{font-family:",";}&.language{display:block;padding-left:5px;padding-right:5px;span{font-size:",";color:",";}i{font-size:$large-base-font;color:",";padding-right:0;&.icon-rotate-up{transform:rotate(-90deg);transition-duration:0.3s;}&.icon-rotate-down{transform:rotate(90deg);transition-duration:0.3s;}}.nav-actions-mobile__language__title__wrapper{cursor:pointer;display:flex;align-items:center;justify-content:space-between;font-weight:normal;margin-bottom:5px;&__text{color:",";font-weight:normal;}}ul{flex-direction:column;background:transparent;padding:0;&.nav-actions-mobile__language__list{margin-bottom:200px;}li{display:block;text-align:center;&.current a,a:hover{padding:1rem 0;font-family:",";}a{text-transform:capitalize;padding:1rem 0;}}}}}"],g.a.baseFontSize,L.min.large,function(e){return e.smallFont?g.a.xsmallBaseFont:null},L.min.xlarge,g.a.baseFontSize,L.min.large,function(e){return e.color},L.min.large,function(e){return e.topBg?e.topBg:null},function(e){return e.color},L.min.large,function(e){return e.altDesktopTopLinkColor?g.a.white:g.a.black},function(e){return e.color},function(e){return e.altMobileLinkColor?g.a.black:g.a.white},L.min.large,function(e){return e.altMobileLinkColor?g.a.black:g.a.white},function(e){return e.altMobileLinkColor?g.a.black:g.a.white},L.min.large,function(e){return e.altDesktopTopLinkColor?g.a.white:g.a.classicGray},function(e){return e.color},L.min.large,function(e){return e.topBg},function(e){return e.altDesktopTopLinkColor?g.a.white:"initial"},L.min.large,g.a.primaryRed,L.min.large,L.min.large,L.min.large,L.min.large,g.a.primary_red,function(e){return e.altDesktopTopLinkColor?g.a.white:g.a.classicGray},function(e){return e.color},L.min.large,L.min.large,L.min.large,function(e){return e.altMobileLinkColor?g.a.black:g.a.white},L.min.large,function(e){return e.altDesktopTopLinkColor?g.a.white:g.a.classicGray},function(e){return e.color},L.min.large,g.a.baseFontSize,function(e){return e.altMobileLinkColor?g.a.black:g.a.white},L.min.large,function(e){return e.smallFont?g.a.xsmallBaseFont:null},function(e){return e.altDesktopTopLinkColor?g.a.white:g.a.black},L.min.xlarge,g.a.baseFontSize,function(e){return e.altMobileLinkColor?g.a.black:g.a.white},L.min.large,function(e){return e.color},function(e){return e.altMobileLinkColor?g.a.black:g.a.white},L.min.large,function(e){return e.altMobileLinkColor?g.a.black:g.a.white},g.a.primaryFontFamilyBold,g.a.baseFontSize,function(e){return e.altMobileLinkColor?g.a.black:g.a.white},function(e){return e.altMobileLinkColor?g.a.black:g.a.white},function(e){return e.altMobileLinkColor?g.a.black:g.a.white},g.a.primaryFontFamilyBold);tl.displayName="NavBarContainer";var nl=b.a.li.withConfig({displayName:"nav-bar__UserNavItem",componentId:"quiosv-1"})(["> div{margin-left:auto;margin-right:auto;}"]);nl.displayName="UserNavItem";var ol=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),el(Xc(Xc(n=function(e,t){return!t||"object"!==Kc(t)&&"function"!=typeof t?Xc(e):t}(this,Zc(t).call(this,e)))),"toggleSecondaryDropDown",function(e,t){e.preventDefault(),n.state.dropDownOpen===t?(n.setState({dropDownOpen:null}),window.removeEventListener("mousedown",n.handleClickOutside),window.removeEventListener("touchstart",n.handleClickOutside)):(n.setState({dropDownOpen:t}),window.addEventListener("mousedown",n.handleClickOutside),window.removeEventListener("touchstart",n.handleClickOutside))}),el(Xc(Xc(n)),"handleClickOutside",function(e){document.getElementById("nav-bar__outercontainer")&&!document.getElementById("nav-bar__outercontainer").contains(e.target)&&n.toggleSecondaryDropDown(e)}),el(Xc(Xc(n)),"toggleMenu",function(){n.setState(function(e){return{menuOpen:!e.menuOpen}})}),el(Xc(Xc(n)),"closeMenu",function(){n.state.menuOpen&&n.setState({menuOpen:!1})}),el(Xc(Xc(n)),"closeSecondaryDropdown",function(){(n.state.dropDownOpen||0===n.state.dropDownOpen)&&n.setState({dropDownOpen:null})}),n.state={dropDownOpen:null,menuOpen:!1},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&$c(e,t)}(t,u.a.Component),function(e,t,n){t&&Jc(e.prototype,t),n&&Jc(e,n)}(t,[{key:"render",value:function(){return u.a.createElement("div",null,u.a.createElement(tl,{color:this.props.color,dropDownOpen:this.state.dropDownOpen,menuOpen:this.state.menuOpen,closeMenu:this.closeMenu,closeSecondaryDropdown:this.closeSecondaryDropdown,toggleSecondaryDropDown:this.toggleSecondaryDropDown,handleClickOutside:this.handleClickOutside,toggleMenu:this.toggleMenu,titles:this.props.titles,linkLists:this.props.linkLists,topBg:this.props.topBg,desktopBottomBg:this.props.desktopBottomBg,mobileBottomBg:this.props.mobileBottomBg,altDesktopTopLinkColor:this.props.altDesktopTopLinkColor,altDesktopBottomLinkColor:this.props.altDesktopBottomLinkColor,altMobileLinkColor:this.props.altMobileLinkColor,smallFont:this.props.smallFont,className:this.props.className,hamburgerColor:this.props.hamburgerColor},u.a.createElement("li",{className:"d-none d-lg-block text-center ".concat(this.props.className)},u.a.createElement(ui,null)),u.a.createElement(nl,{className:"d-inline-block px-lg-3 py-3 py-lg-0 text-center ".concat(this.props.className)},u.a.createElement(Ec,{closeMenu:this.closeMenu,closeSecondaryDropdown:this.closeSecondaryDropdown,staticAssetPath:"/static/",languageCodeInput:"#languageCode",setLanguageForm:"#setLanguage",openInIframe:this.props.openInIframe,navPointsCategory:this.props.navPointsCategory,userPointsByCategory:this.props.userPointsByCategory,showPointsInHeader:this.props.showPointsInHeader,linkNavPointsUserProfile:this.props.linkNavPointsUserProfile,navLanguagesMobileTitle:this.props.navLanguagesMobileTitle,languageArrow:this.props.languageArrow,ssoLink:this.props.ssoLink,topBg:this.props.topBg,altMobileLinkColor:this.props.altMobileLinkColor}))),u.a.createElement(Qc.a,{navElement:this.props.navElement}))}}]),t}();function rl(e){return(rl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function al(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function il(e){return(il=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function sl(e,t){return(sl=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function cl(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}ol.defaultProps={color:g.a.hoverLinkColor,topBg:g.a.white,languageArrow:!0,linkNavPointsUserProfile:!0,ssoLink:null,navLanguagesMobileTitle:"<span class='nav-actions-mobile__language__title__text'>".concat(Object(v.c)("Choose language"),"</span>"),navElement:".attach-iframe-container",smallFont:!1,hamburgerColor:null},ol.propTypes={openInIframe:y.a.bool,color:y.a.string,titles:y.a.arrayOf(y.a.object),linkLists:y.a.arrayOf(y.a.object).isRequired,hamburgerColor:y.a.string,topBg:y.a.string,desktopBottomBg:y.a.string,mobileBottomBg:y.a.string,altDesktopTopLinkColor:y.a.bool,altDesktopBottomLinkColor:y.a.bool,altMobileLinkColor:y.a.bool,className:y.a.string,navPointsCategory:y.a.shape({name:y.a.string,id:y.a.number}),userPointsByCategory:y.a.arrayOf(y.a.object),showPointsInHeader:y.a.bool,linkNavPointsUserProfile:y.a.bool,navLanguagesMobileTitle:y.a.string,languageArrow:y.a.bool,ssoLink:y.a.string,navElement:y.a.string,smallFont:y.a.bool};var ll=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=function(e,t){return!t||"object"!==rl(t)&&"function"!=typeof t?cl(e):t}(this,il(t).call(this,e))).state={linkLists:[]},n.handleLoad=n.handleLoad.bind(cl(cl(n))),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&sl(e,t)}(t,u.a.Component),function(e,t,n){t&&al(e.prototype,t),n&&al(e,n)}(t,[{key:"componentDidMount",value:function(){window.addEventListener("load",this.handleLoad)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("load",this.handleLoad)}},{key:"handleLoad",value:function(){var e=[];!function(e,t,n){for(var o=0;o<e.length;o+=1)t.call(n,o,e[o])}(document.querySelectorAll(".nav-anchor-plugin__anchor"),function(t,n){var o={id:t,title:n.getAttribute("data-nav-title"),url:"#".concat(n.getAttribute("id"))};e.push(o)});var t=[{id:0,links:e}];this.setState({linkLists:t})}},{key:"render",value:function(){return u.a.createElement(ol,{linkLists:this.state.linkLists,smallFont:!0})}}]),t}();var ul=n(177),pl=n(30),fl=n(178);function dl(e){return(dl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ml(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function hl(e){return(hl=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function yl(e,t){return(yl=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function bl(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function gl(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var vl=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),gl(bl(bl(n=function(e,t){return!t||"object"!==dl(t)&&"function"!=typeof t?bl(e):t}(this,hl(t).call(this,e)))),"isButtonDisabled",function(){n.state.fieldValues.email?n.setState({buttonDisabled:!1}):n.setState({buttonDisabled:!0})}),gl(bl(bl(n)),"submit",function(e){if(e.preventDefault(),n._mounted&&n.email.current.checkValidity()){var t=n.getEmail();t&&ul.a.validate(t,n.register,n.validationFail)}else n.setErrors({field:"email",error:[Object(v.c)(n.props.emailValidError)]});return!1}),gl(bl(bl(n)),"register",function(e){return n.props.registerCallback({email:e},n.success,n.fail),!1}),gl(bl(bl(n)),"fail",function(e){if(e&&e.responseJSON&&e.responseJSON.errors){var t=e.responseJSON.errors;n.setState({fieldErrors:t})}}),gl(bl(bl(n)),"validationFail",function(){n.setErrors({field:"email",error:[Object(v.c)(n.props.emailValidError)]})}),gl(bl(bl(n)),"success",function(e){return n.props.doneCallback(n.getEmail()),Ut.a.set(e.user),!1}),gl(bl(bl(n)),"getEmail",function(){return n.email.current.value}),n.state={fieldValues:{email:n.props.user&&n.props.user.email||""},fieldErrors:{},buttonDisabled:!0},n.email=u.a.createRef(),n.submitButton=u.a.createRef(),n.disclaimer=u.a.createRef(),n.fieldChange=Ga.a.fieldChange.bind(bl(bl(n))),n.setErrors=Ga.a.setErrors.bind(bl(bl(n))),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&yl(e,t)}(t,u.a.Component),function(e,t,n){t&&ml(e.prototype,t),n&&ml(e,n)}(t,[{key:"componentDidMount",value:function(){this._mounted=!0}},{key:"componentWillUnmount",value:function(){this._mounted=!1}},{key:"getCustomDisclaimerText",value:function(){return{__html:Object(v.c)("By clicking Sign Up, you agree to our {{termsLinkOpen}}Terms{{linkClose}} and {{privacyLinkOpen}}Privacy Policy{{linkClose}}.",{termsLinkOpen:"<a href='/about/terms'>",privacyLinkOpen:"<a href='/about/privacy-policy'>",linkClose:"</a>",interpolation:{escape:!1}})}}},{key:"render",value:function(){var e=this;return u.a.createElement("div",{className:"subscription-form bst"},u.a.createElement("form",{ref:"form",className:"action-title__newsletter text-left",onSubmit:this.submit},u.a.createElement("div",{className:"bst-container-fluid"},u.a.createElement("div",{className:"bst-row no-gutters"},u.a.createElement("div",{className:"col-8"},u.a.createElement("fieldset",null,u.a.createElement(pl.a,{inputRef:this.email,fieldChange:function(t){return e.fieldChange(t,e.isButtonDisabled)},fieldKey:"email",fieldId:"email-address-field",fieldLabel:Object(v.c)("Email Address"),fieldType:"email",value:this.state.fieldValues.email,errorMessage:this.state.fieldErrors.email,fieldErrors:this.state.fieldErrors,hideErrorMessageForKey:"email",containerClasses:"",required:!0,hideRequiredLabel:!0}))),u.a.createElement("div",{className:"col-4"},u.a.createElement(ve.a,{ref:this.submitButton,className:"btn w-100 form--floating-label--top-space",buttonText:this.props.signupButtonText,type:"submit",disabled:this.state.buttonDisabled,smallButton:!0}))),u.a.createElement("div",{className:"bst-row no-gutters"},u.a.createElement("div",{className:"col-12"},u.a.createElement(fl.a,{errorMessage:this.state.fieldErrors.email}))),u.a.createElement("div",{className:"bst-row no-gutters mt-2"},u.a.createElement("div",{className:"col-12"},u.a.createElement("small",{ref:this.disclaimer,className:"tos-prompt d-block clear-both pt-2",dangerouslySetInnerHTML:this.getCustomDisclaimerText()}))))))}}]),t}();gl(vl,"displayName","SubscriptionForm"),gl(vl,"propTypes",{signupButtonText:y.a.string}),vl.defaultProps={emailRequiredError:"Email is required to sign up for the newsletter.",emailValidError:"A valid email is required to sign up for the newsletter.",signupButtonText:Object(v.c)("Sign up"),user:{email:null}};var wl=n(103);function kl(e){return(kl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ol(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function _l(e,t){return!t||"object"!==kl(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Cl(e){return(Cl=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Sl(e,t){return(Sl=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var El=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),_l(this,Cl(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Sl(e,t)}(t,u.a.Component),function(e,t,n){t&&Ol(e.prototype,t),n&&Ol(e,n)}(t,[{key:"renderThankYouMessage",value:function(){return wl.a.isUserAgentMobile()?u.a.createElement("div",{className:"action-header"},u.a.createElement("img",{src:"/static/img/festival/gc-logo.png"}),u.a.createElement("h2",null,Object(v.c)("Thank you!")),u.a.createElement("h2",{className:"no-margin"},Object(v.c)("You will be the first")),u.a.createElement("h2",{className:"no-margin"},Object(v.c)("To know about")),u.a.createElement("h2",{className:"no-margin"},Object(v.c)("Sept 24"))):u.a.createElement("div",{className:"action-header"},u.a.createElement("img",{src:"/static/img/festival/gc-logo.png"}),u.a.createElement("h2",null,Object(v.c)("Thank you!")),u.a.createElement("h2",{className:"no-margin"},Object(v.c)("You will be the first")),u.a.createElement("h2",{className:"no-margin"},Object(v.c)("To know about Sept 24")))}},{key:"render",value:function(){return this.props.completed?u.a.createElement("div",{className:"festival-announcement-dialog-body"},this.renderThankYouMessage()):u.a.createElement("div",{className:"festival-announcement-dialog-body"},u.a.createElement("div",{className:"action-header"},u.a.createElement("img",{src:"/static/img/festival/gc-logo.png"}),u.a.createElement("h2",null,Object(v.c)("Join the movement")),u.a.createElement("h3",null,Object(v.c)("Sept 24"))),u.a.createElement(vl,{completed:this.props.completed,user:this.props.user,emailRequiredError:"Oops please enter valid email",emailValidError:"Oops please enter valid email",registerCallback:this.props.registerCallback,doneCallback:this.props.doneCallback,errorCallback:this.props.errorCallback}))}}]),t}(),Pl=n(52),jl=n(24),Nl=n(28);function Tl(e){return(Tl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function xl(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Il(e){return(Il=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Al(e,t){return(Al=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ll(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Rl(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ml=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Rl(Ll(Ll(n=function(e,t){return!t||"object"!==Tl(t)&&"function"!=typeof t?Ll(e):t}(this,Il(t).call(this,e)))),"authenticate",function(e){n.setState({authenticated:e.authenticated})}),Rl(Ll(Ll(n)),"setModalPopupTimeout",function(){n.willBeShown()&&window.setTimeout(n.showDialog,n.millisecondsBeforeModalPopup())}),Rl(Ll(Ll(n)),"millisecondsBeforeModalPopup",function(){return 1e3*n.props.secondsBeforeModalPopup}),Rl(Ll(Ll(n)),"closeWidget",function(e){n._mounted&&((new jl.c).trackElementClick("Festival modal","Submit button","Submit"),(new jl.i).trackUserSubscribeEvent("Festival announcement",e,"Festival modal"),!1===n.state.authenticated&&(new jl.h).trackUserAuthEvent("Shadow User Sign Up","email","Festival modal"),n.setState({completed:!0}))}),Rl(Ll(Ll(n)),"closeDialog",function(){n._mounted&&n.refs.dialog.close&&n.refs.dialog.close()}),Rl(Ll(Ll(n)),"showDialog",function(){n._mounted&&n.refs.dialog.showModal&&(n.refs.dialog.showModal(),i.a.cookie("festivalDialogShown","true",{path:"/"}),(new jl.d).trackElementDisplay("Festival modal"))}),n.state={completed:!1,user:Ut.a.get(),authenticated:null},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Al(e,t)}(t,u.a.Component),function(e,t,n){t&&xl(e.prototype,t),n&&xl(e,n)}(t,[{key:"componentDidMount",value:function(){this._mounted=!0,this.state.user.then(this.authenticate),_n.a.polyfillDialogs()}},{key:"componentWillUnmount",value:function(){this._mounted=!1}},{key:"componentDidUpdate",value:function(){this.setModalPopupTimeout()}},{key:"render",value:function(){return u.a.createElement("dialog",{id:"festival-announcement-dialog",ref:"dialog"},u.a.createElement("div",{className:"shell"},u.a.createElement("div",null,u.a.createElement("div",{className:"dialog-header"},u.a.createElement("button",{ref:"closeDialog",className:"close-dialog",onClick:this.closeDialog},"×")),u.a.createElement(El,{completed:this.state.completed,user:this.props.user,registerCallback:this.props.shadowUserClient.register,doneCallback:this.closeWidget,errorCallback:this.closeWidget}))))}},{key:"willBeShown",value:function(){return"de"!==i.a.cookie(Nl.a.language.cookieName)&&"true"!==i.a.cookie("festivalDialogShown")}}]),t}();function Bl(e){return(Bl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Dl(){return(Dl=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}function zl(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Wl(e,t){return!t||"object"!==Bl(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Fl(e){return(Fl=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ul(e,t){return(Ul=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}Rl(Ml,"displayName","FestivalAnnouncementDialog"),Ml.defaultProps={user:{},secondsBeforeModalPopup:3,shadowUserClient:new Pl.a};var ql=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Wl(this,Fl(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ul(e,t)}(t,u.a.Component),function(e,t,n){t&&zl(e.prototype,t),n&&zl(e,n)}(t,[{key:"getThankYouMessage",value:function(){return this.props.thankYouMessage?this.props.thankYouMessage:u.a.createElement("div",null,Object(v.c)("Thanks for signing up!"),u.a.createElement("p",{className:"newsletter-thankyou__paragraph"},Object(v.c)("We'll email you soon with the latest.")))}},{key:"getHeadlineMessage",value:function(){return this.props.headlineMessage?this.props.headlineMessage:u.a.createElement("div",null,Object(v.c)("Stay up to date"),u.a.createElement("p",{className:"newsletter-headline__paragraph"},Object(v.c)("Receive alerts about the world's biggest challenges.")))}},{key:"render",value:function(){return this.props.completed?u.a.createElement("div",{className:"newsletter-signup newsletter-signup--completed"},u.a.createElement("i",{className:"action-icon icon-newsletter icon-newsletter--completed"}),u.a.createElement("div",{className:"newsletter-valign"},u.a.createElement("h5",{ref:"thankYou",className:"newsletter-thankyou"},this.getThankYouMessage()))):u.a.createElement("div",{className:"newsletter-signup"},u.a.createElement("i",{className:"action-icon icon-newsletter"}),u.a.createElement("div",null,u.a.createElement("h5",{className:"newsletter-headline",ref:"headlineMesage"},this.getHeadlineMessage()),u.a.createElement(vl,Dl({ref:"form"},this.props))))}}]),t}();function Gl(e){return(Gl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Hl(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Vl(e,t){return!t||"object"!==Gl(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Yl(e){return(Yl=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ql(e,t){return(Ql=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}window.shadowUser={email:null,first_name:null,last_name:null,country:null,postal_code:null,password1:null,password2:null};var Kl=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=Vl(this,Yl(t).call(this,e))).state={completed:!1},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ql(e,t)}(t,u.a.Component),function(e,t,n){t&&Hl(e.prototype,t),n&&Hl(e,n)}(t,[{key:"componentDidMount",value:function(){this._mounted=!0}},{key:"componentWillUnmount",value:function(){this._mounted=!1}},{key:"render",value:function(){return u.a.createElement("div",{className:"newsletter-widget action-tile action-tile--newsletter",ref:"newsletterWidget"},u.a.createElement("div",{className:"email-sign-up"},u.a.createElement(ql,{ref:"newsletterSignup",completed:this.state.completed,user:this.props.user,registerCallback:this.props.shadowUserClient.registerForNewsletter,doneCallback:this.closeWidget.bind(this)})))}},{key:"closeWidget",value:function(){this._mounted&&((new jl.h).trackUserAuthEvent("Shadow User Sign Up","email","Newsletter widget"),this.setState({completed:!0}))}}]),t}();function Jl(e){return(Jl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Zl(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function $l(e){return($l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Xl(e,t){return(Xl=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function eu(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(Kl,"displayName","NewsletterWidget"),Kl.defaultProps={user:window.shadowUser,shadowUserClient:new Pl.a};var tu=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=function(e,t){return!t||"object"!==Jl(t)&&"function"!=typeof t?eu(e):t}(this,$l(t).call(this,e))).state={completed:!1},n.closeWidget=n.closeWidget.bind(eu(eu(n))),n.handleRegister=n.handleRegister.bind(eu(eu(n))),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Xl(e,t)}(t,u.a.Component),function(e,t,n){t&&Zl(e.prototype,t),n&&Zl(e,n)}(t,[{key:"handleRegister",value:function(e,t,n){this.props.shadowUserClient.register(e,function(e){(new jl.h).trackUserAuthEvent("Shadow User Sign Up","email","Subscription plugin"),t(e)},function(e){var o=e.responseJSON.errors;if(o){var r=o.email;if(r)r.some(function(e){return"This email is already registered. Sign in to take action."===e})?t(e):n(e);else n(e)}})}},{key:"render",value:function(){return u.a.createElement("div",{className:"subscription-plugin action-tile action-tile--newsletter",ref:"subscriptionPlugin"},u.a.createElement("div",{className:"email-sign-up"},u.a.createElement(ql,{ref:"subscriptionPluginSignup",completed:this.state.completed,user:this.props.user,thankYouMessage:this.props.thankYouMessage,headlineMessage:this.props.headlineMessage,registerCallback:this.handleRegister,doneCallback:this.closeWidget,signupButtonText:this.props.signupButtonText})))}},{key:"closeWidget",value:function(e){(new jl.i).trackUserSubscribeEvent(this.props.subscriptionName,e,"Subscription plugin"),this.setState({completed:!0})}}]),t}();tu.defaultProps={shadowUserClient:new Pl.a};var nu=n(16);var ou=function(e){void 0===e.count&&(e.count=1);var t="?offset=0&limit="+e.count;void 0!==e.issue&&(t+="&issue="+e.issue),Object(nu.a)({url:"/v1/me/recommendations/actions/"+t,type:"get",dataType:"json",success:function(t){var n=function(e){for(var t=[],n=e.results,o=e.recommendation_reasons,r=0;r<n.length;r++)o[r]?t.push({action:n[r],recommendationReasons:[o[r]]}):t.push({action:n[r],recommendationReasons:[]});return t}(t);e.success(n)}})};function ru(e){return(ru="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function au(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function iu(e,t){return!t||"object"!==ru(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function su(e){return(su=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function cu(e,t){return(cu=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function lu(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var uu=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),iu(this,su(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&cu(e,t)}(t,u.a.Component),function(e,t,n){t&&au(e.prototype,t),n&&au(e,n)}(t,[{key:"render",value:function(){var e=Object(v.c)("Recommended because you follow {{ reasons }}.",{reasons:"__DIVIDER__"}).split("__DIVIDER__"),t=e[0],n=e[1];return this.props.reasons.length>0?u.a.createElement("p",{className:"recommendation-reasons-container"},u.a.createElement("span",{className:"because-you-follow"},t,this.reasons(),n)):u.a.createElement("noscript",null)}},{key:"reasons",value:function(){return u.a.createElement(J.a,{items:this.props.reasons,renderItem:function(e,t){return u.a.createElement("a",{className:"recommendation-reason-link",href:e.url,key:t},e.name)},listClassName:"recommendation-reasons"})}}]),t}();lu(uu,"propTypes",{reasons:y.a.arrayOf(pi.a.RecommendationReason)}),lu(uu,"defaultProps",{reasons:[]});var pu=n(9),fu=n(18);function du(e){return(du="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function mu(){return(mu=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}function hu(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function yu(e,t){return!t||"object"!==du(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function bu(e){return(bu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function gu(e,t){return(gu=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var vu=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),yu(this,bu(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&gu(e,t)}(t,u.a.Component),function(e,t,n){t&&hu(e.prototype,t),n&&hu(e,n)}(t,[{key:"refreshCompleted",value:function(){pu.a.loadCompletedActions(),pu.a.loadCompletedActionSets(),fu.a.loadCompletedActions(),fu.a.loadCompletedActionSets()}},{key:"render",value:function(){var e=window.utils.truncateByWord(this.props.action.description,100);return u.a.createElement("div",{className:"action-tile","data-action-id":this.props.action.id},u.a.createElement("div",{className:"action-tile__image-col"},u.a.createElement("i",{ref:"icon",title:"",className:"action-icon icon__large icon-".concat(this.props.action.issue.slug)})),u.a.createElement("div",{ref:"description",className:"action-tile__text-col"},u.a.createElement("h4",{ref:"issue",className:"headline__topic--gray"},this.props.action.display_type),u.a.createElement("p",null,e," ",u.a.createElement("a",{href:this.props.action.url},Object(v.c)("Read More"))),u.a.createElement("div",{className:"button-point-wrapper"},u.a.createElement(Hi.a,mu({},this.props,{buttonClass:"btn",buttonContent:this.props.action.button_text,closeCallback:this.refreshCompleted,resourceUrl:this.props.action.url,navElement:this.props.navElement,openInIframe:this.props.openInIframe,backButtonText:this.props.backButtonText,ref:"takeActionButton"})))),this.props.children)}}]),t}();function wu(e){return(wu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ku(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Ou(e,t){return!t||"object"!==wu(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _u(e){return(_u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Cu(e,t){return(Cu=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}vu.propTypes={user:pi.a.User,action:pi.a.Action.isRequired};var Su=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Ou(this,_u(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Cu(e,t)}(t,u.a.Component),function(e,t,n){t&&ku(e.prototype,t),n&&ku(e,n)}(t,[{key:"render",value:function(){var e,t;if(this.props.action?(e=this.props.action,t=this.props.completedActionsByActionId[e.id]):(e=this.props.actionSet,t=this.props.completedActionSetsByActionSetId[e.id]),e)return t?u.a.createElement(vu,{action:e,completedAction:t,key:e.id},u.a.createElement("div",{ref:"completed",className:"completion-container"},u.a.createElement("div",{className:"completed-message"},u.a.createElement("i",{className:"fas fa-check-circle fa-5x"}),u.a.createElement("h4",{className:"completed-text"},Object(v.c)("You've completed this action"))))):u.a.createElement(vu,{action:e,user:this.props.user,key:e.id,openInIframe:this.props.openInIframe,iFrameCloseCallback:this.iFrameCloseCallback,backButtonText:this.props.backButtonText},this.props.children)}}]),t}();function Eu(e){return(Eu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Pu(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function ju(e,t){return!t||"object"!==Eu(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Nu(e){return(Nu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Tu(e,t){return(Tu=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}Su.defaultProps={completedActionsByActionId:{},openInIframe:!1,completedActionSetsByActionSetId:{}},Su.propTypes={user:pi.a.User,completedActionsByActionId:y.a.object,completedActionSetsByActionSetId:y.a.object};var xu=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),ju(this,Nu(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Tu(e,t)}(t,u.a.Component),function(e,t,n){t&&Pu(e.prototype,t),n&&Pu(e,n)}(t,[{key:"render",value:function(){return u.a.createElement(Su,{ref:"actionTile",action:this.props.recommendedAction.action,openInIframe:this.props.openInIframe,iFrameCloseCallback:this.props.iFrameCloseCallback,completedActionsByActionId:this.props.completedActionsByActionId,completedActionSetsByActionSetId:this.props.completedActionSetsByActionSetId,user:this.props.user,backButtonText:this.props.backButtonText},u.a.createElement(uu,{ref:"recommendationReasons",reasons:this.props.recommendedAction.recommendationReasons}))}}]),t}();function Iu(e){return(Iu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Au(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Lu(e,t){return!t||"object"!==Iu(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ru(e){return(Ru=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Mu(e,t){return(Mu=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}xu.propTypes={recommendedAction:pi.a.RecommendedAction.isRequired,completedActionsByActionId:y.a.object,completedActionSetsByActionSetId:y.a.object};var Bu=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=Lu(this,Ru(t).call(this,e))).state={recommendedActions:null},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Mu(e,t)}(t,u.a.Component),function(e,t,n){t&&Au(e.prototype,t),n&&Au(e,n)}(t,[{key:"componentWillMount",value:function(){ou({count:this.props.count,success:this.initializeCallback.bind(this),issue:this.props.issueId})}},{key:"initializeCallback",value:function(e){this.setState({recommendedActions:e})}},{key:"render",value:function(){var e=this;return this.state.recommendedActions?0===this.state.recommendedActions.length?u.a.createElement("div",null,Object(v.c)("You have completed all available actions. Thank you for doing your part to end extreme poverty!")):u.a.createElement("div",{className:"recommended-actions"},u.a.createElement(gi.a,null,bt.a.map(this.state.recommendedActions,function(t,n){return u.a.createElement(xu,{key:"recommendedActionTile-"+n,recommendedAction:t,openInIframe:e.props.openInIframe,backButtonText:e.props.backButtonText})}))):u.a.createElement("noscript",null)}}]),t}();function Du(e){return(Du="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function zu(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Wu(e){return(Wu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Fu(e,t){return(Fu=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Uu(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function qu(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Bu.defaultProps={count:1,openInIframe:!1},Bu.propTypes={issueId:y.a.number,count:y.a.number};var Gu=function(e){function t(){var e,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];return qu(Uu(Uu(n=function(e,t){return!t||"object"!==Du(t)&&"function"!=typeof t?Uu(e):t}(this,(e=Wu(t)).call.apply(e,[this].concat(r))))),"state",{user:Ut.a.get(),authenticated:null}),qu(Uu(Uu(n)),"authenticate",function(e){n.setState({authenticated:e.authenticated})}),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Fu(e,t)}(t,u.a.Component),function(e,t,n){t&&zu(e.prototype,t),n&&zu(e,n)}(t,[{key:"componentWillMount",value:function(){this.state.user.then(this.authenticate)}},{key:"render",value:function(){return!0===this.state.authenticated?u.a.createElement(Bu,null):u.a.createElement(Kl,null)}}]),t}(),Hu=n(301),Vu=n(179),Yu=n(25),Qu=n.n(Yu),Ku=n(15);function Ju(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var Zu=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return function(e,t,n){t&&Ju(e.prototype,t),n&&Ju(e,n)}(e,[{key:"elasticsearchGet",value:function(e,t,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,r=arguments.length>4?arguments[4]:void 0,a=arguments.length>5?arguments[5]:void 0,i={q:n,offset:(o-1)*Nl.a.apiProxy.pageSize,limit:Nl.a.apiProxy.pageSize,types:r.join(),sort:a};Object(nu.a)({url:"/v1/search/",type:"GET",dataType:"json",data:i,success:e,fail:t})}}]),e}(),$u=n(180);function Xu(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var ep=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return function(e,t,n){t&&Xu(e.prototype,t),n&&Xu(e,n)}(e,[{key:"searchAndDispatch",value:function(e,t,n,o){var r=[{name:"sort",value:"date"},{name:"types",value:"action"},{name:"offset",value:(e-1)*t},{name:"limit",value:t}];n.length>0&&r.push({name:"issue",value:n.join(",")}),new $u.a.search(r,{success:function(e){o(e)},error:function(){}})}},{key:"search",value:function(e,t,n){var o=this;return function(r){o.searchAndDispatch(e,t,n,r)}}},{key:"searchAndAppend",value:function(e,t,n){var o=this;return function(r){o.searchAndDispatch(e,t,n,r)}}}]),e}(),tp=Ku.a.createActions(ep);function np(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var op=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return function(e,t,n){t&&np(e.prototype,t),n&&np(e,n)}(e,[{key:"resetResults",value:function(){return!0}}]),e}(),rp=Ku.a.createActions(op);function ap(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var ip=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.bindListeners({updateResults:tp.search,resetResults:rp.resetResults,appendResults:tp.searchAndAppend}),this.state={results:null,resultsPerPage:9,totalResultCount:null,totalPages:null,page:1}}return function(e,t,n){t&&ap(e.prototype,t),n&&ap(e,n)}(e,[{key:"resetResults",value:function(){this.setState({results:null,resultsPerPage:9,totalResultCount:null,totalPages:null,page:1})}},{key:"updateResults",value:function(e){this.setState({results:e.results,resultsPerPage:9,totalResultCount:e.count,totalPages:Math.ceil(e.count/this.state.resultsPerPage)})}},{key:"appendResults",value:function(e){this.state.page+=1;var t=null===this.state.results?[]:this.state.results;e.results=t.concat(e.results),this.updateResults(e)}}]),e}(),sp=Ku.a.createStore(ip,"SearchStore"),cp=n(135),lp=n(93),up=n(305),pp=n.n(up);function fp(e){return(fp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function dp(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function mp(e,t){return!t||"object"!==fp(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function hp(e){return(hp=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function yp(e,t){return(yp=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var bp=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),mp(this,hp(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&yp(e,t)}(t,u.a.Component),function(e,t,n){t&&dp(e.prototype,t),n&&dp(e,n)}(t,[{key:"renderTiles",value:function(){var e=[],t=!0,n=!1,o=void 0;try{for(var r,a=this.props.results[Symbol.iterator]();!(t=(r=a.next()).done);t=!0){var i=r.value;e.push(u.a.createElement(vu,{key:i.id,action:i}))}}catch(e){n=!0,o=e}finally{try{t||null==a.return||a.return()}finally{if(n)throw o}}return e}},{key:"render",value:function(){var e,t=u.a.createElement(jt.a,null);return e=null===this.props.results?t:0===this.props.results.length?u.a.createElement("p",{ref:"noResults",className:"no-results"},Object(v.c)("No actions found, try selecting other issues")):u.a.createElement(pp.a,{initialLoad:!1,hasMore:this.props.hasMoreActions,loader:t,loadMore:this.props.loadMoreActions,useWindow:!0},this.renderTiles()),u.a.createElement("div",{className:"actions-search__results"},e)}}]),t}();bp.propTypes={results:y.a.arrayOf(pi.a.SearchResult),loadMoreActions:y.a.func,hasMoreActions:y.a.bool};var gp=n(194);function vp(e){return(vp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function wp(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function kp(e,t){return!t||"object"!==vp(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Op(e){return(Op=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _p(e,t){return(_p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Cp=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),kp(this,Op(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_p(e,t)}(t,u.a.Component),function(e,t,n){t&&wp(e.prototype,t),n&&wp(e,n)}(t,[{key:"componentDidMount",value:function(){lp.a.getIssues(),tp.search(1,this.props.limit,[])}},{key:"componentWillReceiveProps",value:function(e){bt.a.keys(this.props.selectedIssues).length!==bt.a.keys(e.selectedIssues).length&&(rp.resetResults(),tp.search(1,this.props.limit,bt.a.keys(e.selectedIssues)))}},{key:"loadMoreActions",value:function(){tp.searchAndAppend(this.props.page+1,this.props.limit,bt.a.keys(this.props.selectedIssues))}},{key:"render",value:function(){var e=this.props.page<this.props.totalPages;return u.a.createElement("div",{className:"actions-search"},u.a.createElement(gp.a,{issues:this.props.issues,selectedIssues:this.props.selectedIssues}),u.a.createElement("hr",null),u.a.createElement(bp,{results:this.props.results,loadMoreActions:this.loadMoreActions.bind(this),hasMoreActions:e}))}}],[{key:"getStores",value:function(){return[sp,cp.a]}},{key:"getPropsFromStores",value:function(){var e=sp.getState(),t=cp.a.getState();return{issues:t.issues,selectedIssues:t.selectedIssues,results:e.results,page:e.page,totalPages:e.totalPages,limit:e.resultsPerPage}}}]),t}(),Sp=Sn()(Cp);function Ep(e){return(Ep="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Pp(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function jp(e,t){return!t||"object"!==Ep(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Np(e){return(Np=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Tp(e,t){return(Tp=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var xp=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),jp(this,Np(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Tp(e,t)}(t,u.a.Component),function(e,t,n){t&&Pp(e.prototype,t),n&&Pp(e,n)}(t,[{key:"addNavBarItems",value:function(){var e=[];return this.props.user&&this.props.user.partner_content_admin&&e.push(this.addContent(),this.addActions(),this.addRewards()),this.props.user&&this.props.user.partner_donations_admin&&e.push(this.addDonations()),e}},{key:"addContent",value:function(){return{id:"Content",title:"Content",links:[{id:1,title:"My Content",url:"/partneradmin/"},{id:2,title:"Browse Content",url:"/partneradmin/"},{id:3,title:"Featured Content",url:"/partneradmin/"}]}}},{key:"addActions",value:function(){return{id:"Actions",title:"Actions",links:[{id:1,title:"My Actions",url:"/partneradmin/"},{id:2,title:"Browse Actions",url:"/partneradmin/"},{id:3,title:"Featured Actions",url:"/partneradmin/"},{id:4,title:"Create Actions",url:"/partneradmin/"}]}}},{key:"addRewards",value:function(){return{id:"Rewards",title:"Rewards",links:[{id:1,title:"My Rewards",url:"/partneradmin/"},{id:2,title:"Browse Rewards",url:"/partneradmin/"},{id:3,title:"Featured Rewards",url:"/partneradmin/"},{id:4,title:"Create Rewards",url:"/partneradmin/"}]}}},{key:"addDonations",value:function(){return{id:"Donations",title:"Donations",links:[{id:1,title:"Connect To Stripe",url:"/partneradmin/connect/"},{id:2,title:"Generate Report",url:"/partneradmin/report/"},{id:3,title:"Download Report",url:"/partneradmin/download_report/"}]}}},{key:"render",value:function(){return u.a.createElement(ol,{linkNavPointsUserProfile:!1,openInIframe:!0,titles:[{id:1,image:this.props.image,title:this.props.name},{id:2,image:"/static/img/gc-logo-no-space.png",title:"Global Citizen",url:window.location.origin}],linkLists:this.addNavBarItems()})}}]),t}();function Ip(e){return(Ip="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ap(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Lp(e,t){return!t||"object"!==Ip(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Rp(e){return(Rp=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Mp(e,t){return(Mp=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}xp.propTypes={image:y.a.string,name:y.a.string,user:y.a.shape({partner_content_admin:y.a.string,partner_donations_admin:y.a.string})};var Bp=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Lp(this,Rp(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Mp(e,t)}(t,u.a.Component),function(e,t,n){t&&Ap(e.prototype,t),n&&Ap(e,n)}(t,[{key:"render",value:function(){return u.a.createElement(gi.a,null,u.a.createElement(xp,{image:this.props.image,name:this.props.name}))}}]),t}();Bp.propTypes={image:y.a.string,name:y.a.string};var Dp=n(306);function zp(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var Wp=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return function(e,t,n){t&&zp(e.prototype,t),n&&zp(e,n)}(e,null,[{key:"getRewardsToScore",value:function(e){Object(nu.a)({url:"/v1/admin/rewards/",type:"GET",success:e.success,error:e.error})}},{key:"scoreEntries",value:function(e,t,n){var o="/v1/admin/rewards/".concat(e,"/scores/");Object(nu.a)({url:o,type:"POST",data:JSON.stringify(t),contentType:"application/json; charset=utf-8",success:n.success,error:n.error})}}]),e}();function Fp(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var Up=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.generateActions("error")}return function(e,t,n){t&&Fp(e.prototype,t),n&&Fp(e,n)}(e,[{key:"loadRewardsToScore",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t){Wp.getRewardsToScore({success:function(e){t(e)},error:function(){e.error&&e.error()}})}}},{key:"scoreEntries",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return function(o){Wp.scoreEntries(e,t,{success:function(e,t,r){if(304===r.status)return!0;n.success&&n.success(),o(e)},error:function(){n.error&&n.error()}})}}}]),e}(),qp=Ku.a.createActions(Up);function Gp(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var Hp=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.bindListeners({loadRewardsToScore:qp.loadRewardsToScore}),this.state={rewardsToScore:[]}}return function(e,t,n){t&&Gp(e.prototype,t),n&&Gp(e,n)}(e,[{key:"loadRewardsToScore",value:function(e){this.setState({rewardsToScore:e})}}]),e}(),Vp=Ku.a.createStore(Hp,"AdminStore");function Yp(e){return(Yp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Qp(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Kp(e,t){return!t||"object"!==Yp(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Jp(e){return(Jp=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Zp(e,t){return(Zp=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var $p=b.a.table.withConfig({displayName:"list-of-rewards__Table",componentId:"k05thk-0"})(["table-layout:auto;th,td{padding:0.5rem;}"]),Xp=b.a.td.withConfig({displayName:"list-of-rewards__ItemName",componentId:"k05thk-1"})(["min-width:15rem;"]),ef=b.a.td.withConfig({displayName:"list-of-rewards__Location",componentId:"k05thk-2"})(["white-space:pre-line;"]),tf=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Kp(this,Jp(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Zp(e,t)}(t,u.a.Component),function(e,t,n){t&&Qp(e.prototype,t),n&&Qp(e,n)}(t,[{key:"render",value:function(){var e=this,n=this.props.rewards,o=[Object(v.c)("Reward"),Object(v.c)("Venue"),Object(v.c)("Drawing date\n (Melbourne Time)"),Object(v.c)("Entries"),Object(v.c)("Scored"),Object(v.c)("Ignored"),Object(v.c)("Days until draw date"),Object(v.c)("Entries")];return u.a.createElement($p,null,u.a.createElement("thead",null,u.a.createElement("tr",null,o.map(function(e){return u.a.createElement("th",{key:e},e)}))),u.a.createElement("tbody",null,n.map(function(n,o){return u.a.createElement("tr",{key:o},u.a.createElement(Xp,null,n.name),u.a.createElement(ef,null,t.formatVenueName(n.location)),u.a.createElement("td",null,t.formatAustralianDate(n.drawing_date)),u.a.createElement("td",null,t.countEntries(n.entries)),u.a.createElement("td",null,t.countScoredEntries(n.entries)),u.a.createElement("td",null,t.countIgnoredEntries(n.entries)),u.a.createElement("td",null,n.days_until_drawing_date),u.a.createElement("td",null,u.a.createElement(ve.a,{handleClick:function(){return e.props.focus(n)},buttonText:Object(v.c)("Score Now"),disabled:!t.hasEntries(n)})))})))}}],[{key:"countEntries",value:function(e){return e.length}},{key:"countScoredEntries",value:function(e){return e.filter(function(e){return e&&e.scores&&e.scores.length>0&&!e.is_ignored}).length}},{key:"countIgnoredEntries",value:function(e){return e.filter(function(e){return e&&e.is_ignored}).length}},{key:"formatAustralianDate",value:function(e){return Qu()(e).parseZone("Australia/Melbourne").format("DD MMMM YYYY, h:mm a")}},{key:"formatVenueName",value:function(e){var t=e.name,n=e.city,o=e.state;return"".concat(t,"\n").concat(n,"\n").concat(o)}},{key:"hasEntries",value:function(e){return t.countEntries(e.entries)>0}}]),t}();function nf(e){return(nf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function of(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function rf(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function af(e){return(af=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function sf(e,t){return(sf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function cf(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function lf(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(tf,"propTypes",{rewards:y.a.arrayOf(y.a.shape({name:y.a.string,location:y.a.object,drawing_date:y.a.string,days_until_drawing_date:y.a.number,entries:y.a.arrayOf(y.a.object)})),focus:y.a.func});var uf=b.a.td.withConfig({displayName:"score-reward__Answer",componentId:"so8lli-0"})(["white-space:pre-line;"]),pf=function(e){function t(){var e,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];return lf(cf(cf(n=function(e,t){return!t||"object"!==nf(t)&&"function"!=typeof t?cf(e):t}(this,(e=af(t)).call.apply(e,[this].concat(r))))),"handleCheckboxChange",function(e){var t=e.target.checked;n.props.handleIsIgnored(n.props.entry.id,t)}),lf(cf(cf(n)),"handleDropdownChange",function(e){var t=e.target,o=t.id,r=t.value,a=Object.assign(n.props.entry.scores);a[parseInt(o,10)-1]=parseInt(r,10),n.props.handleScoreChange(n.props.entry.id,a)}),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&sf(e,t)}(t,u.a.Component),function(e,t,n){t&&rf(e.prototype,t),n&&rf(e,n)}(t,[{key:"showTotalScore",value:function(){return this.props.entry.scores.reduce(function(e,t){return e+t},0)}},{key:"renderDropDown",value:function(e,t){var n=of(Array(11).keys()),o=t+1;return u.a.createElement("select",{id:o,value:e,onChange:this.handleDropdownChange},n.map(function(e){return u.a.createElement("option",{key:e,value:e},e)}))}},{key:"renderAllDropDowns",value:function(e){var t=this;return e.map(function(e,n){return u.a.createElement("td",{key:n},t.renderDropDown(e,n))})}},{key:"render",value:function(){var e=this.props.entry,t=e.scores;return u.a.createElement("tr",null,u.a.createElement("td",null,u.a.createElement("input",{type:"checkbox",defaultChecked:e.isIgnored,onChange:this.handleCheckboxChange})),u.a.createElement("td",null,e.id),u.a.createElement(uf,null,e.answer),this.renderAllDropDowns(t),u.a.createElement("td",null,this.showTotalScore()))}}]),t}();function ff(e){return(ff="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function df(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function mf(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function hf(e){return(hf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function yf(e,t){return(yf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function bf(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function gf(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}lf(pf,"propTypes",{entry:y.a.shape({id:y.a.number,answer:y.a.string,scores:y.a.arrayOf(y.a.number)}),handleIsIgnored:y.a.func,handleScoreChange:y.a.func});var vf=b.a.table.withConfig({displayName:"score-rewards__Table",componentId:"sc-1gcofkp-0"})(["table-layout:auto;th,td{padding:0.5rem;}"]),wf=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),gf(bf(bf(n=function(e,t){return!t||"object"!==ff(t)&&"function"!=typeof t?bf(e):t}(this,hf(t).call(this,e)))),"handleIsIgnored",function(e,t){var o=Object.assign({},n.state.entries[e],{isIgnored:t});n.setState(function(t){return{entries:Object.assign({},t.entries,gf({},e,o))}})}),gf(bf(bf(n)),"handleScoreChange",function(e,t){var o=Object.assign({},n.state.entries[e],{scores:t});n.setState(function(t){return{entries:Object.assign({},t.entries,gf({},e,o))}})}),gf(bf(bf(n)),"updateScores",function(){var e={success:function(){n.setState({showModal:!0,modalText:"Successfully Updated Scores for ".concat(n.props.reward.name)}),qp.loadRewardsToScore()},error:function(){n.setState({showModal:!0,modalText:"Error Updating Scores for ".concat(n.props.reward.name)})}};qp.scoreEntries(n.props.reward.id,n.transformedEntryData(),e)}),gf(bf(bf(n)),"handleCloseModal",function(){n.setState({showModal:!1})}),n.state={entries:n.getInitialEntries(),showModal:!1,modalText:null},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&yf(e,t)}(t,u.a.Component),function(e,t,n){t&&mf(e.prototype,t),n&&mf(e,n)}(t,[{key:"getInitialEntries",value:function(){var e=this;return this.props.reward.entries.map(function(t){return gf({},t.id,{id:t.id,isIgnored:t.is_ignored||!1,scores:t.scores||new Array(e.props.numberOfCriteria).fill(0),answer:t.answer})}).reduce(function(e,t){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),o.forEach(function(t){gf(e,t,n[t])})}return e}({},e,t)},{})}},{key:"getCriteriaNumbers",value:function(){return df(Array(this.props.numberOfCriteria).keys()).map(function(e){return e+1})}},{key:"transformedEntryData",value:function(){var e=this.state.entries;return Object.values(e).map(function(e){return{scorable_entry_id:e.id,answer:e.answer,scores:e.scores,ignored:e.isIgnored}})}},{key:"createTableColumns",value:function(){var e=["Ignore","ID","Answer","Total"];return e.splice.apply(e,[3,0].concat(["Adherence\n/\nAppropriateness","Uniqueness","Originality"])),e}},{key:"renderModalIfNeeded",value:function(){return u.a.createElement(Nn.a,{isOpen:this.state.showModal,closeTimeoutMS:0,contentLabel:"Modal",className:{base:"react-modal enter-reward-modal",afterOpen:"react-modal enter-reward-modal--after-open",beforeClose:"react-modal enter-reward-modal--close"}},u.a.createElement("span",{className:"close-dialog","aria-label":"Close",onClick:this.handleCloseModal},"×"),u.a.createElement("div",{className:"text-center"},u.a.createElement("h5",{className:"bst text-center"},this.state.modalText),u.a.createElement("br",null),u.a.createElement(ve.a,{handleClick:this.props.goBack,buttonText:Object(v.c)("Back to Rewards")}),u.a.createElement("br",null)))}},{key:"render",value:function(){var e=this,t=Object.keys(this.state.entries).map(function(t){return e.state.entries[t]}),n=this.createTableColumns();return u.a.createElement("div",null,this.renderModalIfNeeded(),u.a.createElement(vf,null,u.a.createElement("thead",null,u.a.createElement("tr",null,n.map(function(e){return u.a.createElement("th",{key:e},e)}))),u.a.createElement("tbody",null,t.map(function(t){return u.a.createElement(pf,{entry:t,key:t.id,criteria:e.getCriteriaNumbers(),handleIsIgnored:e.handleIsIgnored,handleScoreChange:e.handleScoreChange})}))),u.a.createElement("div",{className:"d-flex justify-content-between"},u.a.createElement(ve.a,{handleClick:this.props.goBack,buttonText:Object(v.c)("Back")}),u.a.createElement(ve.a,{buttonText:Object(v.c)("Update"),handleClick:this.updateScores})))}}]),t}();function kf(e){return(kf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Of(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function _f(e){return(_f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Cf(e,t){return(Cf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Sf(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ef(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}gf(wf,"propTypes",{reward:y.a.shape({entries:y.a.arrayOf(y.a.object),id:y.a.number,name:y.a.string}),goBack:y.a.func,numberOfCriteria:y.a.number});var Pf=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Ef(Sf(Sf(n=function(e,t){return!t||"object"!==kf(t)&&"function"!=typeof t?Sf(e):t}(this,_f(t).call(this,e)))),"focus",function(e){n.setState({reward:e})}),Ef(Sf(Sf(n)),"goBack",function(){n.setState({reward:null})}),n.state={reward:null},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Cf(e,t)}(t,u.a.Component),function(e,t,n){t&&Of(e.prototype,t),n&&Of(e,n)}(t,[{key:"componentWillMount",value:function(){qp.loadRewardsToScore()}},{key:"render",value:function(){return this.props.rewards&&!this.state.reward?u.a.createElement(tf,{rewards:this.props.rewards,focus:this.focus}):this.props.rewards&&this.state.reward?u.a.createElement(wf,{reward:this.state.reward,goBack:this.goBack,numberOfCriteria:3}):u.a.createElement(jt.a,null)}}],[{key:"getStores",value:function(){return[Vp]}},{key:"getPropsFromStores",value:function(){return{rewards:Vp.getState().rewardsToScore}}}]),t}();Ef(Pf,"propTypes",{rewards:y.a.arrayOf(y.a.object)});var jf=Sn()(Pf),Nf=n(43),Tf=n(181);function xf(e){return(xf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function If(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Af(e,t){return!t||"object"!==xf(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Lf(e){return(Lf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Rf(e,t){return(Rf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Mf=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Af(this,Lf(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Rf(e,t)}(t,u.a.Component),function(e,t,n){t&&If(e.prototype,t),n&&If(e,n)}(t,[{key:"componentWillMount",value:function(){pu.a.loadUser(),pu.a.loadUserPoints(),fu.a.loadEnteredRewards(),fu.a.loadCompletedActions(),fu.a.loadCompletedActionSets()}},{key:"getFeaturedRewards",value:function(){var e=this;return this.props.rewards.filter(function(t){return-1!==e.props.rewardIds.indexOf(t.id)})}},{key:"getRewardsToDisplay",value:function(){return this.props.onlyShowFeaturedRewards&&this.props.rewardIds?this.getFeaturedRewards():this.props.onlyShowRecommendedRewards&&this.props.recommendedRewards?this.props.recommendedRewards:this.props.rewards}},{key:"render",value:function(){var e=this,t=this.getRewardsToDisplay(),n="tile-with-image-wrapper tile-with-image-wrapper--rewards bst-row align-items-stretch";return t.length>1&&(n+=" tile-with-image-wrapper--slideshow"),t.length?u.a.createElement("div",{className:"bst"},u.a.createElement("div",{className:n},u.a.createElement(it.a,null,t.map(function(t){return u.a.createElement(Tf.a,{reward:t,key:t.id,rewardError:e.props.rewardError,user:e.props.user,enteredRewards:e.props.enteredRewards,completedActions:e.props.completedActions,completedActionSets:e.props.completedActionSets,userPointsByCategory:e.props.userPointsByCategory,showExtraPointsText:e.props.showExtraPointsText,openEnterRewardModal:e.props.openEnterRewardModal,linkRewardThumbnail:e.props.linkRewardThumbnail,showFullAbout:!1,featured:e.props.featured,numberOfTiles:e.props.numberOfTiles})})))):u.a.createElement(jt.a,null)}}],[{key:"getStores",value:function(){return[jn.a,Nf.a]}},{key:"getPropsFromStores",value:function(){var e=jn.a.getState(),t=Nf.a.getState();return{user:e.user,userPointsByCategory:e.pointsByCategory,rewardError:t.errorMessage,rewards:t.rewards,recommendedRewards:t.recommendedRewards,enteredRewards:t.enteredRewards,completedActions:t.completedActions,completedActionSets:t.completedActionSets}}}]),t}();Mf.propTypes={user:y.a.arrayOf(y.a.object),rewards:y.a.arrayOf(y.a.object),recommendedRewards:y.a.arrayOf(y.a.object),rewardIds:y.a.arrayOf(y.a.object),enteredRewards:y.a.arrayOf(y.a.object),completedActions:y.a.arrayOf(y.a.object),completedActionSets:y.a.arrayOf(y.a.object),rewardError:y.a.string,userPointsByCategory:y.a.object,showExtraPointsText:y.a.bool,openEnterRewardModal:y.a.bool,useLanguageFallbacks:y.a.bool,linkRewardThumbnail:y.a.bool,featured:y.a.bool,numberOfTiles:y.a.number,onlyShowRecommendedRewards:y.a.bool,onlyShowFeaturedRewards:y.a.bool},Mf.defaultProps={rewardIds:null,showExtraPointsText:!1,openEnterRewardModal:!0,linkRewardThumbnail:!1,featured:!1,numberOfTiles:3,onlyShowRecommendedRewards:!1,onlyShowFeaturedRewards:!1};var Bf=Sn()(Mf);function Df(e){return(Df="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function zf(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Wf(e,t){return!t||"object"!==Df(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ff(e){return(Ff=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Uf(e,t){return(Uf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var qf=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Wf(this,Ff(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Uf(e,t)}(t,u.a.Component),function(e,t,n){t&&zf(e.prototype,t),n&&zf(e,n)}(t,[{key:"componentWillMount",value:function(){fu.a.loadRecommendedRewards([{name:"limit",value:this.props.rewardCount},{name:"points_category_id",value:this.props.pointsCategoryId}])}},{key:"render",value:function(){return u.a.createElement(Bf,{numberOfTiles:this.props.rewardCount,onlyShowRecommendedRewards:!0})}}]),t}();function Gf(e){return(Gf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Hf(){return(Hf=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}function Vf(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Yf(e,t){return!t||"object"!==Gf(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Qf(e){return(Qf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Kf(e,t){return(Kf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}qf.defaultProps={pointsCategoryId:1,rewardCount:2};var Jf=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Yf(this,Qf(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Kf(e,t)}(t,u.a.Component),function(e,t,n){t&&Vf(e.prototype,t),n&&Vf(e,n)}(t,[{key:"componentWillMount",value:function(){fu.a.loadRewards(this.props.rewardIds,!0)}},{key:"render",value:function(){return u.a.createElement(Bf,Hf({onlyShowFeaturedRewards:!0},this.props))}}]),t}();function Zf(e){return(Zf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $f(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Xf(e,t){return!t||"object"!==Zf(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ed(e){return(ed=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function td(e,t){return(td=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}Jf.propTypes={rewardIds:y.a.arrayOf(y.a.object),showExtraPointsText:y.a.bool,openEnterRewardModal:y.a.bool,linkRewardThumbnail:y.a.bool,featured:y.a.bool},Jf.defaultProps={rewardIds:[null],showExtraPointsText:!1,openEnterRewardModal:!0,linkRewardThumbnail:!1,featured:!0};var nd=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Xf(this,ed(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&td(e,t)}(t,u.a.Component),function(e,t,n){t&&$f(e.prototype,t),n&&$f(e,n)}(t,[{key:"componentDidMount",value:function(){_n.a.addDialogEventListeners()}},{key:"render",value:function(){return u.a.createElement("div",{className:"reward-global__banner__content__info__wrapper__actions"},u.a.createElement("div",{className:"reward-global__banner__content__info__wrapper__actions__col"},u.a.createElement("h4",{className:"reward-global__banner__content__info__wrapper__actions__col__action-link"},u.a.createElement("a",{href:"#","data-toggle":"dialog","data-target":"#registerDialog"},Object(v.c)("Sign up"))),u.a.createElement("p",{className:"reward-global__banner__content__info__wrapper__actions__col__action-description"},Object(v.c)("Become a Global Citizen to start earning points today"))),u.a.createElement("div",{className:"reward-global__banner__content__info__wrapper__actions__col"},u.a.createElement("h4",{className:"reward-global__banner__content__info__wrapper__actions__col__action-link"},u.a.createElement("a",{href:"/action/recommended/redirect/"},Object(v.c)("Take action"))),u.a.createElement("p",{className:"reward-global__banner__content__info__wrapper__actions__col__action-description"},Object(v.c)("Earn points for doing your part in the fight to end poverty"))),u.a.createElement("div",{className:"reward-global__banner__content__info__wrapper__actions__col"},u.a.createElement("h4",{className:"reward-global__banner__content__info__wrapper__actions__col__action-link"},u.a.createElement("a",{href:"#reward-landing-anchor",className:"smooth-scroll-to-anchor"},Object(v.c)("Win rewards"))),u.a.createElement("p",{className:"reward-global__banner__content__info__wrapper__actions__col__action-description"},Object(v.c)("Redeem points for a chance to win tickets to your favorite events"))))}}]),t}();function od(e){return(od="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function rd(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function ad(e,t){return!t||"object"!==od(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function id(e){return(id=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function sd(e,t){return(sd=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var cd=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),ad(this,id(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&sd(e,t)}(t,u.a.Component),function(e,t,n){t&&rd(e.prototype,t),n&&rd(e,n)}(t,[{key:"name",value:function(){return""===this.props.user.first_name?"Global Citizen":this.props.user.first_name}},{key:"noPointsMessage",value:function(){var e={openLink:"<a href='/action/recommended/redirect'>",points:this.props.user.available_points,closeLink:"</a>",interpolation:{escape:!1}};return u.a.createElement("span",{dangerouslySetInnerHTML:{__html:Object(v.c)("You have no points available. Go earn more points by {{ openLink }}taking action{{ closeLink}}!",e)}})}},{key:"welcomeMessage",value:function(){return 0===this.props.user.available_points?this.noPointsMessage():1===this.props.user.available_points?Object(v.c)("You have 1 point available. Great work! Treat yourself to some awesome rewards."):Object(v.c)("You have {{ points }} points available. Great work! Treat yourself to some awesome rewards.",{points:this.props.user.available_points})}},{key:"render",value:function(){return u.a.createElement("div",{className:"reward-global__banner__content__info__wrapper__profile-wrapper"},u.a.createElement("div",{className:"reward-global__banner__content__info__wrapper__profile-wrapper__avatar-wrapper"},u.a.createElement("img",{ref:"userAvatar",className:"reward-global__banner__content__info__wrapper__profile-wrapper__avatar-wrapper__avatar",src:this.props.user.profile_pic})),u.a.createElement("div",{className:"reward-global__banner__content__info__wrapper__profile-wrapper__profile-info"},u.a.createElement("h5",{ref:"welcomeHeadline",className:"reward-global__banner__content__info__wrapper__profile-wrapper__profile-info__greeting"},Object(v.c)("Welcome back, {{ name }}!",{name:this.name()})),u.a.createElement("p",{ref:"welcomeMessage"},this.welcomeMessage())))}}]),t}();function ld(e){return(ld="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ud(){return(ud=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}function pd(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function fd(e,t){return!t||"object"!==ld(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function dd(e){return(dd=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function md(e,t){return(md=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var hd=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),fd(this,dd(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&md(e,t)}(t,u.a.Component),function(e,t,n){t&&pd(e.prototype,t),n&&pd(e,n)}(t,[{key:"componentDidMount",value:function(){pu.a.loadUser()}},{key:"render",value:function(){return null===this.props.user?u.a.createElement(jt.a,null):!1===this.props.user.authenticated?u.a.createElement(nd,null):u.a.createElement(cd,ud({ref:"authenticatedUserWelcome"},this.props))}}],[{key:"getStores",value:function(){return[jn.a]}},{key:"getPropsFromStores",value:function(){return{user:jn.a.getState().user}}}]),t}();hd.defaultProps={user:{}};var yd=Sn()(hd),bd=function(e){i.a.ajax({url:"/api/content/recommended/",type:"get",dataType:"json",success:e.success})};function gd(e){return(gd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function vd(){return(vd=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}function wd(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function kd(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Od(e,t,n){return t&&kd(e.prototype,t),n&&kd(e,n),e}function _d(e,t){return!t||"object"!==gd(t)&&"function"!=typeof t?Pd(e):t}function Cd(e){return(Cd=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Sd(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ed(e,t)}function Ed(e,t){return(Ed=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Pd(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function jd(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Nd=function(e){function t(){var e,n;wd(this,t);for(var o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];return jd(Pd(Pd(n=_d(this,(e=Cd(t)).call.apply(e,[this].concat(r))))),"state",{recommendedStories:[]}),jd(Pd(Pd(n)),"initializeCallback",function(e){n.hasRecommendationReasons(e)?n.setState({recommendedStories:e}):i()(".section-articles-popular").css("display","block")}),n}return Sd(t,u.a.Component),Od(t,[{key:"componentWillMount",value:function(){bd({success:this.initializeCallback})}},{key:"hasRecommendationReasons",value:function(e){return bt.a.some(e,function(e){return e.recommendation_reasons.length>0})}},{key:"render",value:function(){return this.state.recommendedStories.length>0?u.a.createElement(Td,{ref:"recommendedStories",recommendedStories:this.state.recommendedStories}):u.a.createElement("div",{ref:"recommendedStories",style:{display:"none"}})}}]),t}(),Td=function(e){function t(){return wd(this,t),_d(this,Cd(t).apply(this,arguments))}return Sd(t,u.a.Component),Od(t,[{key:"render",value:function(){return u.a.createElement("section",{className:"recommended-stories",style:{display:"block"}},u.a.createElement("header",null,u.a.createElement("h2",{className:"section-title"},Object(v.c)("Recommended Stories"))),u.a.createElement("div",{className:"section-body"},this.stories()))}},{key:"stories",value:function(){return this.props.recommendedStories.map(function(e){return u.a.createElement(xd,vd({},e,{key:e.id}))})}}]),t}();jd(Td,"propTypes",{recommendedStories:y.a.array.isRequired,messages:y.a.object});var xd=function(e){function t(){return wd(this,t),_d(this,Cd(t).apply(this,arguments))}return Sd(t,u.a.Component),Od(t,[{key:"render",value:function(){return u.a.createElement("section",{className:"article-popular"},u.a.createElement("a",{ref:"shareImageAnchor",href:this.props.url,className:"make-relative"},u.a.createElement("div",{className:"article-section"},u.a.createElement("div",{ref:"articleItem",className:"article-item",style:{backgroundImage:"url(".concat(this.props.share_image_url,")")}},u.a.createElement("div",{className:"item-information"},u.a.createElement("h4",null,this.featureLabel()," ",this.catgeoryLabel()," ",u.a.createElement("span",{className:"headline__topic--white"},this.props.issue.name)),u.a.createElement("h3",{className:"headline__secondary"},u.a.createElement("span",{ref:"title"},this.videoIcon(),this.props.display_title)))))),u.a.createElement("div",{className:"article-popular-content"},u.a.createElement("div",null,u.a.createElement(Id,{authors:this.props.authors,partners:this.props.partners})),u.a.createElement("div",{className:"article-popular-meta"},this.formattedDate()),u.a.createElement("div",{className:"article-popular-entry"},u.a.createElement("p",{ref:"teaser"},this.props.teaser," ",u.a.createElement("a",{href:this.props.url,className:"no-break"},Object(v.c)("Read more")))),u.a.createElement(uu,{reasons:this.props.recommendation_reasons})))}},{key:"featureLabel",value:function(){if("feature"===this.props.type){var e="headline__category headline__category--".concat(this.props.type);return u.a.createElement("span",{className:e,ref:"featureLabel"},"Feature")}}},{key:"catgeoryLabel",value:function(){if(this.props.category){var e="headline__category headline__category--".concat(this.props.category.slug);return u.a.createElement("span",{className:e,ref:"articleCategory"},this.props.category.title)}}},{key:"formattedDate",value:function(){if(this.props.publication_date){var e=i.a.cookie(Nl.a.language.cookieName),t=new Date(new Date(this.props.publication_date)).toLocaleString(e,{day:"numeric",month:"long",year:"numeric"});return u.a.createElement("p",{ref:"publicationDate"},t)}}},{key:"videoIcon",value:function(){if(this.props.video_link_url)return u.a.createElement("span",{ref:"videoIcon",className:"far fa-play-circle"})}}]),t}();jd(xd,"propTypes",{url:y.a.string.isRequired,share_image_url:y.a.string,display_title:y.a.string.isRequired,publication_date:y.a.string.isRequired,teaser:y.a.string.isRequired,video_link_url:y.a.string,issue:y.a.object.isRequired,authors:y.a.array,partners:y.a.array,action:y.a.bool,recommendation_reasons:y.a.array,messages:y.a.object}),jd(xd,"defaultProps",{issue:{}});var Id=function(e){function t(){return wd(this,t),_d(this,Cd(t).apply(this,arguments))}return Sd(t,u.a.Component),Od(t,[{key:"render",value:function(){return u.a.createElement("span",{className:"article-popular-meta",ref:"contentmeta"},this.authorsList(),this.pipe(),this.renderPartners())}},{key:"authorsList",value:function(){if(this.props.authors.length>0)return u.a.createElement(Ad,{authors:this.props.authors})}},{key:"pipe",value:function(){if(this.props.authors.length>0&&this.props.partners.length>0)return u.a.createElement("span",{ref:"pipe",className:"pipe"},"|")}},{key:"renderPartners",value:function(){if(this.props.partners.length>0)return u.a.createElement(Ld,{refs:"partnersList",partners:this.props.partners})}}]),t}();jd(Id,"propTypes",{authors:y.a.array,partners:y.a.array}),jd(Id,"defaultProps",{authors:[],partners:[]});var Ad=function(e){function t(){return wd(this,t),_d(this,Cd(t).apply(this,arguments))}return Sd(t,u.a.Component),Od(t,[{key:"render",value:function(){return u.a.createElement("span",{className:"authors-container"},"".concat(Object(v.c)("By")," "),this.authors())}},{key:"authors",value:function(){return u.a.createElement(J.a,{items:this.props.authors,renderItem:function(e,t){return u.a.createElement("strong",null,u.a.createElement("a",{className:"author-link",href:e.url},e.name))},listClassName:"authors",itemClassName:"author"})}}]),t}();jd(Ad,"propTypes",{authors:y.a.array.isRequired}),jd(Ad,"defaultProps",{messages:{}});var Ld=function(e){function t(){var e,n;wd(this,t);for(var o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];return jd(Pd(Pd(n=_d(this,(e=Cd(t)).call.apply(e,[this].concat(r))))),"partnerLink",function(e){return e.archived?!!e.archived&&u.a.createElement("span",{ref:"partnerLink",key:e.id},e.name):u.a.createElement("a",{ref:"partnerLink",href:e.url,key:e.id},e.name)}),n}return Sd(t,u.a.Component),Od(t,[{key:"render",value:function(){return u.a.createElement("span",{className:"authors-container"},this.partners())}},{key:"partners",value:function(){return u.a.createElement(J.a,{items:this.props.partners,renderItem:this.partnerLink,listClassName:"content_partners",itemClassName:"content_partner"})}}]),t}();jd(Ld,"propTypes",{partners:y.a.array.isRequired}),jd(Ld,"defaultProps",{messages:{}});var Rd=n(185),Md=n(136),Bd=n(82);function Dd(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var zd=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return function(e,t,n){t&&Dd(e.prototype,t),n&&Dd(e,n)}(e,[{key:"get",value:function(e){return Promise.resolve(i.a.get("/api/users/profile_by_referral/".concat(e)))}}]),e}();function Wd(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var Fd=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.referrer=null}return function(e,t,n){t&&Wd(e.prototype,t),n&&Wd(e,n)}(e,[{key:"get",value:function(e){return this.referrer=(new zd).get(e),this.referrer}}]),e}());function Ud(e){return(Ud="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function qd(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Gd(e){return(Gd=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Hd(e,t){return(Hd=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Vd(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Yd(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}window.shadowUser={email:null,first_name:null,last_name:null,country:null,postal_code:null,password1:null,password2:null};var Qd=function(e){function t(){var e,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];return Yd(Vd(Vd(n=function(e,t){return!t||"object"!==Ud(t)&&"function"!=typeof t?Vd(e):t}(this,(e=Gd(t)).call.apply(e,[this].concat(r))))),"state",{referrer:null}),Yd(Vd(Vd(n)),"redirectLogin",function(){window.location.href="/account/login".concat(window.location.search)}),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Hd(e,t)}(t,u.a.Component),function(e,t,n){t&&qd(e.prototype,t),n&&qd(e,n)}(t,[{key:"referralCode",value:function(){return window.utils.getParameterByName("referral_code")}},{key:"componentWillMount",value:function(){var e=this,t=this.referralCode();t&&Fd.get(t).then(function(t){e.setState({referrer:t})})}},{key:"referralName",value:function(){return""===this.state.referrer.first_name?this.state.referrer.email:this.state.referrer.first_name}},{key:"signupHeader",value:function(){return null!==this.state.referrer?u.a.createElement("div",null,u.a.createElement("p",null,Object(v.c)("Global Citizen is a growing movement of people across the planet taking action to solve the world's biggest challenges. Thanks to your friend {{ referralName }}, you're invited to become a Global Citizen.",{referralName:this.referralName()})),u.a.createElement("p",null,Object(v.c)("Sign up today and receive your bonus point to get started. The more actions you take as a Global Citizen, the more points you earn. You can redeem those points for the chance to win rewards like Festival tickets."))):Object(v.c)("It all starts with becoming a Global Citizen.")}},{key:"render",value:function(){return u.a.createElement("div",{className:"register-page"},u.a.createElement("div",{className:"shell"},u.a.createElement("div",{id:"registerPage",className:"register-page__right"},u.a.createElement("h1",null,Object(v.c)("Join us. Be the Generation.")),u.a.createElement(Bd.a,{ref:"registerFlow",user:this.props.user,shadowUserClient:this.props.shadowUserClient,completedTarget:this.props.completedTarget,doneCallback:this.redirectLogin,referralCode:this.referralCode(),isReferral:this.state.referrer?"true":"false",referredBy:this.state.referrer?this.state.referrer.email:null,signupHeader:this.signupHeader()})),u.a.createElement("div",{className:"register-page__left"},u.a.createElement("h1",null,"About Us"),u.a.createElement("div",{className:"responsive-video-embed"},u.a.createElement("iframe",{width:"360",height:"203",src:"https://www.youtube.com/embed/gFwjYTkO5Yg",frameBorder:"0",allowFullScreen:!0})),u.a.createElement("p",null,Object(v.c)("Global Citizen is a movement of engaged citizens who are using their collective voice to end extreme poverty by 2030. On our platform, Global Citizens learn about the systemic causes of extreme poverty, take action on those issues, and earn rewards for their actions ".concat("—"," as part of a global community committed to lasting change."))))))}}]),t}();Yd(Qd,"defaultProps",{user:shadowUser,analytics:function(){}});var Kd=n(182),Jd=n(131),Zd=n(12),$d=n(58),Xd=n(81),em=n(95),tm=n(615),nm=n(616);function om(e){return(om="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function rm(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function am(e){return(am=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function im(e,t){return(im=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function sm(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var cm=b.a.div.withConfig({displayName:"details-slideshow__DetailsContainer",componentId:"sc-1c5c4ms-0"})([""]);cm.displayName="DetailsContainer";var lm=b.a.div.withConfig({displayName:"details-slideshow__ItemContainer",componentId:"sc-1c5c4ms-1"})([""]);lm.displayName="ItemContainer";var um=b.a.div.withConfig({displayName:"details-slideshow__Item",componentId:"sc-1c5c4ms-2"})([""]);um.displayName="Item";var pm=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(sm(sm(n=function(e,t){return!t||"object"!==om(t)&&"function"!=typeof t?sm(e):t}(this,am(t).call(this,e)))),"renderWhatToKnowItems",function(e,t){return e?u.a.createElement(lm,{className:"".concat(n.props.className||""," ").concat(n.props.itemContainerClasses)},t,u.a.createElement(um,{className:"".concat(n.props.className||""," ").concat(n.props.itemClasses)},u.a.createElement(Q,{body:e,className:"".concat(n.props.className||""," ").concat(n.props.itemCopyClasses)}))):null}),n.state={windowWidth:0},n.updateWindowDimensions=n.updateWindowDimensions.bind(sm(sm(n))),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&im(e,t)}(t,u.a.Component),function(e,t,n){t&&rm(e.prototype,t),n&&rm(e,n)}(t,[{key:"componentDidMount",value:function(){this.updateWindowDimensions(),window.addEventListener("resize",this.updateWindowDimensions)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.updateWindowDimensions)}},{key:"updateWindowDimensions",value:function(){this.setState({windowWidth:window.innerWidth})}},{key:"render",value:function(){var e=this.props.centerPaddingMobile;return this.state.windowWidth>=parseInt(L.max.medium,10)&&(e=this.props.centerPaddingMedium),this.props.aboutText||this.props.targetText||this.props.needsText?u.a.createElement("div",{className:"bst"},u.a.createElement(cm,{className:"".concat(this.props.className||""," ").concat(this.props.containerClasses)},u.a.createElement(it.a,{useRow:this.props.useRow,startBreakpoint:this.props.startSlideshow,centerPadding:e},this.renderWhatToKnowItems(this.props.aboutText,this.props.aboutIcon),this.renderWhatToKnowItems(this.props.targetText,this.props.targetIcon),this.renderWhatToKnowItems(this.props.needsText,this.props.needsIcon)))):null}}]),t}();function fm(e){return(fm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function dm(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function mm(e,t){return!t||"object"!==fm(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function hm(e){return(hm=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ym(e,t){return(ym=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}pm.defaultProps={useRow:!0,startSlideshow:parseInt(L.max.large,10),centerPaddingMobile:"50px",centerPaddingMedium:"200px",containerClasses:"bst-container-fluid px-0 px-lg-gutter text-center",itemContainerClasses:"col-12 col-lg-4",itemClasses:"",itemCopyClasses:""},pm.propTypes={useRow:y.a.bool,startSlideshow:y.a.number,centerPaddingMobile:y.a.string,centerPaddingMedium:y.a.string,aboutText:y.a.string,aboutIcon:y.a.node,targetText:y.a.string,targetIcon:y.a.node,needsText:y.a.string,needsIcon:y.a.node,containerClasses:y.a.string,itemContainerClasses:y.a.string,itemClasses:y.a.string,itemCopyClasses:y.a.string,className:y.a.string};var bm=b.a.div.withConfig({displayName:"action-details__Container",componentId:"o7dbga-0"})([".slick-slide{opacity:0.5;}.slick-slide.slick-active{opacity:1;}*[class*='copy__Body']{color:",";font-size:",";}"],function(e){return e.isEmbedded?"".concat(g.a.midGray):null},function(e){return e.isEmbedded?"".concat(g.a.xxsmallBaseFont):null});bm.displayName="Container";var gm=b.a.h4.withConfig({displayName:"action-details__DetailsTitle",componentId:"o7dbga-1"})(["padding-top:",";padding-bottom:",";color:",";font-size:",";"],function(e){return e.isEmbedded?"1.5rem":null},function(e){return e.isEmbedded?"1rem":"1.5rem"},function(e){return e.isEmbedded?"".concat(g.a.midGray):null},function(e){return e.isEmbedded?"".concat(g.a.baseFontSize):null});gm.displayName="DetailsTitle";var vm=b.a.i.withConfig({displayName:"action-details__IssueIcon",componentId:"o7dbga-2"})([""]);vm.displayName="IssueIcon";var wm=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),mm(this,hm(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ym(e,t)}(t,u.a.Component),function(e,t,n){t&&dm(e.prototype,t),n&&dm(e,n)}(t,[{key:"renderItemContainerClassName",value:function(){return this.props.isEmbedded?"".concat(this.props.className," col-12 col-lg-4"):"".concat(this.props.className," col-12 d-sm-block d-lg-flex justify-content-center justify-content-lg-start align-items-center")}},{key:"renderItemClassName",value:function(){return this.props.isEmbedded?"".concat(this.props.className):"".concat(this.props.className," px-2 px-sm-1 px-md-4 px-lg-0 pl-lg-4")}},{key:"renderIconClassName",value:function(){var e=["d-none icon__xsmall"];return this.props.isEmbedded?e.push("d-lg-block"):e.push("d-lg-flex"),e.join(" ")}},{key:"renderIssueIcon",value:function(){return this.props.action&&this.props.action.issue&&this.props.action.issue.slug?u.a.createElement(vm,{className:"icon-".concat(this.props.action.issue.slug,"--next ").concat(this.renderIconClassName())}):null}},{key:"renderContainerClassName",value:function(){return this.props.isEmbedded?"".concat(this.props.className||""," col-12 order-1"):"full-width"===this.props.container?"".concat(this.props.className||""," col-12 mb-4"):"".concat(this.props.className||""," col-xl-4 col-lg-4 col-md-12")}},{key:"render",value:function(){return this.props.action&&(this.props.action.what_to_know_about||this.props.action.what_to_know_target||this.props.action.what_to_know_needs)?u.a.createElement(bm,{className:this.renderContainerClassName(),isEmbedded:this.props.isEmbedded},u.a.createElement("div",{className:"bst-row"},u.a.createElement("div",{className:"col-12"},u.a.createElement(gm,{isEmbedded:this.props.isEmbedded,className:"".concat(this.props.className," text-sm-center text-lg-left")},Object(v.c)("What to Know")))),u.a.createElement(pm,{useRow:this.props.useRow,containerClasses:this.props.containerClasses,itemContainerClasses:this.renderItemContainerClassName(),itemClasses:this.renderItemClassName(),itemCopyClasses:"text-center text-lg-left",aboutText:this.props.action.what_to_know_about,aboutIcon:this.renderIssueIcon(),targetText:this.props.action.what_to_know_target,targetIcon:u.a.createElement(tm.a,{className:this.renderIconClassName()}),needsText:this.props.action.what_to_know_needs,needsIcon:u.a.createElement(nm.a,{className:this.renderIconClassName()})})):null}}]),t}();function km(e){return(km="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Om(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function _m(e,t){return!t||"object"!==km(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Cm(e){return(Cm=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Sm(e,t){return(Sm=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}wm.defaultProps={useRow:!0,containerClasses:"bst-container-fluid px-0"},wm.propTypes={container:y.a.string,isEmbedded:y.a.bool,action:pi.a.Action,useRow:y.a.bool,containerClasses:y.a.string,className:y.a.string};var Em=b.a.div.withConfig({displayName:"action-content-container__Container",componentId:"sc-46wo49-0"})(["&&&{padding-left:",";padding-right:",";@media (min-width:","){padding-left:",";padding-right:",";}}"],function(e){return e.styledContainer?0:g.a.gutter},function(e){return e.styledContainer?0:g.a.gutter},L.min.small,g.a.gutter,g.a.gutter);Em.displayName="Container";var Pm=b.a.div.withConfig({displayName:"action-content-container__Content",componentId:"sc-46wo49-1"})(["position:relative;background:",";white-space:pre-line;box-shadow:0 2px 4px 0 rgba(153,152,164,0.4);min-height:230px;height:100%;padding:1.75rem 1.25rem;@media (min-width:","){padding:1.75rem;}&::-webkit-scrollbar{width:6px;}&::-webkit-scrollbar-track{background:$medium-gray;}&::-webkit-scrollbar-thumb{-webkit-border-radius:10px;border-radius:10px;background:rgba(255,0,0,0.8);-webkit-box-shadow:inset 0 0 6px rgba(0,0,0,0.5);}&::-webkit-scrollbar-thumb:window-inactive{background:rgba(255,0,0,0.4);}h4{margin-bottom:1rem;}.quick-auth__welcome,.quick-auth__form{padding:0;}"],g.a.white,L.min.medium);Pm.displayName="Content";var jm=Object(b.a)(Dn.a).withConfig({displayName:"action-content-container__ProgressBarAlt",componentId:"sc-46wo49-2"})(["*[class*='progress-bar__OuterBar']{margin:0;border-radius:2px;height:5px;}*[class*='progress-bar__InnerBar']{border-radius:2px;}"]);Dn.a.displayName="ProgressBar";var Nm=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),_m(this,Cm(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Sm(e,t)}(t,u.a.Component),function(e,t,n){t&&Om(e.prototype,t),n&&Om(e,n)}(t,[{key:"renderClassName",value:function(){if(this.props.container){if("center"===this.props.container)return"".concat(this.props.className," mx-auto col-xl-7 col-lg-8 col-md-12");if("split"===this.props.container)return"".concat(this.props.className," col-xl-7 offset-xl-1 col-lg-7 offset-lg-1 col-md-12");if("full-width"===this.props.container)return"".concat(this.props.className," col-12")}return this.props.action&&(this.props.action.what_to_know_about||this.props.action.what_to_know_target||this.props.action.what_to_know_needs)?"".concat(this.props.className," col-xl-7 offset-xl-1 col-lg-7 offset-lg-1 col-md-12"):"".concat(this.props.className," mx-auto col-xl-7 col-lg-8 col-md-12")}},{key:"renderProgressBar",value:function(){return this.props.progressBar?u.a.createElement(jm,{goal:this.props.goal,count:this.props.count,showCounter:this.props.showCounter,className:this.props.className}):null}},{key:"renderStyledContainer",value:function(){return this.props.styledContainer?u.a.createElement(Pm,{className:"d-flex flex-column justify-content-center ".concat(this.props.className)},this.props.children):u.a.createElement("div",null,this.props.children)}},{key:"render",value:function(){return u.a.createElement(Em,{className:this.renderClassName(),styledContainer:this.props.styledContainer},this.renderProgressBar(),this.renderStyledContainer())}}]),t}();function Tm(e){return(Tm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function xm(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Im(e,t){return!t||"object"!==Tm(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Am(e){return(Am=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Lm(e,t){return(Lm=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}Nm.defaultProps={container:void 0,styledContainer:!0,progressBar:!0,goal:100,count:100,showCounter:!1},Nm.propTypes={action:y.a.object,container:y.a.oneOf(["center","split","full-width",void 0]),styledContainer:y.a.bool,progressBar:y.a.bool,count:y.a.number,goal:y.a.number,showCounter:y.a.bool,children:y.a.node,className:y.a.string};var Rm=b.a.div.withConfig({displayName:"action-content__Container",componentId:"sc-1g6060g-0"})(["border-bottom:",";max-height:",";overflow-y:",";flex-grow:",";min-height:11rem;"],function(e){return e.bottomBorder?g.a.baseBorder:null},function(e){return e.scroll?"13rem":null},function(e){return e.scroll?"auto":null},function(e){return e.fillContainer?"1":null});Rm.displayName="Container";var Mm=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Im(this,Am(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Lm(e,t)}(t,u.a.Component),function(e,t,n){t&&xm(e.prototype,t),n&&xm(e,n)}(t,[{key:"render",value:function(){return u.a.createElement(Rm,{className:"".concat(this.props.className," d-flex flex-column ").concat(this.props.verticalAlignment),bottomBorder:this.props.bottomBorder,scroll:this.props.scroll,fillContainer:this.props.fillContainer,container:this.props.container},this.props.children)}}]),t}();function Bm(e){return(Bm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Dm(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function zm(e,t){return!t||"object"!==Bm(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Wm(e){return(Wm=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Fm(e,t){return(Fm=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}Mm.defaultProps={bottomBorder:!0,scroll:!1,fillContainer:!1,verticalAlignment:"justify-content-start"},Mm.propTypes={scroll:y.a.bool,bottomBorder:y.a.bool,fillContainer:y.a.bool,verticalAlignment:y.a.oneOf(["justify-content-start","justify-content-center","justify-content-end","justify-content-between","justify-content-around"]),children:y.a.node,className:y.a.string};var Um=b.a.ol.withConfig({displayName:"ordered-list__Container",componentId:"sc-9f8wxh-0"})(["list-style-type:none;counter-reset:item;margin:0;padding:0;"]);Um.displayName="Container";var qm=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),zm(this,Wm(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Fm(e,t)}(t,u.a.Component),function(e,t,n){t&&Dm(e.prototype,t),n&&Dm(e,n)}(t,[{key:"render",value:function(){return u.a.createElement(Um,null,this.props.children)}}]),t}();function Gm(e){return(Gm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Hm(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Vm(e,t){return!t||"object"!==Gm(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ym(e){return(Ym=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Qm(e,t){return(Qm=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Km=b.a.li.withConfig({displayName:"ordered-list-item__Container",componentId:"sc-1qar05p-0"})(["list-style-type:none;color:",";line-height:",";clear:both;margin-bottom:1rem;&:last-of-type{margin-bottom:0;}p,&:before{font-family:",";}p{text-transform:uppercase;}&:before{content:counter(item) '.';counter-increment:item;color:",";float:left;padding-right:0.5rem;}"],g.a.mediumGray,g.a.baseLineHeight,g.a.primaryFontFamilyBold,g.a.primaryRed);Km.displayName="Container";var Jm=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Vm(this,Ym(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Qm(e,t)}(t,u.a.Component),function(e,t,n){t&&Hm(e.prototype,t),n&&Hm(e,n)}(t,[{key:"render",value:function(){return u.a.createElement(Km,{className:this.props.className},this.props.children)}}]),t}(),Zm=n(69);function $m(e){return($m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Xm(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function eh(e){return(eh=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function th(e,t){return(th=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function nh(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function oh(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var rh=b.a.div.withConfig({displayName:"update-field__FieldContainer",componentId:"vqnaqz-0"})([".intl-tel-input{margin-bottom:0;display:inline-block;@media (min-width:","){display:flex;}}"],L.min.small);rh.displayName="FieldContainer";var ah=b.a.input.withConfig({displayName:"update-field__Field",componentId:"vqnaqz-1"})(["color:",";&&&{margin-bottom:0;}&.update-field-error{border:2px solid ",";}"],g.a.darkGray,g.a.primaryRed);ah.displayName="Field";var ih=Object(b.a)(ve.a).withConfig({displayName:"update-field__ButtonAlt",componentId:"vqnaqz-2"})(["border:0;min-width:120px;cursor:pointer;"]);ih.displayName="ButtonAlt";var sh=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),oh(nh(nh(n=function(e,t){return!t||"object"!==$m(t)&&"function"!=typeof t?nh(e):t}(this,eh(t).call(this,e)))),"updateField",function(e){var t;t=n.props.getUpdateValue?n.props.getUpdateValue():n.state.textInput;var o={};o[n.props.fieldKey]=t,pu.a.updateUser(o,{success:function(){if(n.setState({errorMessage:null}),n.props.successCallback)return n.props.successCallback(e)},error:function(e){var t=e[n.props.fieldKey];t&&n.setState({errorMessage:t[0]})}})}),oh(nh(nh(n)),"updateText",function(e){n.setState({textInput:e.target.value})}),n.state={textInput:e.user[e.fieldKey]||""},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&th(e,t)}(t,u.a.Component),function(e,t,n){t&&Xm(e.prototype,t),n&&Xm(e,n)}(t,[{key:"componentDidMount",value:function(){this.props.renderCallback&&this.props.renderCallback()}},{key:"renderError",value:function(){return!!this.state.errorMessage&&u.a.createElement(Zm.a,{ref:"error",actionError:this.state.errorMessage})}},{key:"render",value:function(){var e=[""],t=[""];return this.props.disabled&&e.push("disabled"),this.state.errorMessage&&t.push("update-field-error"),u.a.createElement(Jm,{className:"".concat(this.props.className||""," ").concat(e.join(" "))},u.a.createElement("p",{className:"pb-3"},Object(v.c)("Add your {{ fieldName  }} below",{fieldName:this.props.fieldName})),u.a.createElement(rh,{className:"d-block d-sm-flex ".concat(this.props.className||"")},u.a.createElement(ah,{className:"".concat(t.join(" ")," ").concat(this.props.className||""),id:"updateFieldInput",disabled:this.props.disabled,onChange:this.updateText,type:"text",defaultValue:this.props.user[this.props.fieldKey]}),u.a.createElement(ih,{className:"".concat(this.props.className||""," btn mt-3 my-sm-0 ml-sm-3"),disabled:this.props.disabled,handleClick:this.updateField,buttonText:this.props.buttonText||Object(v.c)("Submit")})),this.renderError())}}]),t}();function ch(e){return(ch="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function lh(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function uh(e,t){return!t||"object"!==ch(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ph(e){return(ph=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function fh(e,t){return(fh=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}sh.propTypes={fieldKey:y.a.string,fieldName:y.a.string,renderCallback:y.a.func,successCallback:y.a.func,getUpdateValue:y.a.string,buttonText:y.a.string,disabled:y.a.bool,user:pi.a.User,className:y.a.string};var dh=b.a.h1.withConfig({displayName:"card-headline__Container",componentId:"sc-1d4jxok-0"})(["text-align:center;&&&{font-family:",";font-size:",";}@media (min-width:","){max-width:140px;text-align:left;}hr{margin:10px 0;}"],g.a.primaryFontFamilyBold,g.a.mediumBaseFont,L.min.small);dh.displayName="Container";var mh=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),uh(this,ph(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&fh(e,t)}(t,u.a.Component),function(e,t,n){t&&lh(e.prototype,t),n&&lh(e,n)}(t,[{key:"render",value:function(){var e=u.a.Children.toArray(this.props.children).filter(function(e){return null!==e});return e&&e.length>0?u.a.createElement(dh,{className:this.props.className},this.props.children):null}}]),t}();function hh(e){return(hh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function yh(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function bh(e,t){return!t||"object"!==hh(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function gh(e){return(gh=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function vh(e,t){return(vh=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var wh=b.a.div.withConfig({displayName:"error-info__LeftCol",componentId:"sc-2x6end-0"})([""]);wh.displayName="LeftCol";var kh=b.a.div.withConfig({displayName:"error-info__RightCol",componentId:"sc-2x6end-1"})([""]);kh.displayName="RightCol";var Oh=b.a.div.withConfig({displayName:"error-info__ErrorContainer",componentId:"sc-2x6end-2"})(["background:",";border-radius:2px;color:",";"],function(e){return e.errorBackground},g.a.white);Oh.displayName="ErrorContainer";var _h=b.a.div.withConfig({displayName:"error-info__ErrorMessage",componentId:"sc-2x6end-3"})(["font-size:",";"],g.a.xxsmallBaseFont);_h.displayName="ErrorMessage";var Ch=Object(b.a)(mh).withConfig({displayName:"error-info__CardHeadlineAlt",componentId:"sc-2x6end-4"})(["@media (min-width:","){max-width:",";text-align:",";}"],L.min.large,function(e){return"full-width"===e.container?"100%":null},function(e){return"full-width"===e.container?"center":null});Ch.displayName="CardHeadlineAlt";var Sh=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),bh(this,gh(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&vh(e,t)}(t,u.a.Component),function(e,t,n){t&&yh(e.prototype,t),n&&yh(e,n)}(t,[{key:"renderErrorMessage",value:function(){return!1===this.props.errorMessage?null:u.a.createElement(Oh,{className:"d-flex align-items-center p-3 ".concat(this.props.className),errorBackground:this.props.errorBackground},u.a.createElement("i",{className:"fas fa-exclamation-triangle"}),u.a.createElement(_h,{className:"text-uppercase pl-3"},this.props.errorMessage||Object(v.c)("An error has occured! Please refresh the page.")))}},{key:"renderButton",value:function(){return this.props.hideButton?null:u.a.createElement(ve.a,{handleClick:this.props.handleClick,buttonText:this.props.buttonText,className:"btn mt-4 d-block mx-auto"})}},{key:"render",value:function(){return u.a.createElement("div",{className:"bst-row align-items-center"},u.a.createElement(wh,{className:"col-12 col-sm-6 mb-3 mb-sm-0 ".concat("full-width"==this.props.container&&"col-lg-12 mb-lg-3")},u.a.createElement(Ch,{className:this.props.className,container:this.props.container},this.props.headline)),u.a.createElement(kh,{className:"col-12 col-sm-6 ".concat("full-width"==this.props.container&&"col-lg-12")},this.props.children,this.renderErrorMessage(),this.renderButton()))}}]),t}();function Eh(e){return(Eh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ph(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function jh(e,t){return!t||"object"!==Eh(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Nh(e){return(Nh=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Th(e,t){return(Th=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}Sh.defaultProps={headline:Object(v.c)("Something went wrong"),buttonText:Object(v.c)("Try Again"),handleClick:Me.a.reloadPage,errorBackground:g.a.primaryRed,hideButton:!1},Sh.propTypes={headline:y.a.string,errorMessage:y.a.string,buttonText:y.a.string,handleClick:y.a.func,errorBackground:y.a.oneOf([g.a.primaryRed,g.a.darkGray]),className:y.a.string,children:y.a.node,hideButton:y.a.bool};var xh=Object(b.a)(I).withConfig({displayName:"embeddable-details-accordion__AccordionAlt",componentId:"sc-131z5md-0"})(["&[class*='accordion__Container']{margin:20px -15px -15px -15px;text-align:center;}*[class*='accordion__ToggleContent']{position:absolute;bottom:-30px;right:0;text-align:right;}*[class*='accordion__ToggleSwitch']{font-size:",";padding-left:20px;color:",";display:inline-block;cursor:pointer;min-height:16px;&:hover{color:",";}&.open{background:url(/static/img/embeddable-reward/close-icon.svg) 0 center no-repeat;background-size:auto 16px;}&.close{background:url(/static/img/embeddable-reward/plus-icon.svg) 0 center no-repeat;background-size:auto 16px;}}"],g.a.xxsmallBaseFont,g.a.midGray,g.a.darkGray);xh.displayName="AccordionAlt";var Ih=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),jh(this,Nh(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Th(e,t)}(t,u.a.Component),function(e,t,n){t&&Ph(e.prototype,t),n&&Ph(e,n)}(t,[{key:"render",value:function(){return u.a.createElement(xh,{color:this.props.color,toggleSwitch:Object(v.c)("More Info"),toggleContent:null,accordionOpen:this.props.accordionOpen,toggleAccordion:this.props.toggleAccordion,className:this.props.className,renderChildrenAsHTML:this.props.renderChildrenAsHTML,renderToggleContentAsHTML:this.props.renderToggleContentAsHTML},this.props.children)}}]),t}();function Ah(e){return(Ah="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Lh(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Rh(e,t){return!t||"object"!==Ah(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Mh(e){return(Mh=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Bh(e,t){return(Bh=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}Ih.defaultProps={accordionOpen:!1,renderChildrenAsHTML:!1,renderToggleContentAsHTML:!1},Ih.propTypes={accordionOpen:y.a.bool,renderChildrenAsHTML:y.a.bool,toggleAccordion:y.a.func,children:y.a.node,className:y.a.string};var Dh=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Rh(this,Mh(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Bh(e,t)}(t,u.a.Component),function(e,t,n){t&&Lh(e.prototype,t),n&&Lh(e,n)}(t,[{key:"renderActionDetails",value:function(){return u.a.createElement(wm,{action:this.props.action,container:this.props.container,isEmbedded:this.props.isEmbedded})}},{key:"render",value:function(){return u.a.createElement("div",{className:"bst"},u.a.createElement("div",{className:"bst-row"},!this.props.isEmbedded&&ge.a.hasDetails(this.props.action)&&this.renderActionDetails(),u.a.createElement(Nm,{goal:this.props.goal,count:this.props.count,container:this.props.container},u.a.createElement(Mm,{bottomBorder:this.props.bottomBorder,verticalAlignment:this.props.verticalAlignment},u.a.createElement(Sh,{headline:this.props.headline,errorMessage:this.props.errorMessage,buttonText:this.props.buttonText,handleClick:this.props.handleClick,errorBackground:this.props.errorBackground,hideButton:this.props.hideButton,container:this.props.container},this.props.children)),this.props.isEmbedded&&ge.a.hasDetails(this.props.action)&&u.a.createElement(Ih,{accordionOpen:this.props.accordionOpen,toggleAccordion:this.props.toggleAccordion},this.renderActionDetails()))))}}]),t}();Dh.defaultProps={headline:Object(v.c)("Something went wrong"),buttonText:Object(v.c)("Try Again"),handleClick:Me.a.reloadPage,errorBackground:g.a.primaryRed,bottomBorder:!1,hideButton:!1,verticalAlignment:"justify-content-center"},Dh.propTypes={action:y.a.object,count:y.a.number,goal:y.a.number,bottomBorder:y.a.bool,headline:y.a.string,errorMessage:y.a.string,buttonText:y.a.string,handleClick:y.a.func,errorBackground:y.a.oneOf([g.a.primaryRed,g.a.darkGray]),children:y.a.node,hideButton:y.a.bool,container:y.a.oneOf(["center","split","full-width",void 0]),isEmbedded:y.a.bool,accordionOpen:y.a.bool,toggleAccordion:y.a.func,verticalAlignment:y.a.oneOf(["justify-content-start","justify-content-center","justify-content-end","justify-content-between","justify-content-around"])};var zh=n(617),Wh=n(618),Fh=n(619),Uh=n(620),qh=n(191),Gh=n(132);function Hh(e){return(Hh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Vh(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Yh(e){return(Yh=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Qh(e,t){return(Qh=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Kh(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var Jh=new jl.h,Zh=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=function(e,t){return!t||"object"!==Hh(t)&&"function"!=typeof t?Kh(e):t}(this,Yh(t).call(this,e))).failedFacebookSignup=n.failedFacebookSignup.bind(Kh(Kh(n))),n.failedFacebookSignupBackCallback=n.failedFacebookSignupBackCallback.bind(Kh(Kh(n))),n.success=n.success.bind(Kh(Kh(n))),n.state={facebookSignupError:!1},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Qh(e,t)}(t,u.a.Component),function(e,t,n){t&&Vh(e.prototype,t),n&&Vh(e,n)}(t,[{key:"failedFacebookSignup",value:function(){this.setState({facebookSignupError:!0})}},{key:"failedFacebookSignupBackCallback",value:function(){this.setState({facebookSignupError:!1})}},{key:"reportToSegment",value:function(){Jh.trackUserAuthEvent(this.props.segmentEventName,"facebook",this.props.elementName)}},{key:"success",value:function(){return this.reportToSegment(),this.props.successCallback()}},{key:"render",value:function(){return u.a.createElement("div",{className:this.props.className},this.state.facebookSignupError?u.a.createElement(qh.a,{successCallback:this.success,backCallback:this.failedFacebookSignupBackCallback,buttonText:this.props.buttonText}):u.a.createElement(Gh.a,{successCallback:this.success,failCallback:this.failedFacebookSignup,buttonText:this.props.buttonText,disabled:this.props.disabled}))}}]),t}();function $h(e){return($h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Xh(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function ey(e){return(ey=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ty(e,t){return(ty=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ny(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}Zh.defaultProps={segmentEventName:"Sign up",elementName:"Auth embed",buttonText:Object(v.c)("Sign Up with Facebook"),successCallback:bt.a.noop,disabled:!1};var oy=new jl.h,ry=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=function(e,t){return!t||"object"!==$h(t)&&"function"!=typeof t?ny(e):t}(this,ey(t).call(this,e))).success=n.success.bind(ny(ny(n))),n.auth=n.auth.bind(ny(ny(n))),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ty(e,t)}(t,u.a.Component),function(e,t,n){t&&Xh(e.prototype,t),n&&Xh(e,n)}(t,[{key:"auth",value:function(){var e=this.props.getFieldData()||{};this.props.authAction(e,{success:this.success,error:this.props.errorCallback})}},{key:"reportToSegment",value:function(){oy.trackUserAuthEvent(this.props.segmentEventName,"email",this.props.elementName,null,null,this.props.emailOptIn)}},{key:"success",value:function(e){return this.reportToSegment(),this.props.doneCallback(e)}},{key:"render",value:function(){return u.a.createElement(ve.a,{ref:"submit",className:this.props.className,type:"submit",handleClick:this.auth,disabled:this.props.disabled,buttonText:this.props.buttonText})}}]),t}();ry.defaultProps={segmentEventName:"Sign up",elementName:"Auth embed",doneCallback:bt.a.noop,errorCallback:bt.a.noop,getFieldData:bt.a.noop,authAction:bt.a.noop,buttonText:Object(v.c)("SIGN UP"),disabled:!1,emailOptIn:void 0,className:"btn auth-submit"};var ay=n(42),iy=n(190),sy=n(189);function cy(e){return(cy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ly(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function uy(e){return(uy=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function py(e,t){return(py=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function fy(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function dy(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var my=function(e){function t(){var e,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];return dy(fy(fy(n=function(e,t){return!t||"object"!==cy(t)&&"function"!=typeof t?fy(e):t}(this,(e=uy(t)).call.apply(e,[this].concat(r))))),"onChange",function(e){e.target.checked?Zd.a.enableDataShare(n.props.action.id):Zd.a.disableDataShare(n.props.action.id)}),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&py(e,t)}(t,u.a.Component),function(e,t,n){t&&ly(e.prototype,t),n&&ly(e,n)}(t,[{key:"partnerName",value:function(){return void 0!==this.props.action.partner.name?this.props.action.partner.name:"Global Citizen"}},{key:"labelText",value:function(){return Object(v.c)("Please provide my name, email address and country to {{ openSpan }}{{ partnerName }}{{ closeSpan }} so that they can keep me up to date on this campaign and others.",{partnerName:this.partnerName(),openSpan:"<span class='partner-name'>",closeSpan:"</span>",interpolation:{escape:!1}})}},{key:"render",value:function(){return!0===this.props.action.collect_data_share&&u.a.createElement("div",{className:"remain-in-contact bst"},u.a.createElement("label",{className:"d-flex align-items-start mb-2"},u.a.createElement("span",null,u.a.createElement("input",{ref:"input",type:"checkbox",onChange:this.onChange,defaultChecked:this.props.dataShare})),u.a.createElement("span",{dangerouslySetInnerHTML:{__html:this.labelText()}})))}}]),t}();function hy(e){return(hy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function yy(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function by(e){return(by=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function gy(e,t){return(gy=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function vy(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function wy(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}dy(my,"propTypes",{action:pi.a.Action,dataShare:y.a.bool.isRequired,user:pi.a.User}),dy(my,"defaultProps",{action:{},user:{}});var ky=b.a.div.withConfig({displayName:"quick-signup__QuickSignupContainer",componentId:"sc-1kgy6e3-0"})([""]);ky.displayName="QuickSignupContainer";var Oy=b.a.div.withConfig({displayName:"quick-signup__LeftCol",componentId:"sc-1kgy6e3-1"})([""]);Oy.displayName="LeftCol";var _y=Object(b.a)(ve.a).withConfig({displayName:"quick-signup__LoginButton",componentId:"sc-1kgy6e3-2"})([""]);_y.displayName="LoginButton";var Cy=Object(b.a)(ve.a).withConfig({displayName:"quick-signup__SubmitButton",componentId:"sc-1kgy6e3-3"})([""]);Cy.displayName="SubmitButton";var Sy=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),wy(vy(vy(n=function(e,t){return!t||"object"!==hy(t)&&"function"!=typeof t?vy(e):t}(this,by(t).call(this,e)))),"toggleEmailOptIn",function(){n.setState(function(e){return{emailOptIn:!e.emailOptIn}})}),wy(vy(vy(n)),"toggleAcceptTerms",function(){n.setState(function(e){return{acceptTerms:!e.acceptTerms}},function(){n.isShadowSignupButtonDisabled()})}),wy(vy(vy(n)),"isShadowSignupButtonDisabled",function(){n.state.fieldValues.email&&n.state.fieldValues.firstName&&n.state.fieldValues.lastName&&n.state.acceptTerms?n.setState({buttonDisabled:!1}):n.setState({buttonDisabled:!0})}),wy(vy(vy(n)),"isPasswordButtonDisabled",function(){n.state.fieldValues.password?n.setState({buttonDisabled:!1}):n.setState({buttonDisabled:!0})}),wy(vy(vy(n)),"getShadowSignupFieldData",function(){var e={email:n.state.fieldValues.email,country_code:n.props.userCountryCode||"US",emailOptIn:n.state.emailOptIn,first_name:n.state.fieldValues.firstName,last_name:n.state.fieldValues.lastName};return n.props.askPostalCode&&(e.postal_code=n.state.fieldValues.postalCode),e}),wy(vy(vy(n)),"getFullSignupFieldData",function(){return{email:n.state.fieldValues.email,password:n.password.current.value,country_code:n.props.userCountryCode||"US"}}),wy(vy(vy(n)),"emailError",function(e){e&&n.setState({justProvidedShadowUserData:!1,emailOptIn:!1,fieldErrors:e})}),wy(vy(vy(n)),"shadowSignupCallback",function(e){n.setState({justSignedUpAsShadowUser:!0,fieldValues:{email:e.email,password:""},fieldErrors:{}},function(){return n.props.loggedInCallback(e)})}),wy(vy(vy(n)),"facebookSignupCallback",function(e){return Promise.resolve().then(function(){return n.props.loggedInCallback(e)}).then(function(){return n.doneCallback(e)})}),wy(vy(vy(n)),"doneCallback",function(e){n.setState({fieldErrors:{}}),n.props.doneCallback(e)}),wy(vy(vy(n)),"onEnterShadowUserData",function(){var e={email:n.email.current.value,country_code:n.props.userCountryCode||"US",first_name:n.firstName.current.value,last_name:n.lastName.current.value};n.props.askPostalCode&&(e.postal_code=n.postalCode.current.value),ay.a.validate_signup(e,{success:n.onValidateShadowUserData,error:function(e){return n.emailError(e.responseJSON)}})}),wy(vy(vy(n)),"onValidateShadowUserData",function(){var e={fieldErrors:{},justProvidedShadowUserData:!0,fieldValues:{email:n.email.current.value,firstName:n.firstName.current.value,lastName:n.lastName.current.value}};n.props.askPostalCode&&(e.fieldValues.postalCode=n.postalCode.current.value),n.setState(e)}),n.state={justSignedUpAsShadowUser:n.props.user&&n.props.user.is_shadow||!1,justProvidedShadowUserData:!1,acceptTerms:!1,emailOptIn:!1,fieldValues:{email:n.props.user&&n.props.user.email||"",firstName:"",lastName:"",postalCode:"",password:""},buttonDisabled:!0,fieldErrors:{}},n.email=u.a.createRef(),n.firstName=u.a.createRef(),n.lastName=u.a.createRef(),n.postalCode=u.a.createRef(),n.password=u.a.createRef(),n.fullSignupSubmit=u.a.createRef(),n.shadowSubmit=u.a.createRef(),n.permissionsSubmit=u.a.createRef(),n.fieldChange=Ga.a.fieldChange.bind(vy(vy(n))),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&gy(e,t)}(t,u.a.Component),function(e,t,n){t&&yy(e.prototype,t),n&&yy(e,n)}(t,[{key:"renderShadowSignupForm",value:function(){var e=this;return u.a.createElement("form",null,u.a.createElement("fieldset",null,u.a.createElement(pl.a,{inputRef:this.email,fieldKey:"email",fieldId:"email-field",fieldType:"email",fieldLabel:Object(v.c)("Email"),fieldChange:function(t){return e.fieldChange(t,e.isShadowSignupButtonDisabled)},containerClasses:"mb-3",required:!0,hideRequiredLabel:!0,icon:u.a.createElement(zh.a,null),smallFont:!0,errorMessage:this.state.fieldErrors.email,value:this.state.fieldValues.email}),u.a.createElement(pl.a,{inputRef:this.firstName,fieldKey:"firstName",fieldId:"first-name",fieldLabel:Object(v.c)("First Name"),fieldChange:function(t){return e.fieldChange(t,e.isShadowSignupButtonDisabled)},containerClasses:"mb-3",required:!0,hideRequiredLabel:!0,icon:u.a.createElement(Wh.a,null),smallFont:!0,errorMessage:this.state.fieldErrors.first_name,value:this.state.fieldValues.firstName}),u.a.createElement(pl.a,{inputRef:this.lastName,fieldKey:"lastName",fieldId:"last-name",fieldLabel:Object(v.c)("Last Name"),fieldChange:function(t){return e.fieldChange(t,e.isShadowSignupButtonDisabled)},containerClasses:"mb-3",required:!0,hideRequiredLabel:!0,icon:u.a.createElement(Wh.a,null),smallFont:!0,errorMessage:this.state.fieldErrors.last_name,value:this.state.fieldValues.lastName}),this.props.askPostalCode?u.a.createElement(pl.a,{inputRef:this.postalCode,fieldKey:"postalCode",fieldId:"postal-code",containerClasses:"mb-3",fieldLabel:Object(v.c)("Postal Code"),fieldChange:function(t){return e.fieldChange(t,e.isShadowSignupButtonDisabled)},smallFont:!0,icon:u.a.createElement(Fh.a,null),errorMessage:this.state.fieldErrors.postal_code,value:this.state.fieldValues.postalCode}):"",u.a.createElement(iy.a,{acceptTerms:this.toggleAcceptTerms,termsIntro:this.props.termsIntro,className:"sso-terms mb-3"}),u.a.createElement(Cy,{ref:this.shadowSubmit,className:"btn auth-submit",type:"submit",handleClick:this.onEnterShadowUserData,disabled:this.state.buttonDisabled,buttonText:Object(v.c)("Sign Up")})))}},{key:"renderFullSignupForm",value:function(){var e=this;return u.a.createElement("form",null,u.a.createElement("fieldset",null,u.a.createElement(pl.a,{inputRef:this.password,fieldType:"password",fieldKey:"password",fieldId:"password-field",fieldLabel:Object(v.c)("Password"),fieldChange:function(t){return e.fieldChange(t,e.isPasswordButtonDisabled)},smallFont:!0,icon:u.a.createElement(Uh.a,null),errorMessage:this.state.fieldErrors.password,value:this.state.fieldValues.password}),u.a.createElement(ry,{ref:this.fullSignupSubmit,doneCallback:this.doneCallback,segmentEventName:"Sign Up",elementName:this.props.elementName,errorCallback:this.emailError,getFieldData:this.getFullSignupFieldData,authAction:pu.a.signup,buttonText:Object(v.c)("Sign Up"),disabled:this.state.buttonDisabled})))}},{key:"renderPermissionsForm",value:function(){return u.a.createElement("form",null,u.a.createElement("fieldset",{className:"sso-permissions"},u.a.createElement(sy.a,{emailOptIn:this.toggleEmailOptIn}),this.props.action?u.a.createElement(my,{action:this.props.action,dataShare:this.props.dataShare,user:this.props.user}):"",u.a.createElement(ry,{ref:this.permissionsSubmit,doneCallback:this.shadowSignupCallback,segmentEventName:"Shadow User Sign Up",elementName:this.props.elementName,errorCallback:this.emailError,getFieldData:this.getShadowSignupFieldData,authAction:pu.a.signup,buttonText:Object(v.c)("Sign Up"),emailOptIn:this.state.emailOptIn,className:"mt-2 btn  auth-submit"})))}},{key:"renderSubHeaderText",value:function(){return this.props.completeSignUp?null:u.a.createElement("div",null,u.a.createElement(mh,null,this.props.header,u.a.createElement("hr",null)),u.a.createElement("p",{className:"d-inline d-sm-block"},Object(v.c)("Already a user?")),u.a.createElement("p",{className:"d-inline d-sm-block"},u.a.createElement(_y,{className:"quick-auth__link btn btn--link primary__font--heavy",handleClick:this.props.loginClickCallback,buttonText:Object(v.c)("Log in")})," ",Object(v.c)("for your points.")))}},{key:"renderSignupForm",value:function(){return this.state.justSignedUpAsShadowUser?this.renderFullSignupForm():this.state.justProvidedShadowUserData?this.renderPermissionsForm():u.a.createElement("div",null,u.a.createElement(Zh,{successCallback:this.facebookSignupCallback,segmentEventName:"Sign Up",elementName:this.props.elementName,buttonText:Object(v.c)("Sign Up with Facebook"),disabled:!this.state.acceptTerms}),u.a.createElement("div",{className:"quick-auth__separator"},u.a.createElement("p",null,Object(v.c)("or"))),u.a.createElement("div",null,this.renderShadowSignupForm()))}},{key:"render",value:function(){return u.a.createElement("div",{className:"bst"},u.a.createElement("div",{className:"bst-container-fluid"},u.a.createElement(ky,{className:"".concat(this.props.className||""," quick-signup bst-row align-items-center ").concat("full-width"===this.props.container&&"no-min-height justify-content-center")},u.a.createElement(Oy,{className:"col-12 mb-3 text-center text-sm-left quick-auth__welcome ".concat("full-width"!==this.props.container&&"col-sm-6 mb-md-0")},this.renderSubHeaderText()),u.a.createElement("div",{className:"col-12 col-sm-6 quick-auth__form"},this.renderSignupForm()))))}}]),t}();function Ey(e){return(Ey="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Py(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function jy(e){return(jy=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ny(e,t){return(Ny=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ty(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xy(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Sy.defaultProps={userCountryCode:"US",elementName:"Auth embed",doneCallback:bt.a.noop,loginClickCallback:bt.a.noop,loggedInCallback:bt.a.noop,header:Object(v.c)("Become a Global Citizen"),action:null,dataShare:!1,askPostalCode:!1,completeSignUp:!1},Sy.propTypes={elementName:y.a.string,className:y.a.string,container:y.a.oneOf(["center","split","full-width",void 0]),user:pi.a.user,askPostalCode:y.a.bool,userCountryCode:y.a.string,loggedInCallback:y.a.func,loginClickCallback:y.a.func,doneCallback:y.a.func,termsIntro:y.a.bool,action:y.a.object,dataShare:y.a.bool,completeSignUp:y.a.bool,header:y.a.string};var Iy=Object(b.a)(ve.a).withConfig({displayName:"quick-login__SignUpButton",componentId:"sc-11qhdn4-0"})([""]);Iy.displayName="SignUpButton";var Ay=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),xy(Ty(Ty(n=function(e,t){return!t||"object"!==Ey(t)&&"function"!=typeof t?Ty(e):t}(this,jy(t).call(this,e)))),"getFieldData",function(){return{username:n.email.current.value,password:n.password.current.value}}),xy(Ty(Ty(n)),"emailError",function(e){e&&n.setState({fieldErrors:e})}),xy(Ty(Ty(n)),"successCallback",function(e){return Promise.resolve().then(function(){return n.props.loggedInCallback(e)}).then(function(){return n.props.doneCallback(e)})}),xy(Ty(Ty(n)),"isButtonDisabled",function(){n.state.fieldValues.email&&n.state.fieldValues.password?n.setState({buttonDisabled:!1}):n.setState({buttonDisabled:!0})}),xy(Ty(Ty(n)),"renderFields",function(){return u.a.createElement("form",null,u.a.createElement("fieldset",null,u.a.createElement(pl.a,{inputRef:n.email,fieldKey:"email",fieldId:"email-field",fieldType:"email",fieldLabel:Object(v.c)("Email"),fieldChange:function(e){return n.fieldChange(e,n.isButtonDisabled)},containerClasses:"mb-3",required:!0,hideRequiredLabel:!0,icon:u.a.createElement(zh.a,null),smallFont:!0,errorMessage:n.state.fieldErrors.email||n.state.fieldErrors.non_field_errors,hideErrorMessageForKey:"non_field_errors",fieldErrors:n.state.fieldErrors,value:n.state.fieldValues.email}),u.a.createElement(pl.a,{inputRef:n.password,fieldType:"password",fieldKey:"password",fieldId:"password-field",fieldLabel:Object(v.c)("Password"),fieldChange:function(e){return n.fieldChange(e,n.isButtonDisabled)},smallFont:!0,icon:u.a.createElement(Uh.a,null),errorMessage:n.state.fieldErrors.password||n.state.fieldErrors.non_field_errors,value:n.state.fieldValues.password}),u.a.createElement(ry,{doneCallback:n.successCallback,segmentEventName:"Log In",elementName:n.props.elementName,errorCallback:n.emailError,getFieldData:n.getFieldData,authAction:pu.a.login,buttonText:Object(v.c)("Sign In"),disabled:n.state.buttonDisabled})))}),xy(Ty(Ty(n)),"renderSubHeaderText",function(){return u.a.createElement("div",null,u.a.createElement(mh,null,n.props.header,u.a.createElement("hr",null)),u.a.createElement("p",{className:"d-inline d-sm-block"},Object(v.c)("Not a Global Citizen yet?")),u.a.createElement("p",{className:"d-inline d-sm-block"},u.a.createElement(Iy,{className:"quick-auth__link btn btn--link primary__font--heavy",handleClick:n.props.signupClickCallback,buttonText:Object(v.c)("Sign Up")})))}),n.state={fieldValues:{email:"",password:""},fieldErrors:{},buttonDisabled:!0},n.email=u.a.createRef(),n.password=u.a.createRef(),n.fieldChange=Ga.a.fieldChange.bind(Ty(Ty(n))),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ny(e,t)}(t,u.a.Component),function(e,t,n){t&&Py(e.prototype,t),n&&Py(e,n)}(t,[{key:"render",value:function(){return u.a.createElement("div",{className:"bst"},u.a.createElement("div",{className:"bst-container-fluid"},u.a.createElement("div",{className:"quick-signup bst-row align-items-center"},u.a.createElement("div",{className:"col-12 col-sm-6 text-center text-sm-left quick-auth__welcome"},this.renderSubHeaderText()),u.a.createElement("div",{className:"col-12 col-sm-6 quick-auth__form"},u.a.createElement(Zh,{successCallback:this.successCallback,segmentEventName:"Log In",elementName:this.props.elementName,buttonText:Object(v.c)("Sign In with Facebook"),className:"mt-3 mt-md-0"}),u.a.createElement("div",{className:"quick-auth__separator"},u.a.createElement("p",null,Object(v.c)("or"))),u.a.createElement("div",null,this.renderFields())))))}}]),t}();Ay.defaultProps={elementName:"Auth embed",doneCallback:bt.a.noop,signupClickCallback:bt.a.noop,loggedInCallback:bt.a.noop,header:Object(v.c)("Welcome Back! Sign in.")},Ay.propTypes={elementName:y.a.string,loggedInCallback:y.a.func,signupClickCallback:y.a.func,doneCallback:y.a.func,header:y.a.string};var Ly={Login:"login",SignUp:"signup"};function Ry(e){return(Ry="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function My(e){return(My=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function By(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Dy(e,t,n){return t&&By(e.prototype,t),n&&By(e,n),e}function zy(e,t){return(zy=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Wy(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Fy(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Uy=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Fy(Wy(Wy(n=function(e,t){return!t||"object"!==Ry(t)&&"function"!=typeof t?Wy(e):t}(this,My(t).call(this,e)))),"switchToLogin",function(){n.setState({card:Ly.Login})}),Fy(Wy(Wy(n)),"switchToSignup",function(){n.setState({card:Ly.SignUp})}),Fy(Wy(Wy(n)),"doneCallback",function(){return t.updateAuthData(),n.props.doneCallback()}),Fy(Wy(Wy(n)),"loggedInCallback",function(){return t.updateAuthData(),n.props.loggedInCallback()}),n.state={card:n.props.initialCard},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&zy(e,t)}(t,u.a.Component),Dy(t,null,[{key:"getStores",value:function(){return[$d.a,jn.a]}},{key:"getPropsFromStores",value:function(){return{user:jn.a.getState().user,locationData:$d.a.getState().locationData}}},{key:"updateAuthData",value:function(){pu.a.clearUser(),pu.a.loadUser(),Ut.a.notify()}}]),Dy(t,[{key:"componentWillMount",value:function(){Xd.a.getLocation(),pu.a.loadUser()}},{key:"render",value:function(){return this.props.user?this.props.user.authenticated?u.a.createElement("h2",null,Object(v.c)("You are already signed in!")):u.a.createElement("div",{className:"quick-auth"},this.state.card===Ly.SignUp?u.a.createElement(Sy,{userCountryCode:this.props.locationData.countryCode,loginClickCallback:this.switchToLogin,doneCallback:this.doneCallback,loggedInCallback:this.loggedInCallback,elementName:this.props.elementName,user:this.props.user,action:this.props.action,dataShare:this.props.dataShare,askPostalCode:this.props.askPostalCode,completeSignUp:this.props.completeSignUp,container:this.props.container}):u.a.createElement(Ay,{signupClickCallback:this.switchToSignup,doneCallback:this.doneCallback,loggedInCallback:this.loggedInCallback,elementName:this.props.elementName})):u.a.createElement(jt.a,null)}}]),t}();Uy.defaultProps={initialCard:Ly.SignUp,elementName:"Auth embed",doneCallback:function(){},loggedInCallback:function(){},action:null,dataShare:!1,askPostalCode:!1,completeSignUp:!1};var qy=Sn()(Uy),Gy=n(11),Hy=n(47),Vy=n(21);function Yy(e){return(Yy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Qy(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Ky(e){return(Ky=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Jy(e,t){return(Jy=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Zy(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Xy=Object(b.a)(Jm).withConfig({displayName:"call__OrderedListItemAlt",componentId:"sc-1rv6a1a-0"})(["&:last-of-type{margin-bottom:1.5rem;}&:before{content:'2.';}"]);Xy.displayName="OrderedListItemAlt";var eb=b.a.a.withConfig({displayName:"call__RetryCall",componentId:"sc-1rv6a1a-1"})(["font-family:",";color:",";"],g.a.primaryFontFamilyBold,g.a.mediumGray);eb.displayName="RetryCall";var tb=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),$y(Zy(Zy(n=function(e,t){return!t||"object"!==Yy(t)&&"function"!=typeof t?Zy(e):t}(this,Ky(t).call(this,e)))),"closeQuickAuth",function(){return n.setState({showQuickAuth:!1})}),$y(Zy(Zy(n)),"setupIntlTelInput",function(){var e=document.getElementById("updateFieldInput");e&&n.setState({iti:window.intlTelInput(e,{utilsScript:"/static/js/vendor/intl-tel-lib.js",initialCountry:n.props.user.country_code?n.props.user.country_code.toLowerCase():"us",preferredCountries:["us","gb","ca","de"]})})}),$y(Zy(Zy(n)),"getUpdateValue",function(){return n.state.iti.getNumber()}),$y(Zy(Zy(n)),"startCall",function(){Zd.a.startCall(n.props.action.id,n.props.actionSetId,n.props.contact?n.props.contact.id:null,n.startPolling)}),n.state={showQuickAuth:!e.user.authenticated&&!e.user.is_shadow},n.startPolling=n.startPolling.bind(Zy(Zy(n))),n.goBack=n.goBack.bind(Zy(Zy(n))),n.machineService=Hy.a.getMachineByActionId(n.props.action.id),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Jy(e,t)}(t,u.a.Component),function(e,t,n){t&&Qy(e.prototype,t),n&&Qy(e,n)}(t,[{key:"componentWillUnmount",value:function(){this.state.iti&&this.state.iti.destroy()}},{key:"componentWillMount",value:function(){Zd.a.enableAction.defer(this.props.action.id)}},{key:"callCompleted",value:function(){Zd.a.callCompleted(this.props.action.id),Zd.a.finalizeCompleteAction(this.props.action.id)}},{key:"startPolling",value:function(){this.state.pollingStartTime=new Date,this.callNotCompleted()}},{key:"callNotCompleted",value:function(e){var n=this;t.isPollingInterrupted?t.isPollingInterrupted=!1:e&&(e.status>499||400===e.status)?!1===e.responseJSON.key_input_recieved||!1===e.responseJSON.time_minimum_reached?this.machineService.send(Vy.a.CallDisconnected):this.machineService.send(Vy.a.Error):new Date-this.state.pollingStartTime<18e5?setTimeout(function(){Zd.a.getCompleteCall(n.props.action.id,{success:n.callCompleted.bind(n),error:n.callNotCompleted.bind(n)})},1e3):this.machineService.send(Vy.a.CallExpired)}},{key:"goBack",value:function(e){e.preventDefault(),t.isPollingInterrupted=!0,this.machineService.send(Vy.a.TakeAction)}},{key:"renderActionDetails",value:function(){return u.a.createElement(wm,{action:this.props.action,container:this.props.container,isEmbedded:this.props.isEmbedded})}},{key:"renderCallNotes",value:function(){return u.a.createElement("div",{className:"bst-row",ref:"callNotes"},!this.props.isEmbedded&&ge.a.hasDetails(this.props.action)&&this.renderActionDetails(),u.a.createElement(Nm,{action:this.props.action,container:this.props.container},u.a.createElement(Mm,{bottomBorder:this.props.bottomBorder,scroll:this.props.scroll},u.a.createElement(qm,null,u.a.createElement(Xy,null,u.a.createElement("p",null,"Call in progress. Read This."))),u.a.createElement("p",null,this.props.action.call_script),u.a.createElement("p",{className:"text-right mt-4"},u.a.createElement(eb,{className:"text-uppercase ".concat(this.props.className),href:"#",onClick:this.goBack},u.a.createElement("i",{className:"fas fa-sync mr-2"})," ",Object(v.c)("Retry")))),this.props.isEmbedded&&ge.a.hasDetails(this.props.action)&&u.a.createElement(Ih,{accordionOpen:this.props.accordionOpen,toggleAccordion:this.props.toggleAccordion},this.renderActionDetails())))}},{key:"renderInitialCard",value:function(){return u.a.createElement("div",{className:"bst-row"},!this.props.isEmbedded&&ge.a.hasDetails(this.props.action)&&this.renderActionDetails(),u.a.createElement(Nm,{action:this.props.action,container:this.props.container},this.state.showQuickAuth?u.a.createElement(qy,{elementName:"Call auth",initialCard:Ly.SignUp,loggedInCallback:this.closeQuickAuth,action:this.props.action,dataShare:this.props.dataShare,askPostalCode:!0}):u.a.createElement(Mm,{bottomBorder:this.props.bottomBorder,verticalAlignment:this.props.verticalAlignment},u.a.createElement(qm,null,u.a.createElement(sh,{ref:"updateField",disabled:!this._signedUp(),getUpdateValue:this.getUpdateValue,renderCallback:this.setupIntlTelInput,user:this.props.user,fieldName:"phone number",fieldKey:"phone_number",successCallback:this.startCall,buttonText:this.props.action.button_text||Object(v.c)("Call now")}))),this.props.isEmbedded&&ge.a.hasDetails(this.props.action)&&u.a.createElement(Ih,{accordionOpen:this.props.accordionOpen,toggleAccordion:this.props.toggleAccordion},this.renderActionDetails())))}},{key:"renderCallExpired",value:function(){return u.a.createElement("h4",{className:"call-expired-text"},Object(v.c)("Please refresh the page when the call has ended."))}},{key:"callDisconnectedError",value:function(){return u.a.createElement(Dh,{action:this.props.action,headline:Object(v.c)("Oh No! Something went wrong"),errorMessage:Object(v.c)("Looks like you've been disconnected or haven't received our call.\n\n Make sure your phone number is correct and try again!"),errorBackground:g.a.darkGray,buttonText:Object(v.c)("Try Again"),container:this.props.container,isEmbedded:this.props.isEmbedded})}},{key:"numberOutsideAreaError",value:function(){var e={phoneNumber:this.props.action.call_number};return u.a.createElement(Dh,{action:this.props.action,headline:Object(v.c)("Oh No! Something went wrong"),errorMessage:Object(v.c)("We're sorry but the phone number you provided is outside our coverage range. \n\n You can still add your voice to the movement by calling the target directly at {{ phoneNumber }} or please refresh the page and provide an alternative number.",e),errorBackground:g.a.darkGray,buttonText:Object(v.c)("Try Again"),container:this.props.container,isEmbedded:this.props.isEmbedded})}},{key:"render",value:function(){switch(this.props.card){case Gy.a.CallNotes:return this.renderCallNotes();case Gy.a.CallExpired:return this.renderCallExpired();case Gy.a.CallDisconnected:return this.callDisconnectedError();case Gy.a.NumberOutsideArea:return this.numberOutsideAreaError();default:return this.renderInitialCard()}}},{key:"_signedUp",value:function(){return this.props.user.phone_number||this.props.user.authenticated||this.props.user.email}},{key:"_hasPhoneNumber",value:function(){var e=this.props.user.phone_number;return!!(e&&e.length>0)}}]),t}();function nb(e){return(nb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ob(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function rb(e,t){return!t||"object"!==nb(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ab(e){return(ab=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ib(e,t){return(ib=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}$y(tb,"isPollingInterrupted",!1),tb.defaultProps={bottomBorder:!1,scroll:!1,verticalAlignment:"justify-content-center"};var sb=b.a.p.withConfig({displayName:"checkin-info__LocationName",componentId:"fxhiy8-0"})(["color:",";"],g.a.mediumGray);sb.displayName="LocationName";var cb=b.a.p.withConfig({displayName:"checkin-info__LocationAddress",componentId:"fxhiy8-1"})(["border:",";color:",";font-size:",";text-transform:normal;"],g.a.baseBorder,g.a.black,g.a.xxsmallBaseFont);cb.displayName="LocationAddress";var lb=b.a.a.withConfig({displayName:"checkin-info__MapLink",componentId:"fxhiy8-2"})(["font-family:",";"],g.a.primaryFontFamily);lb.displayName="MapLink";var ub=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),rb(this,ab(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ib(e,t)}(t,u.a.Component),function(e,t,n){t&&ob(e.prototype,t),n&&ob(e,n)}(t,[{key:"buildDisplayAddress",value:function(e){var t="";return e.address_line_1&&(t+=e.address_line_1),e.address_line_2&&(t+=" ",t+=e.address_line_2),e.city&&(t+=", ",t+=e.city),e.state&&(t+=", ",t+=e.state),t+=" ",t+=e.postal_code}},{key:"renderAddressList",value:function(){if(this.props.action.checkin_locations){for(var e=this.props.action.checkin_locations,t=[],n=0;n<e.length;n+=1)t.push(u.a.createElement(Jm,{key:n},this.renderLocationName(e[n]),u.a.createElement(cb,{className:"d-inline-block p-2 ".concat(this.props.className)},this.buildDisplayAddress(e[n])," (",u.a.createElement(lb,{target:"_blank",href:"https://maps.google.com/?q=".concat(e[n].latitude,",").concat(e[n].longitude),className:"__map-link"},Object(v.c)("Map")),")")));return t}return null}},{key:"renderLocationName",value:function(e){return e.name?u.a.createElement(sb,{className:"d-block pb-2 ".concat(this.props.className)},e.name," "):null}},{key:"render",value:function(){return this.props.card===Gy.a.TakeAction&&u.a.createElement(qm,null,this.renderAddressList())}}]),t}();function pb(e){return(pb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function fb(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function db(e,t){return!t||"object"!==pb(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function mb(e){return(mb=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function hb(e,t){return(hb=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}ub.propTypes={action:y.a.object.isRequired,card:y.a.string,className:y.a.string};var yb=b.a.div.withConfig({displayName:"take-action__Container",componentId:"sc-1z0btvc-0"})([""]);yb.displayName="Container";var bb=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),db(this,mb(t).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&hb(e,t)}(t,u.a.Component),function(e,t,n){t&&fb(e.prototype,t),n&&fb(e,n)}(t,[{key:"dataShareCheckbox",value:function(){return!(!this.props.user||!0!==this.props.user.authenticated)&&u.a.createElement(my,this.props)}},{key:"completeActionButtonText",value:function(){return this.props.completeActionButtonText||this.props.action.button_text}},{key:"getButtonText",value:function(){return this.props.card===Gy.a.TakeAction?this.completeActionButtonText():this.props.action.button_text}},{key:"actionDisabled",value:function(){return!this.props.actionEnabled}},{key:"handleClick",value:function(e){this.props.completeAction(e),jl.j.trackTakeActionButtonClick()}},{key:"render",value:function(){return u.a.createElement("div",{className:"bst"},u.a.createElement(yb,{className:this.props.containerClass},u.a.createElement("div",{className:"text-left"},this.dataShareCheckbox()),u.a.createElement("div",{className:this.props.buttonWrapperClass},u.a.createElement(ve.a,{handleClick:this.handleClick.bind(this),buttonText:this.getButtonText(),disabled:this.actionDisabled(),className:"btn my-0",smallButton:this.props.smallButton}))))}}]),t}();function gb(e){return(gb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function vb(){return(vb=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}function wb(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function kb(e){return(kb=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ob(e,t){return(Ob=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _b(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Cb(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}bb.defaultProps={buttonWrapperClass:"text-center",containerClass:"mt-4",smallButton:!1};var Sb=b.a.div.withConfig({displayName:"checkin__LoadingLocation",componentId:"sc-1fg1qkg-0"})([".loading{margin-top:0;}"]);Sb.displayName="LoadingLocation";var Eb=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Cb(_b(_b(n=function(e,t){return!t||"object"!==gb(t)&&"function"!=typeof t?_b(e):t}(this,kb(t).call(this,e)))),"onGeolocationSuccess",function(e){n.setState({loadingLocation:!1}),Zd.a.completeAction(n.props.action.id,n.actionData(e),n.finalize)}),Cb(_b(_b(n)),"onGeolocationError",function(){n.setState({loadingLocation:!1}),Hy.a.getMachineByActionId(n.props.action.id).send(Vy.a.Error),Zd.a.setErrorMessage({actionId:n.props.action.id,errorMessage:Object(v.c)("In order to check in we need access to your location. Please enable location services for your web browser in your phone settings.")})}),Cb(_b(_b(n)),"tryCompleteAction",function(){if(n.props.user.authenticated||n.props.user.is_shadow)return Promise.resolve().then(n.doCompleteAction);n.setState({showQuickAuth:!0})}),Cb(_b(_b(n)),"doCompleteAction",function(){n.setState({loadingLocation:!0}),navigator.geolocation.getCurrentPosition(n.onGeolocationSuccess,n.onGeolocationError)}),Cb(_b(_b(n)),"finalize",function(){Zd.a.finalizeCompleteAction(n.props.action.id)}),n.state={loadingLocation:!1,showQuickAuth:!1},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ob(e,t)}(t,u.a.Component),function(e,t,n){t&&wb(e.prototype,t),n&&wb(e,n)}(t,[{key:"componentWillMount",value:function(){Zd.a.enableAction.defer(this.props.action.id)}},{key:"actionData",value:function(e){return{follow_partner:this.props.dataShare,latitude:e.coords.latitude,longitude:e.coords.longitude,action_set_id:this.props.actionSetId}}},{key:"checkLoadingLocation",value:function(){return this.state.loadingLocation?u.a.createElement(Sb,{className:"".concat(this.props.className," h-100 text-center d-flex flex-column align-items-center justify-content-center")},u.a.createElement(jt.a,null),Object(v.c)("Loading your location...")):this.state.showQuickAuth&&!this.props.user.authenticated?u.a.createElement("div",{className:"".concat(this.props.className," d-flex h-100 flex-column")},u.a.createElement(qy,{elementName:"Checkin auth",initialCard:Ly.SignUp,loggedInCallback:this.doCompleteAction,action:this.props.action,dataShare:this.props.dataShare,askPostalCode:!0})):[u.a.createElement(Mm,{bottomBorder:this.props.bottomBorder,scroll:this.props.scroll},u.a.createElement(ub,this.props),u.a.createElement(Zm.a,this.props)),u.a.createElement(bb,vb({completeAction:this.tryCompleteAction},this.props))]}},{key:"renderActionDetails",value:function(){return u.a.createElement(wm,{action:this.props.action,container:this.props.container,isEmbedded:this.props.isEmbedded})}},{key:"render",value:function(){return u.a.createElement("div",{className:"bst-row"},!this.props.isEmbedded&&ge.a.hasDetails(this.props.action)&&this.renderActionDetails(),u.a.createElement(Nm,{action:this.props.action,count:this.props.count,goal:this.props.goal,container:this.props.container},this.checkLoadingLocation(),this.props.isEmbedded&&ge.a.hasDetails(this.props.action)&&u.a.createElement(Ih,{accordionOpen:this.props.accordionOpen,toggleAccordion:this.props.toggleAccordion},this.renderActionDetails())))}}]),t}();function Pb(e){return(Pb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function jb(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Nb(e,t){return!t||"object"!==Pb(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Tb(e){return(Tb=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function xb(e,t){return(xb=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}Eb.defaultProps={bottomBorder:!1,scroll:!0};var Ib=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Nb(this,Tb(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&xb(e,t)}(t,u.a.Component),function(e,t,n){t&&jb(e.prototype,t),n&&jb(e,n)}(t,[{key:"getNextButton",value:function(){return!!this.props.nextAction&&u.a.createElement("button",{className:"next-btn btn  d-block mx-auto mt-4",onClick:this.props.nextAction,type:"button"},Object(v.c)("Next"))}},{key:"render",value:function(){return u.a.createElement("div",{className:"bst"},u.a.createElement("div",{className:"text-center"},u.a.createElement("img",{className:"mb-4",src:"/static/img/check.png",width:"95px",alt:Object(v.c)("You've completed this action")}),u.a.createElement("h4",null,Object(v.c)("You've completed this action"))),this.getNextButton())}}]),t}();function Ab(e){return(Ab="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Lb(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Rb(e){return(Rb=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Mb(e,t){return(Mb=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Bb(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}Ib.propTypes={nextAction:y.a.object};var Db=function(e){function t(){var e,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];return function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(Bb(Bb(n=function(e,t){return!t||"object"!==Ab(t)&&"function"!=typeof t?Bb(e):t}(this,(e=Rb(t)).call.apply(e,[this].concat(r))))),"sendEmail",function(){pu.a.sendEmailConfirmation(n.props.actionId)}),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Mb(e,t)}(t,u.a.Component),function(e,t,n){t&&Lb(e.prototype,t),n&&Lb(e,n)}(t,[{key:"render",value:function(){return u.a.createElement(Dh,{action:this.props.action,headline:Object(v.c)("One more step"),errorMessage:Object(v.c)("Your email will not be sent until you click the link in the email"),errorBackground:this.props.errorBackground,buttonText:Object(v.c)("Resend Verification Email"),handleClick:this.sendEmail,container:this.props.container,isEmbedded:this.props.isEmbedded},u.a.createElement("h5",{className:"font-size--small"},Object(v.c)("Confirm your email")),u.a.createElement("p",{className:"mb-3 font-size--xsmall"},Object(v.c)("All you need to do is click the link in the email we just sent you to confirm your address and complete this action.")),u.a.createElement("h5",{className:"font-size--small"},Object(v.c)("Not seeing the email?")),u.a.createElement("p",{className:"mb-4 font-size--xsmall"},Object(v.c)("Make sure to check your spam folder, in case your email provider has incorrectly labelled it as spam.")))}}]),t}();function zb(e){return(zb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Wb(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Fb(e,t){return!t||"object"!==zb(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ub(e){return(Ub=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function qb(e,t){return(qb=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}Db.defaultProps={errorBackground:g.a.darkGray};var Gb=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Fb(this,Ub(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&qb(e,t)}(t,u.a.Component),function(e,t,n){t&&Wb(e.prototype,t),n&&Wb(e,n)}(t,[{key:"renderActionDetails",value:function(){return u.a.createElement(wm,{action:this.props.action,container:this.props.container,isEmbedded:this.props.isEmbedded})}},{key:"render",value:function(){return u.a.createElement("div",{className:"bst-row"},!this.props.isEmbedded&&ge.a.hasDetails(this.props.action)&&this.renderActionDetails(),u.a.createElement(Nm,{action:this.props.action,goal:this.props.goal,count:this.props.count},u.a.createElement(Mm,{bottomBorder:this.props.bottomBorder},u.a.createElement("h4",null,Object(v.c)("Thank you!")),u.a.createElement("p",null,Object(v.c)("We’ve sent you an email. Please click the link in the message, then refresh this page."))),this.props.isEmbedded&&ge.a.hasDetails(this.props.action)&&u.a.createElement(Ih,{accordionOpen:this.props.accordionOpen,toggleAccordion:this.props.toggleAccordion},this.renderActionDetails())))}}]),t}();function Hb(e){return(Hb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Vb(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Yb(e,t){return!t||"object"!==Hb(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Qb(e){return(Qb=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Kb(e,t){return(Kb=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}Gb.defaultProps={bottomBorder:!1},Gb.propTypes={action:y.a.object,count:y.a.number,goal:y.a.number,bottomBorder:y.a.bool,container:y.a.oneOf(["center","split","full-width",void 0]),isEmbedded:y.a.bool,accordionOpen:y.a.bool,toggleAccordion:y.a.bool};var Jb=b.a.div.withConfig({displayName:"contact__Container",componentId:"x1offr-0"})(["& ~ &{padding-left:",";}"],g.a.gutter);Jb.displayName="Container";var Zb=Object(b.a)(ve.a).withConfig({displayName:"contact__SelectContactButton",componentId:"x1offr-1"})(["min-width:100px;padding:5px;font-size:",";"],g.a.xxxxSmallBaseFont);Zb.displayName="SelectContactButton";var $b=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Yb(this,Qb(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Kb(e,t)}(t,u.a.Component),function(e,t,n){t&&Vb(e.prototype,t),n&&Vb(e,n)}(t,[{key:"getAvatarUrl",value:function(){return this.props.contact.avatar_url||"/static/img/default_contact_image.png"}},{key:"getPoliticalParty",value:function(){return this.props.contact&&this.props.contact.political_party?u.a.createElement("p",{className:"font-size--xsmall"},this.props.contact.political_party.name):null}},{key:"showChooseWhichRepToContactButton",value:function(){return this.props.buttonText&&this.props.buttonCallback}},{key:"renderSelectContactButtonIfApplicable",value:function(){return this.showChooseWhichRepToContactButton()?u.a.createElement(Zb,{buttonText:this.props.buttonText,handleClick:this.props.buttonCallback,className:"".concat(this.props.className||""," btn mt-3")}):null}},{key:"render",value:function(){return u.a.createElement(Jb,{className:"".concat(this.props.className," w-100 mb-4")},u.a.createElement("div",null,u.a.createElement(K.a,{maxHeight:"100px",width:"auto",src:this.getAvatarUrl(),alt:"".concat(this.props.contact.title," ").concat(this.props.contact.name)})),u.a.createElement("div",null,u.a.createElement("h6",{className:"font-size--xsmall"},this.props.contact.title," ",this.props.contact.name),this.getPoliticalParty(),u.a.createElement("p",{className:"font-size--xsmall"},this.props.contact.divisions[0].name)),this.renderSelectContactButtonIfApplicable())}}]),t}();function Xb(e){return(Xb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function eg(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function tg(e){return(tg=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ng(e,t){return(ng=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function og(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function rg(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}$b.propTypes={contact:pi.a.Contact,buttonText:y.a.string,buttonCallback:y.a.func,className:y.a.string};var ag=b.a.div.withConfig({displayName:"contact-finder__ContactsScreen",componentId:"bw7ywi-0"})([""]);ag.displayName="ContactsScreen";var ig=b.a.div.withConfig({displayName:"contact-finder__RightCol",componentId:"bw7ywi-1"})([""]);ig.displayName="RightCol";var sg=b.a.div.withConfig({displayName:"contact-finder__LeftCol",componentId:"bw7ywi-2"})([""]);sg.displayName="LeftCol";var cg=b.a.span.withConfig({displayName:"contact-finder__NotMyOfficeLink",componentId:"bw7ywi-3"})(["cursor:pointer;color:",";"],g.a.primaryRed);cg.displayName="NotMyOfficeLink";var lg=Object(b.a)(ve.a).withConfig({displayName:"contact-finder__ConfirmAllContactsButton",componentId:"bw7ywi-4"})([""]);lg.displayName="ConfirmAllContactsButton";var ug=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),rg(og(og(n=function(e,t){return!t||"object"!==Xb(t)&&"function"!=typeof t?og(e):t}(this,tg(t).call(this,e)))),"setShowFormTrue",function(){n.setState({showForm:!0})}),rg(og(og(n)),"setShowFormFalse",function(){n.setState({showForm:!1})}),rg(og(og(n)),"fetchContactData",function(){Zd.a.clearContacts.defer(n.props.action.id),Zd.a.getContacts(n.props.action.id,{error:n.noContactsFound})}),rg(og(og(n)),"noContactsFound",function(){Zd.a.noContactsFound(n.props.action.id)}),n.state={showForm:!1},n.messages={MP:{notMyOffice:Object(v.c)("this is not my MP"),notMyOffices:Object(v.c)("these are not my MPs"),foundOneOffice:Object(v.c)("Your MP"),foundMultipleOffices:Object(v.c)("Your MPs"),addressNotFound:Object(v.c)("We can't find your MP. Please update your address and try again."),postal_codeNotFound:Object(v.c)("We can't find your MP. Please update your postal code and try again.")},SENATOR:{notMyOffice:Object(v.c)("this is not my Senator"),notMyOffices:Object(v.c)("these are not my Senators"),foundOneOffice:Object(v.c)("Your Senator"),foundMultipleOffices:Object(v.c)("Your Senators"),addressNotFound:Object(v.c)("We can't find your Senator. Please update your address and try again."),postal_codeNotFound:Object(v.c)("We can't find your Senator. Please update your postal code and try again.")},REPRESENTATIVE:{notMyOffice:Object(v.c)("this is not my Representative"),notMyOffices:Object(v.c)("these are not my Representatives"),foundOneOffice:Object(v.c)("Your Representative"),foundMultipleOffices:Object(v.c)("Your Representatives"),addressNotFound:Object(v.c)("We can't find your Representative. Please update your address and try again."),postal_codeNotFound:Object(v.c)("We can't find your Representative. Please update your postal code and try again.")},STORE:{notMyOffice:Object(v.c)("this is not my Store"),notMyOffices:Object(v.c)("these are not my Stores"),foundOneOffice:Object(v.c)("Your Store"),foundMultipleOffices:Object(v.c)("Your Stores"),addressNotFound:Object(v.c)("We can't find your store. Please update your address and try again."),postal_codeNotFound:Object(v.c)("We can't find your store. Please update your postal code and try again.")},LOCALNP:{notMyOffice:Object(v.c)("this is not my local newspaper"),notMyOffices:Object(v.c)("these are not my local newspapers"),foundOneOffice:Object(v.c)("Your local newspaper"),foundMultipleOffices:Object(v.c)("Your local newspapers"),addressNotFound:Object(v.c)("We can't find your local newspaper. Please update your address and try again."),postal_codeNotFound:Object(v.c)("We can't find your local newspaper. Please update your postal code and try again.")},STATENP:{notMyOffice:Object(v.c)("this is not my state newspaper"),notMyOffices:Object(v.c)("these are not my state newspapers"),foundOneOffice:Object(v.c)("Your state newspaper"),foundMultipleOffices:Object(v.c)("Your state newspapers"),addressNotFound:Object(v.c)("We can't find your state newspaper. Please update your address and try again."),postal_codeNotFound:Object(v.c)("We can't find your state newspaper. Please update your postal code and try again.")}},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ng(e,t)}(t,u.a.Component),function(e,t,n){t&&eg(e.prototype,t),n&&eg(e,n)}(t,[{key:"componentDidMount",value:function(){this.getUserLocation()&&this.fetchContactData()}},{key:"componentWillReceiveProps",value:function(e){this.getUserLocation()!==e.user[this.props.locationField]&&this.fetchContactData()}},{key:"getUserLocation",value:function(){return this.props.user[this.props.locationField]}},{key:"getMessage",value:function(e){return this.messages[this.props.action.target.contact_office][e]}},{key:"getFoundOfficeMessage",value:function(){return this.props.contacts&&1===this.props.contacts.length?this.getMessage("foundOneOffice"):this.props.contacts&&this.props.contacts.length>1?this.getMessage("foundMultipleOffices"):""}},{key:"getNotMyOfficeMessage",value:function(){return this.props.contacts&&1===this.props.contacts.length?this.getMessage("notMyOffice"):this.props.contacts&&this.props.contacts.length>1?this.getMessage("notMyOffices"):""}},{key:"getContactNotFoundMessage",value:function(){return!!this.getMessage("".concat(this.props.locationField,"NotFound"))&&this.getMessage("".concat(this.props.locationField,"NotFound"))}},{key:"getUpdateFieldName",value:function(){switch(this.props.locationField){case"address":return Object(v.c)("address");case"postal_code":return Object(v.c)("postal code");default:return null}}},{key:"renderContacts",value:function(){var e,t,n=this;this.props.selectIndividualContact?e=this.props.action.button_text:t=u.a.createElement("div",null,u.a.createElement(lg,{buttonText:this.props.action.button_text,handleClick:function(){Zd.a.confirmContacts(n.props.action.id,n.props.contacts)},className:"".concat(this.props.className||""," btn w-100")}));var o=this.props.contacts.map(function(t){return u.a.createElement($b,{key:t.id,contact:t,buttonCallback:function(){Zd.a.confirmContacts(n.props.action.id,[t])},buttonText:e})});return u.a.createElement(ag,{className:"bst-row align-items-center"},u.a.createElement(sg,{className:"col-12 col-md-6 mb-4 mb-md-0 ".concat("full-width"===this.props.container&&"col-lg-12 mb-lg-4")},u.a.createElement(mh,null,this.getFoundOfficeMessage()),u.a.createElement(cg,{href:"#",className:"font-size--small",onClick:function(){n.setShowFormTrue()},title:this.getNotMyOfficeMessage()},u.a.createElement("i",{className:"fas fa-angle-left"})," ",this.getNotMyOfficeMessage())),u.a.createElement(ig,{className:"col-12 col-md-6 ".concat("full-width"===this.props.container&&"col-lg-12")},u.a.createElement("div",{className:"d-flex justify-content-center"},o),t))}},{key:"render",value:function(){return this.state.showForm||!this.getUserLocation()?u.a.createElement(qm,null,u.a.createElement(sh,{disabled:!1,user:this.props.user,fieldName:this.getUpdateFieldName(),fieldKey:this.props.locationField,successCallback:this.setShowFormFalse})):null===this.props.contacts?u.a.createElement(jt.a,null):this.props.contacts&&this.props.contacts.length>0?this.renderContacts():u.a.createElement(Sh,{action:this.props.action,headline:Object(v.c)("Please try again"),errorMessage:this.getContactNotFoundMessage(),errorBackground:g.a.darkGray,buttonText:Object(v.c)("Try Again"),handleClick:this.setShowFormTrue,container:this.props.container})}}]),t}();function pg(e){return(pg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function fg(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function dg(e){return(dg=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function mg(e,t){return(mg=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function hg(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}ug.propTypes={action:pi.a.Action,contacts:y.a.arrayOf(pi.a.Contact),locationField:y.a.oneOf(["address","postal_code"]),selectIndividualContact:y.a.bool,user:pi.a.User,container:y.a.oneOf(["center","split","full-width",void 0]),className:y.a.string};var yg=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(hg(hg(n=function(e,t){return!t||"object"!==pg(t)&&"function"!=typeof t?hg(e):t}(this,dg(t).call(this,e)))),"closeQuickAuth",function(){return n.setState({showQuickAuth:!1})}),n.state={showQuickAuth:!e.user.authenticated&&!e.user.is_shadow},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&mg(e,t)}(t,u.a.Component),function(e,t,n){t&&fg(e.prototype,t),n&&fg(e,n)}(t,[{key:"getLocationField",value:function(){var e=this.props.action.target,t=e.country.code,n=e.contact_office,o={DE:{MP:"address",LOCALNP:"address"},GB:{MP:"postal_code",STORE:"postal_code",LOCALNP:"postal_code"},US:{SENATOR:"address",REPRESENTATIVE:"address",STATENP:"address",LOCALNP:"address"}};if(!o[t]||!o[t][n])throw'Unable to recognize location from target with country "'.concat(t,'" and contact office "').concat(n,'"');return o[t][n]}},{key:"renderQuickAuth",value:function(){return u.a.createElement("div",{className:"".concat(this.props.className," d-flex h-100 flex-column")},u.a.createElement(qy,{elementName:"Dynamic Target auth",initialCard:Ly.SignUp,action:this.props.action,dataShare:this.props.dataShare,loggedInCallback:this.closeQuickAuth,askPostalCode:!0}))}},{key:"renderContactFinder",value:function(){return u.a.createElement(ug,{action:this.props.action,contacts:this.props.contacts,selectIndividualContact:this.props.selectIndividualContact,user:this.props.user,locationField:this.getLocationField(),container:this.props.container})}},{key:"renderActionDetails",value:function(){return u.a.createElement(wm,{action:this.props.action,container:this.props.container,isEmbedded:this.props.isEmbedded})}},{key:"render",value:function(){var e=this.props.actionComponentClass;return this.state.showQuickAuth?u.a.createElement("div",{className:"bst-row"},!this.props.isEmbedded&&ge.a.hasDetails(this.props.action)&&this.renderActionDetails(),u.a.createElement(Nm,{action:this.props.action,goal:this.props.goal,count:this.props.count,container:this.props.container},u.a.createElement(Mm,{bottomBorder:this.props.bottomBorder},this.renderQuickAuth()),this.props.isEmbedded&&ge.a.hasDetails(this.props.action)&&u.a.createElement(Ih,{accordionOpen:this.props.accordionOpen,toggleAccordion:this.props.toggleAccordion},this.renderActionDetails()))):this.props.card===Gy.a.VerifyContact?u.a.createElement("div",{className:"bst-row"},!this.props.isEmbedded&&ge.a.hasDetails(this.props.action)&&this.renderActionDetails(),u.a.createElement(Nm,{action:this.props.action,goal:this.props.goal,count:this.props.count,container:this.props.container},u.a.createElement(Mm,{bottomBorder:this.props.bottomBorder,verticalAlignment:this.props.verticalAlignment},this.renderContactFinder()),this.props.isEmbedded&&ge.a.hasDetails(this.props.action)&&u.a.createElement(Ih,{accordionOpen:this.props.accordionOpen,toggleAccordion:this.props.toggleAccordion},this.renderActionDetails()))):u.a.createElement(e,this.props.actionComponentProps)}}]),t}();function bg(e){return(bg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function gg(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function vg(e,t){return!t||"object"!==bg(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function wg(e){return(wg=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function kg(e,t){return(kg=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}yg.defaultProps={bottomBorder:!1,verticalAlignment:"justify-content-center"},yg.propTypes={action:pi.a.Action.isRequired,bottomBorder:y.a.bool,card:y.a.string.isRequired,contacts:y.a.arrayOf(pi.a.Contact).isRequired,dataShare:y.a.bool,user:pi.a.User,verticalAlignment:y.a.oneOf(["justify-content-start","justify-content-center","justify-content-end","justify-content-between","justify-content-around"])};var Og=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),vg(this,wg(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&kg(e,t)}(t,u.a.Component),function(e,t,n){t&&gg(e.prototype,t),n&&gg(e,n)}(t,[{key:"render",value:function(){var e=this.props.contacts?this.props.contacts[0]:void 0,n=Object.assign({contact:e},this.props);return u.a.createElement(yg,{action:this.props.action,actionComponentClass:tb,actionComponentProps:n,card:this.props.card,contacts:t.filterContactsWithoutPhoneNumbers(this.props.contacts),selectIndividualContact:!0,dataShare:this.props.dataShare,user:this.props.user,container:this.props.container,isEmbedded:this.props.isEmbedded,accordionOpen:this.props.accordionOpen,toggleAccordion:this.props.toggleAccordion})}}],[{key:"filterContactsWithoutPhoneNumbers",value:function(e){return null!==e?bt.a.filter(e,function(e){return!!e.phone_number}):null}}]),t}();Og.propTypes={action:pi.a.Call.isRequired,card:y.a.string.isRequired,contacts:y.a.arrayOf(pi.a.Contact).isRequired,dataShare:y.a.bool,user:pi.a.User};var _g=n(128);function Cg(e){return(Cg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Sg(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Eg(e,t){return!t||"object"!==Cg(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Pg(e){return(Pg=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function jg(e,t){return(jg=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ng=b.a.div.withConfig({displayName:"text-box-options__Container",componentId:"qun1q5-0"})(["&,label{color:",";font-family:",";font-size:",";margin-bottom:0;}"],g.a.mediumGray,g.a.primaryFontFamilyBold,g.a.xsmallBaseFont);Ng.displayName="Container";var Tg=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Eg(this,Pg(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&jg(e,t)}(t,u.a.Component),function(e,t,n){t&&Sg(e.prototype,t),n&&Sg(e,n)}(t,[{key:"render",value:function(){return u.a.createElement(Ng,{className:"bst-row align-items-center text-uppercase ".concat(this.props.className)},this.props.children)}}]),t}();function xg(e){return(xg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ig(){return(Ig=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}function Ag(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Lg(e){return(Lg=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Rg(e,t){return(Rg=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Mg(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}Tg.propTypes={className:y.a.string,children:y.a.node};var Bg=b.a.div.withConfig({displayName:"min-length-text-box__CharactersRemaining",componentId:"sc-1egq84r-0"})([""]);Bg.displayName="CharactersRemaining";var Dg=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(Mg(Mg(n=function(e,t){return!t||"object"!==xg(t)&&"function"!=typeof t?Mg(e):t}(this,Lg(t).call(this,e)))),"updateText",function(e){n.setText(e.target.value)}),n.state={text:n.props.emailBody},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Rg(e,t)}(t,u.a.Component),function(e,t,n){t&&Ag(e.prototype,t),n&&Ag(e,n)}(t,[{key:"setText",value:function(e){this.setState({text:e}),this.props.onTextBoxChange(e),e.length>=this.props.minLength&&this.props.onCharacterLimitMet(),this.state.text.length>=this.props.minLength&&e.length<this.props.minLength&&this.props.onCharacterLimitNoLongerMet()}},{key:"textLength",value:function(){return this.state.text.length}},{key:"characterLimitMet",value:function(){return this.charactersRemaining()<=0}},{key:"charactersRemaining",value:function(){return this.props.minLength-this.textLength()}},{key:"charactersRemainingMessage",value:function(){return this.props.showCharsRemaining&&!this.characterLimitMet()?Object(v.c)("{{ textLength }}/{{ minLength }} Characters",{minLength:this.props.minLength,textLength:this.textLength()}):u.a.createElement(bb,Ig({user:this.props.user,completeAction:this.props.completeAction,containerClass:this.props.containerClass,buttonWrapperClass:this.props.buttonWrapperClass,smallButton:this.props.smallButton},this.props))}},{key:"render",value:function(){return u.a.createElement("div",null,u.a.createElement(_g.a,{onChange:this.updateText,placeholder:this.props.placeholder,value:this.state.text,className:"mb-4 ".concat(this.props.className)}),u.a.createElement(Tg,{className:"bst-row text-uppercase ".concat(this.props.className)},u.a.createElement("div",{className:"col-6"},this.props.children),u.a.createElement(Bg,{className:"col-6 text-right"},this.charactersRemainingMessage())))}}]),t}();function zg(e){return(zg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Wg(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Fg(e){return(Fg=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ug(e,t){return(Ug=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function qg(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Gg(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Dg.defaultProps={minLength:500,showCharsRemaining:!0,placeholder:"Write here...",buttonWrapperClass:"text-right",containerClass:"",onTextBoxChange:function(){},onCharacterLimitMet:function(){},onCharacterLimitNoLongerMet:function(){},emailBody:"",smallButton:!0};var Hg=b.a.span.withConfig({displayName:"email-info__FewerPointsWithTemplate",componentId:"sc-1q63qbp-0"})(["color:",";white-space:nowrap;font-weight:bold;"],g.a.primaryRed);Hg.displayName="FewerPointsWithTemplate";var Vg=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Gg(qg(qg(n=function(e,t){return!t||"object"!==zg(t)&&"function"!=typeof t?qg(e):t}(this,Fg(t).call(this,e)))),"setEmailBody",function(e){n.setState({emailBody:e})}),Gg(qg(qg(n)),"onUseTemplateCheckboxChange",function(e){n.setState({useTemplate:e.target.checked}),e.target.checked?n.minLengthTextBox.current.setText(n.templateText()):!1===e.target.checked&&n.minLengthTextBox.current.setText("")}),Gg(qg(qg(n)),"enableAction",function(){Zd.a.enableAction(n.props.action.id)}),Gg(qg(qg(n)),"disableAction",function(){Zd.a.disableAction(n.props.action.id)}),n.state={useTemplate:n.props.actionData.use_template,emailBody:n.props.actionData.body},n.minLengthTextBox=u.a.createRef(),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ug(e,t)}(t,u.a.Component),function(e,t,n){t&&Wg(e.prototype,t),n&&Wg(e,n)}(t,[{key:"emailData",value:function(){return{use_template:this.state.useTemplate,body:this.state.emailBody}}},{key:"emailReadyToSend",value:function(){return this.minLengthTextBox.current.characterLimitMet()}},{key:"templateText",value:function(){return void 0===this.props.action.email_template_body?"":this.props.action.email_template_body}},{key:"showFewerPoints",value:function(){var e=this.props.action.points-this.props.action.email_points_with_template,t=e>1?"points":"point";return e>0?u.a.createElement(Hg,null,"-",e," ",t):null}},{key:"useTemplateCheckbox",value:function(){return!!this.props.action.email_enable_template&&[u.a.createElement("label",null,u.a.createElement("input",{type:"checkbox",onChange:this.onUseTemplateCheckboxChange}),Object(v.c)("Use template")," ",this.showFewerPoints())]}},{key:"render",value:function(){return this.props.card===Gy.a.TakeAction&&u.a.createElement(Dg,{ref:this.minLengthTextBox,onTextBoxChange:this.setEmailBody,onCharacterLimitMet:this.enableAction,onCharacterLimitNoLongerMet:this.disableAction,completeAction:this.props.completeAction,user:this.props.user,action:this.props.action,actionEnabled:this.props.actionEnabled,emailBody:this.state.emailBody},this.useTemplateCheckbox())}}]),t}();function Yg(e){return(Yg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Qg(){return(Qg=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}function Kg(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Jg(e){return(Jg=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Zg(e,t){return(Zg=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function $g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Xg(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Vg.defaultProps={actionData:{use_template:!1,body:""}};var ev=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Xg($g($g(n=function(e,t){return!t||"object"!==Yg(t)&&"function"!=typeof t?$g(e):t}(this,Jg(t).call(this,e)))),"tryCompleteAction",function(){return n.setState({actionData:n.actionData()}),n.props.user.authenticated||n.props.user.is_shadow?Promise.resolve().then(function(){return Zd.a.completeAction(n.props.action.id,n.state.actionData,n.finalize)}):(n.setState({showQuickAuth:!0}),null)}),Xg($g($g(n)),"doCompleteAction",function(){Zd.a.completeAction(n.props.action.id,n.state.actionData)}),Xg($g($g(n)),"finalize",function(){Zd.a.finalizeCompleteAction(n.props.action.id)}),Xg($g($g(n)),"renderActionDetails",function(){return u.a.createElement(wm,{action:n.props.action,container:n.props.container,isEmbedded:n.props.isEmbedded})}),n.state={showQuickAuth:!1},n.emailInfo=u.a.createRef(),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Zg(e,t)}(t,u.a.Component),function(e,t,n){t&&Kg(e.prototype,t),n&&Kg(e,n)}(t,[{key:"componentWillMount",value:function(){Zd.a.enableAction.defer(this.props.action.id)}},{key:"actionData",value:function(){return Object.assign(this.emailInfo.current.emailData(),{follow_partner:this.props.dataShare,action_set_id:this.props.actionSetId})}},{key:"render",value:function(){return u.a.createElement("div",{className:"bst-row"},!this.props.isEmbedded&&ge.a.hasDetails(this.props.action)&&this.renderActionDetails(),u.a.createElement(Nm,{action:this.props.action,goal:this.props.goal,count:this.props.count,container:this.props.container},this.state.showQuickAuth?u.a.createElement(qy,{elementName:"Email auth",initialCard:Ly.SignUp,loggedInCallback:this.doCompleteAction,action:this.props.action,dataShare:this.props.dataShare,askPostalCode:!0}):[u.a.createElement(Mm,{bottomBorder:this.props.bottomBorder},u.a.createElement(Vg,Qg({ref:this.emailInfo,actionData:this.state.actionData,completeAction:this.tryCompleteAction},this.props)))],this.props.isEmbedded&&ge.a.hasDetails(this.props.action)&&u.a.createElement(Ih,{accordionOpen:this.props.accordionOpen,toggleAccordion:this.props.toggleAccordion},this.renderActionDetails())))}}]),t}();function tv(e){return(tv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function nv(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function ov(e,t){return!t||"object"!==tv(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function rv(e){return(rv=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function av(e,t){return(av=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}ev.defaultProps={bottomBorder:!1};var iv=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),ov(this,rv(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&av(e,t)}(t,u.a.Component),function(e,t,n){t&&nv(e.prototype,t),n&&nv(e,n)}(t,[{key:"render",value:function(){return u.a.createElement(yg,{action:this.props.action,actionComponentClass:ev,actionComponentProps:this.props,card:this.props.card,contacts:this.props.contacts,dataShare:this.props.dataShare,user:this.props.user,container:this.props.container,isEmbedded:this.props.isEmbedded,accordionOpen:this.props.accordionOpen,toggleAccordion:this.props.toggleAccordion})}}]),t}();function sv(e){return(sv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function cv(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function lv(e){return(lv=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function uv(e,t){return(uv=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function pv(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}iv.propTypes={action:pi.a.Email.isRequired,card:y.a.string.isRequired,contacts:y.a.arrayOf(pi.a.Contact).isRequired,dataShare:y.a.bool,user:pi.a.User};var fv=Object(b.a)(Tg).withConfig({displayName:"max-length-text-box__TextBoxOptionsAlt",componentId:"sc-19f1lp0-0"})(["border-bottom:",";"],g.a.baseBorder);fv.displayName="Container";var dv=b.a.div.withConfig({displayName:"max-length-text-box__CharactersRemaining",componentId:"sc-19f1lp0-1"})([""]);dv.displayName="CharactersRemaining";var mv=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=function(e,t){return!t||"object"!==sv(t)&&"function"!=typeof t?pv(e):t}(this,lv(t).call(this,e))).setText=n.setText.bind(pv(pv(n))),n.updateText=n.updateText.bind(pv(pv(n))),n.state={text:n.props.text},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&uv(e,t)}(t,u.a.Component),function(e,t,n){t&&cv(e.prototype,t),n&&cv(e,n)}(t,[{key:"setText",value:function(e){this.setState({text:e}),this.props.updateText&&this.props.updateText(e),e.length<=this.props.maxLength&&this.props.onCharacterLimitMet(),this.state.text.length<=this.props.maxLength&&e.length>this.props.maxLength&&this.props.onCharacterLimitNoLongerMet()}},{key:"updateText",value:function(e){this.setText(e.target.value)}},{key:"textLength",value:function(){return this.state.text.length}},{key:"characterLimitMet",value:function(){return this.charactersRemaining()>=0}},{key:"charactersRemaining",value:function(){return this.props.maxLength-this.textLength()}},{key:"charactersRemainingMessage",value:function(){return Object(v.c)("{{ textLength }}/{{ maxLength }} Characters",{maxLength:this.props.maxLength,textLength:this.textLength()})}},{key:"render",value:function(){return u.a.createElement("div",null,u.a.createElement(fv,{className:"pb-3 bst-row text-uppercase ".concat(this.props.className)},u.a.createElement("div",{className:"col-6"},this.props.children),u.a.createElement(dv,{className:"col-6 text-right"},this.charactersRemainingMessage())),u.a.createElement(_g.a,{onChange:this.updateText,placeholder:this.props.placeholder,value:this.state.text,className:"mt-3 ".concat(this.props.className),disabled:this.props.disabled}))}}]),t}();function hv(e){return(hv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function yv(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function bv(e){return(bv=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function gv(e,t){return(gv=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function vv(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}mv.defaultProps={maxLength:280,showCharsRemaining:!0,placeholder:"Write here...",buttonWrapperClass:"text-right",text:"",onCharacterLimitMet:function(){},onCharacterLimitNoLongerMet:function(){},disabled:!1,updateText:null};var wv=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=function(e,t){return!t||"object"!==hv(t)&&"function"!=typeof t?vv(e):t}(this,bv(t).call(this,e))).state={useTemplate:!0},n.maxLengthTextBox=u.a.createRef(),n.enableAction=n.enableAction.bind(vv(vv(n))),n.disableAction=n.disableAction.bind(vv(vv(n))),n.onUseTemplateCheckboxChange=n.onUseTemplateCheckboxChange.bind(vv(vv(n))),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&gv(e,t)}(t,u.a.Component),function(e,t,n){t&&yv(e.prototype,t),n&&yv(e,n)}(t,[{key:"enableAction",value:function(){return Zd.a.enableAction(this.props.action.id)}},{key:"disableAction",value:function(){return Zd.a.disableAction(this.props.action.id)}},{key:"templateText",value:function(){return this.props.tweetTextOverride?this.props.tweetTextOverride:this.props.action.tweet_text}},{key:"onUseTemplateCheckboxChange",value:function(e){this.setState({useTemplate:e.target.checked}),!0===e.target.checked?this.maxLengthTextBox.current.setText(this.templateText()):!1===e.target.checked&&this.maxLengthTextBox.current.setText("")}},{key:"useTemplateCheckbox",value:function(){return u.a.createElement("label",null,u.a.createElement("input",{type:"checkbox",onChange:this.onUseTemplateCheckboxChange,checked:this.state.useTemplate}),Object(v.c)("Use template"))}},{key:"render",value:function(){return u.a.createElement(mv,{ref:this.maxLengthTextBox,onCharacterLimitMet:this.enableAction,onCharacterLimitNoLongerMet:this.disableAction,completeAction:this.props.completeAction,user:this.props.user,action:this.props.action,actionEnabled:this.props.actionEnabled,text:this.props.tweetText,disabled:this.state.useTemplate,updateText:this.props.updateTweet},this.useTemplateCheckbox())}}]),t}();function kv(e){return(kv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ov(){return(Ov=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}function _v(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Cv(e){return(Cv=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Sv(e,t){return(Sv=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ev(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Pv(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}wv.propTypes={tweetText:y.a.string};var jv=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Pv(Ev(Ev(n=function(e,t){return!t||"object"!==kv(t)&&"function"!=typeof t?Ev(e):t}(this,Cv(t).call(this,e)))),"tryCompleteAction",function(){return n.props.user.authenticated||n.props.user.is_shadow?Promise.resolve().then(n.doCompleteAction).then(n.finalize):(n.setState({showQuickAuth:!0}),null)}),Pv(Ev(Ev(n)),"loggedIn",function(){n.setState({showQuickAuth:!1})}),Pv(Ev(Ev(n)),"doCompleteAction",function(){n.state.leaveAMessage||n.openTweetWindow(),Zd.a.completeAction(n.props.action.id,{follow_partner:n.props.dataShare,action_set_id:n.props.actionSetId})}),Pv(Ev(Ev(n)),"finalize",function(){return Zd.a.finalizeCompleteAction(n.props.action.id)}),n.state={leaveAMessage:n.isMissingAllTwitterHandles(),showQuickAuth:!1,tweetText:n.props.tweetTextOverride||n.props.action.tweet_text},n.updateTweetText=n.updateTweetText.bind(Ev(Ev(n))),n.getTweetText=n.getTweetText.bind(Ev(Ev(n))),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Sv(e,t)}(t,u.a.Component),function(e,t,n){t&&_v(e.prototype,t),n&&_v(e,n)}(t,[{key:"componentWillMount",value:function(){this.state.leaveAMessage?Zd.a.disableAction.defer(this.props.action.id):Zd.a.enableAction.defer(this.props.action.id)}},{key:"isMissingAllTwitterHandles",value:function(){return!!this.props.contacts&&bt.a.every(this.props.contacts,function(e){return""===e.twitter_handle})}},{key:"getTweetText",value:function(){return this.state.tweetText}},{key:"updateTweetText",value:function(e){this.setState({tweetText:e})}},{key:"tweetURL",value:function(){var e=encodeURIComponent(this.getTweetText());return"https://twitter.com/intent/tweet?text=".concat(e)}},{key:"openTweetWindow",value:function(){window.open(this.tweetURL(),"_blank","height=300, width=500")}},{key:"completeActionButtonText",value:function(){return this.state.leaveAMessage?Object(v.c)("Leave your message"):this.props.action.button_text||Object(v.c)("Post Tweet")}},{key:"renderActionDetails",value:function(){return u.a.createElement(wm,{action:this.props.action,container:this.props.container,isEmbedded:this.props.isEmbedded})}},{key:"render",value:function(){return!this.props.action.tweet_enable_message&&this.isMissingAllTwitterHandles()?u.a.createElement(Zm.a,{actionError:Object(v.c)("We are unable to find your representative's twitter handle.")}):u.a.createElement("div",{className:"bst-row"},!this.props.isEmbedded&&ge.a.hasDetails(this.props.action)&&this.renderActionDetails(),u.a.createElement(Nm,{action:this.props.action,container:this.props.container},this.state.showQuickAuth?u.a.createElement(qy,{elementName:"Tweet auth",initialCard:Ly.SignUp,loggedInCallback:this.loggedIn,action:this.props.action,dataShare:this.props.dataShare,askPostalCode:!0}):[u.a.createElement(Mm,{bottomBorder:!1},u.a.createElement(wv,Ov({ref:"tweetInfo",leaveAMessage:this.state.leaveAMessage,tweetText:this.getTweetText(),updateTweet:this.updateTweetText},this.props))),u.a.createElement(bb,Ov({completeAction:this.tryCompleteAction,completeActionButtonText:this.completeActionButtonText(),buttonWrapperClass:"text-right"},this.props))],this.props.isEmbedded&&ge.a.hasDetails(this.props.action)&&u.a.createElement(Ih,{accordionOpen:this.props.accordionOpen,toggleAccordion:this.props.toggleAccordion},this.renderActionDetails())))}}]),t}();function Nv(e){return(Nv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Tv(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function xv(e,t){return!t||"object"!==Nv(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Iv(e){return(Iv=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Av(e,t){return(Av=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}jv.propTypes={tweetTextOverride:y.a.string};var Lv=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),xv(this,Iv(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Av(e,t)}(t,u.a.Component),function(e,t,n){t&&Tv(e.prototype,t),n&&Tv(e,n)}(t,[{key:"getTweetText",value:function(){var e=bt.a.filter(this.props.contacts,function(e){return e.twitter_handle}).map(function(e){return"@"+e.twitter_handle}),t=this.props.action.tweet_text;return t=t.replace("{}",e.join(" "))}},{key:"render",value:function(){var e=Object.assign({tweetTextOverride:this.getTweetText()},this.props);return u.a.createElement(yg,{action:this.props.action,actionComponentClass:jv,actionComponentProps:e,card:this.props.card,contacts:this.props.contacts,dataShare:this.props.dataShare,user:this.props.user,container:this.props.container,isEmbedded:this.props.isEmbedded,accordionOpen:this.props.accordionOpen,toggleAccordion:this.props.toggleAccordion})}}]),t}();function Rv(e){return(Rv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Mv(){return(Mv=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}function Bv(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Dv(e){return(Dv=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function zv(e,t){return(zv=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Wv(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Fv(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Lv.propTypes={action:pi.a.Tweet.isRequired,card:y.a.string.isRequired,contacts:y.a.arrayOf(pi.a.Contact).isRequired,dataShare:y.a.bool,user:pi.a.User};var Uv=b.a.div.withConfig({displayName:"partner-action__Container",componentId:"sc-1f8pwls-0"})([""]);Uv.displayName="Container";var qv=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Fv(Wv(Wv(n=function(e,t){return!t||"object"!==Rv(t)&&"function"!=typeof t?Wv(e):t}(this,Dv(t).call(this,e)))),"tryCompleteAction",function(){n.props.user.authenticated||n.props.user.is_shadow?n.doCompleteAction():n.setState({showQuickAuth:!0})}),Fv(Wv(Wv(n)),"changeWindowLocation",function(e){return window.open(e,"_blank")}),Fv(Wv(Wv(n)),"doCompleteAction",function(){n.changeWindowLocation(n.props.action.partner_action_link),n.setState({showMessage:!0})}),Fv(Wv(Wv(n)),"checkAction",function(){return Zd.a.getCompletedAction(n.props.action.id,{success:function(){return Zd.a.finalizeCompleteAction(n.props.action.id)},error:function(){}})}),Fv(Wv(Wv(n)),"closeQuickAuth",function(){return n.setState({showQuickAuth:!1})}),n.state={showQuickAuth:n.props.user.is_shadow,showMessage:!1},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&zv(e,t)}(t,u.a.Component),function(e,t,n){t&&Bv(e.prototype,t),n&&Bv(e,n)}(t,[{key:"componentWillMount",value:function(){Zd.a.enableAction.defer(this.props.action.id)}},{key:"renderActionDetails",value:function(){return u.a.createElement(wm,{action:this.props.action,container:this.props.container,isEmbedded:this.props.isEmbedded})}},{key:"render",value:function(){return this.state.showMessage?u.a.createElement(Dh,{action:this.props.action,headline:Object(v.c)("Action in progress"),errorMessage:Object(v.c)("We will email you as soon as our partner has confirmed that you have completed the action with them and your points have been awarded."),errorBackground:g.a.darkGray,buttonText:Object(v.c)("Update status"),handleClick:this.checkAction,container:this.props.container,isEmbedded:this.props.isEmbedded,accordionOpen:this.props.accordionOpen,toggleAccordion:this.props.toggleAccordion}):u.a.createElement(Uv,{className:"bst-row"},!this.props.isEmbedded&&ge.a.hasDetails(this.props.action)&&this.renderActionDetails(),u.a.createElement(Nm,{action:this.props.action,container:this.props.container},this.state.showQuickAuth?u.a.createElement(qy,{elementName:"Partner action auth",initialCard:Ly.SignUp,doneCallback:this.closeQuickAuth,action:this.props.action,dataShare:this.props.dataShare,askPostalCode:!0}):[u.a.createElement(Mm,{fillContainer:this.props.fillContainer,bottomBorder:this.props.bottomBorder},u.a.createElement("p",{className:"mb-4"},this.props.action.instructions)),u.a.createElement(bb,Mv({},this.props,{completeActionButtonText:this.props.action.button_text,completeAction:this.tryCompleteAction,buttonWrapperClass:this.props.buttonWrapperClass,actionEnabled:!0}))],this.props.isEmbedded&&ge.a.hasDetails(this.props.action)&&u.a.createElement(Ih,{accordionOpen:this.props.accordionOpen,toggleAccordion:this.props.toggleAccordion},this.renderActionDetails())))}}]),t}();function Gv(e){return(Gv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Hv(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Vv(e,t){return!t||"object"!==Gv(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Yv(e){return(Yv=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Qv(e,t){return(Qv=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}qv.defaultProps={fillContainer:!0,bottomBorder:!1,buttonWrapperClass:"text-right"};var Kv=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Vv(this,Yv(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Qv(e,t)}(t,u.a.Component),function(e,t,n){t&&Hv(e.prototype,t),n&&Hv(e,n)}(t,[{key:"render",value:function(){return this.props.card===Gy.a.TakeAction&&u.a.createElement("div",null,this.props.action.petition_body)}}]),t}();function Jv(e){return(Jv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Zv(){return(Zv=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}function $v(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Xv(e){return(Xv=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ew(e,t){return(ew=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function tw(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function nw(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Kv.propTypes={action:y.a.object.isRequired,card:y.a.string};var ow=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),nw(tw(tw(n=function(e,t){return!t||"object"!==Jv(t)&&"function"!=typeof t?tw(e):t}(this,Xv(t).call(this,e)))),"doCompleteAction",function(){Zd.a.completeAction(n.props.action.id,{follow_partner:n.props.dataShare,action_set_id:n.props.actionSetId},function(){return Zd.a.finalizeCompleteAction(n.props.action.id)})}),nw(tw(tw(n)),"tryCompleteAction",function(){return n.props.user.authenticated||n.props.user.is_shadow?Promise.resolve().then(n.doCompleteAction):n.setState({showQuickAuth:!0})}),nw(tw(tw(n)),"renderActionDetails",function(){return u.a.createElement(wm,{action:n.props.action,container:n.props.container,isEmbedded:n.props.isEmbedded})}),n.state={showQuickAuth:!1},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ew(e,t)}(t,u.a.Component),function(e,t,n){t&&$v(e.prototype,t),n&&$v(e,n)}(t,[{key:"componentWillMount",value:function(){Zd.a.enableAction.defer(this.props.action.id)}},{key:"render",value:function(){return u.a.createElement("div",{className:"bst-row"},!this.props.isEmbedded&&ge.a.hasDetails(this.props.action)&&this.renderActionDetails(),u.a.createElement(Nm,{action:this.props.action,container:this.props.container},this.state.showQuickAuth?u.a.createElement(qy,{elementName:"Petition auth",initialCard:Ly.SignUp,loggedInCallback:this.doCompleteAction,action:this.props.action,dataShare:this.props.dataShare,askPostalCode:!0}):[u.a.createElement(Mm,{scroll:this.props.scroll},u.a.createElement(Kv,this.props)),u.a.createElement(bb,Zv({completeAction:this.tryCompleteAction},this.props))],this.props.isEmbedded&&ge.a.hasDetails(this.props.action)&&u.a.createElement(Ih,{accordionOpen:this.props.accordionOpen,toggleAccordion:this.props.toggleAccordion},this.renderActionDetails())))}}]),t}();ow.defaultProps={scroll:!0};var rw={unanswered:"unanswered",answering:"answering",answered:"answered",takeQuiz:"take-quiz",doneQuiz:"done-quiz"};function aw(e){return(aw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function iw(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function sw(e,t){return!t||"object"!==aw(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function cw(e){return(cw=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function lw(e,t){return(lw=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var uw=b.a.div.withConfig({displayName:"quiz-details__Container",componentId:"sc-1f4hpt2-0"})([""]);uw.displayName="Container";var pw=b.a.div.withConfig({displayName:"quiz-details__AnswerCount",componentId:"sc-1f4hpt2-1"})([""]);pw.displayName="AnswerCount";var fw=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),sw(this,cw(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&lw(e,t)}(t,u.a.Component),function(e,t,n){t&&iw(e.prototype,t),n&&iw(e,n)}(t,[{key:"renderAnswerCount",value:function(){return this.props.quizCorrectCount&&this.props.quizCorrectCount>0?u.a.createElement(pw,{className:"full-width"===this.props.container&&"mb-4"},Object(v.c)("You've answered {{answerCount}} correctly",{answerCount:this.props.quizCorrectCount})):null}},{key:"renderClassName",value:function(){var e=["".concat(this.props.className," align-self-center mb-4 mb-lg-0")];return"full-width"===this.props.container?e.push("col-12"):e.push("col-xl-4 col-lg-4 col-md-12"),e.join(" ")}},{key:"render",value:function(){return this.props.quizProgressIndex&&this.props.quizTotalQuestionCount?u.a.createElement(uw,{className:this.renderClassName()},u.a.createElement("h4",{className:"mb-2"},Object(v.c)("Question {{ questionNumber }} of {{ total }}",{questionNumber:this.props.quizProgressIndex,total:this.props.quizTotalQuestionCount})),this.renderAnswerCount()):null}}]),t}();function dw(e){return(dw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function mw(){return(mw=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}function hw(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function yw(e){return(yw=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function bw(e,t){return(bw=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function gw(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function vw(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}fw.propTypes={quizCorrectCount:y.a.number,quizProgressIndex:y.a.number,quizTotalQuestionCount:y.a.number};var ww=Object(b.a)(Mm).withConfig({displayName:"quiz__QuizContent",componentId:"sc-1oiazc1-0"})(["font-family:",";font-size:",";padding-bottom:2.5rem;"],g.a.primaryFontFamilyBold,g.a.largeBaseFont),kw=b.a.p.withConfig({displayName:"quiz__QuestionText",componentId:"sc-1oiazc1-1"})([""]),Ow=b.a.ul.withConfig({displayName:"quiz__AnswerList",componentId:"sc-1oiazc1-2"})([""]),_w=b.a.li.withConfig({displayName:"quiz__ListItem",componentId:"sc-1oiazc1-3"})(["border-top:2px solid ",";overflow:hidden;position:relative;&:hover,&.selected-answer{background:",";}&:hover{cursor:pointer;}&:last-child{border-bottom:2px solid ",";}&.correct-answer{background:",";i{color:",";}}&.wrong-answer{i{color:",";}}"],g.a.mediumGray,g.a.alto,g.a.mediumGray,g.a.lightGreen,g.a.green,g.a.primaryRed);_w.displayName="ListItem";var Cw=b.a.span.withConfig({displayName:"quiz__AnswerText",componentId:"sc-1oiazc1-4"})(["overflow:hidden;position:relative;"]),Sw=b.a.span.withConfig({displayName:"quiz__Explanation",componentId:"sc-1oiazc1-5"})(["font-family:",";font-size:",";"],g.a.primaryFontFamily,g.a.smallBaseFont),Ew=b.a.i.withConfig({displayName:"quiz__Icon",componentId:"sc-1oiazc1-6"})(["font-size:",";height:14px;"],g.a.baseFontSize);Ew.displayName="Icon";var Pw=Object(b.a)(ve.a).withConfig({displayName:"quiz__SubmitButton",componentId:"sc-1oiazc1-7"})([""]);Pw.displayName="SubmitButton";var jw=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),vw(gw(gw(n=function(e,t){return!t||"object"!==dw(t)&&"function"!=typeof t?gw(e):t}(this,yw(t).call(this,e)))),"selectAnswer",function(e){if(!n.answered()){var t=e.target,o=t.innerText?t.innerText.trim():t.textContent.trim();n.setState({step:"answering",answer:o})}}),vw(gw(gw(n)),"submitAnswer",function(){if(!n.answered()){var e=n.currentQuestion().answers.find(function(e){return!0===e.correct}),t=n.state.correctCount;e.text===n.state.answer&&(t+=1);var o=rw.answered;n.state.questionIndex===n.totalQuestionCount()-1&&(o=rw.doneQuiz),n.setState(function(e){return{step:o,correctCount:t,progressBarIndex:e.progressBarIndex+1}})}}),vw(gw(gw(n)),"tryCompleteAction",function(){return n.props.user.authenticated||n.props.user.is_shadow?n.doCompleteAction():n.setState({showQuickAuth:!0})}),vw(gw(gw(n)),"doCompleteAction",function(){Zd.a.completeAction(n.props.action.id,{follow_partner:n.props.dataShare,action_set_id:n.props.actionSetId,quizCorrectCount:n.state.correctCount},function(){return Zd.a.finalizeCompleteAction(n.props.action.id)})}),vw(gw(gw(n)),"nextQuestion",function(){n.setState(function(e){return{step:rw.unanswered,answer:null,questionIndex:e.questionIndex+1}})}),n.state={questionIndex:0,progressBarIndex:0,correctCount:0,step:rw.unanswered,answer:null,showQuickAuth:!1},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&bw(e,t)}(t,u.a.Component),function(e,t,n){t&&hw(e.prototype,t),n&&hw(e,n)}(t,[{key:"componentWillMount",value:function(){Zd.a.enableAction.defer(this.props.action.id)}},{key:"unanswered",value:function(){return this.state.step===rw.unanswered}},{key:"answered",value:function(){return[rw.answered,rw.doneQuiz].includes(this.state.step)}},{key:"doneQuiz",value:function(){return this.state.step===rw.doneQuiz}},{key:"totalQuestionCount",value:function(){return this.props.action.quiz_questions.length}},{key:"currentQuestion",value:function(){return this.props.action.quiz_questions[this.state.questionIndex]}},{key:"humanQuestionIndex",value:function(){return this.state.questionIndex+1}},{key:"formatAnswers",value:function(e){var t=this;return e.answers.map(function(n,o){var r=n.text,a=[],i="",s=!1;return t.state.answer===r&&a.push("selected-answer"),t.answered()&&n.correct&&(a.push("correct-answer"),i="fas fa-check",s=u.a.createElement(Sw,{className:"mt-2 d-block ".concat(t.props.className)},e.explanatory_text)),t.answered()&&!n.correct&&t.state.answer===r&&(a.push("wrong-answer"),i="fas fa-times"),u.a.createElement(_w,{className:"p-2 ".concat(a.join(" ")),onClick:t.selectAnswer,onTouchStart:t.selectAnswer,key:o},u.a.createElement(Cw,{className:"d-flex ".concat(t.props.className)},r,u.a.createElement(Ew,{className:"ml-auto my-auto ".concat(i)})),s)})}},{key:"renderAnswers",value:function(e){var t=this.formatAnswers(e);return u.a.createElement(Ow,{className:this.props.className},t)}},{key:"renderTakeAction",value:function(){return this.doneQuiz()?u.a.createElement(bb,mw({},this.props,{completeActionButtonText:Object(v.c)("Finish quiz"),completeAction:this.tryCompleteAction,card:Gy.a.TakeAction,actionEnabled:!0})):this.answered()?u.a.createElement(ve.a,{handleClick:this.nextQuestion,buttonText:Object(v.c)("Next question"),className:"btn d-block my-0 mt-4 mx-auto"}):u.a.createElement(Pw,{handleClick:this.submitAnswer,disabled:this.unanswered(),buttonText:Object(v.c)("Submit answer"),className:"btn d-block my-0 mt-4 mx-auto"})}},{key:"render",value:function(){return u.a.createElement("div",{className:"bst-row"},u.a.createElement(fw,{action:this.props.action,quizProgressIndex:this.humanQuestionIndex(),quizCorrectCount:this.state.correctCount,quizTotalQuestionCount:this.totalQuestionCount(),container:this.props.container}),u.a.createElement(Nm,{action:this.props.action,goal:this.totalQuestionCount(),count:this.state.progressBarIndex,container:this.props.container},this.state.showQuickAuth?[u.a.createElement(Zm.a,this.props),u.a.createElement(qy,{elementName:"Quiz auth",initialCard:Ly.SignUp,loggedInCallback:this.doCompleteAction,action:this.props.action,dataShare:this.props.dataShare,askPostalCode:!0})]:u.a.createElement("div",null,u.a.createElement(ww,null,u.a.createElement(kw,{className:"".concat(this.props.className," mb-4")},this.currentQuestion().question_text),this.renderAnswers(this.currentQuestion())),this.renderTakeAction()),this.props.isEmbedded&&ge.a.hasDetails(this.props.action)&&u.a.createElement(Ih,{accordionOpen:this.props.accordionOpen,toggleAccordion:this.props.toggleAccordion},u.a.createElement(wm,{action:this.props.action,container:this.props.container,isEmbedded:this.props.isEmbedded}))))}}]),t}();function Nw(e){return(Nw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Tw(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function xw(e,t){return!t||"object"!==Nw(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Iw(e){return(Iw=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Aw(e,t){return(Aw=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}jw.defaultProps={container:"split"};var Lw=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),xw(this,Iw(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Aw(e,t)}(t,u.a.Component),function(e,t,n){t&&Tw(e.prototype,t),n&&Tw(e,n)}(t,[{key:"render",value:function(){return u.a.createElement("div",{className:"".concat(this.props.className," social-share-buttons")},u.a.createElement(ve.a,{handleClick:Pe.a.bind(this,"facebook",this.props.shareItem,this.props.shareItemType,this.props.shareItemText,this.props.shareItemQueryStringOptions,this.props.shareItemUrl),color:g.a.fbBlue,icon:u.a.createElement("i",{className:"fab fa-facebook-f"}),buttonText:Object(v.c)("Share")}),u.a.createElement(ve.a,{handleClick:Pe.a.bind(this,"twitter",this.props.shareItem,this.props.shareItemType,this.props.shareItemText,this.props.shareItemQueryStringOptions,this.props.shareItemUrl),icon:u.a.createElement("i",{className:"fab fa-twitter"}),color:g.a.twitterBlue,buttonText:Object(v.c)("Tweet")}),u.a.createElement(ve.a,{handleClick:Pe.a.bind(this,"email",this.props.shareItem,this.props.shareItemType,this.props.shareItemText,this.props.shareItemQueryStringOptions,this.props.shareItemUrl),icon:u.a.createElement("i",{className:"fas fa-envelope"}),color:g.a.primaryRed,buttonText:Object(v.c)("Email")}))}}]),t}();function Rw(e){return(Rw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Mw(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Bw(e){return(Bw=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Dw(e,t){return(Dw=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function zw(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ww(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Lw.defaultProps={shareItemQueryStringOptions:{}},Lw.propTypes={shareItem:y.a.object,shareItemType:y.a.string,shareItemText:y.a.string,shareItemQueryStringOptions:y.a.object};var Fw=Object(b.a)(Lw).withConfig({displayName:"thank-you__SocialShareButtonsAlt",componentId:"sc-13gdp61-0"})(["margin:0 auto;i{font-size:",";display:flex;align-items:center;position:absolute;left:20px;top:0;bottom:0;}&&&{button{display:block;position:relative;width:100%;min-width:125px;max-width:175px;margin-left:auto;margin-right:auto;margin-bottom:1rem;&:last-of-type{margin-bottom:0;}}}"],g.a.baseFontSize);b.a.div.withConfig({displayName:"thank-you__SocialShareButtonsContainer",componentId:"sc-13gdp61-1"})([""]).displayName="SocialShareButtonsContainer";var Uw=b.a.div.withConfig({displayName:"thank-you__ThanksContent",componentId:"sc-13gdp61-2"})([""]);Uw.displayName="ThanksContent";var qw=b.a.div.withConfig({displayName:"thank-you__PointsMessage",componentId:"sc-13gdp61-3"})([""]);qw.displayName="PointsMessage";var Gw=b.a.div.withConfig({displayName:"thank-you__RightCol",componentId:"sc-13gdp61-4"})([""]);Gw.displayName="RightCol";var Hw=b.a.h3.withConfig({displayName:"thank-you__QuizMessage",componentId:"sc-13gdp61-5"})(["&.correct{color:",";}&.incorrect{color:",";}"],g.a.green,g.a.primaryRed);Hw.displayName="QuizMessage";var Vw=b.a.span.withConfig({displayName:"thank-you__SkipOption",componentId:"sc-13gdp61-6"})(["color:",";cursor:pointer;font-weight:bold;"],g.a.primaryRed);Vw.displayName="SkipOption";var Yw=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Ww(zw(zw(n=function(e,t){return!t||"object"!==Rw(t)&&"function"!=typeof t?zw(e):t}(this,Bw(t).call(this,e)))),"getActionOrActionSet",function(){return n.props.actionSet||n.props.action}),Ww(zw(zw(n)),"skipPassword",function(){n.setState({showPasswordToShadowUser:!1})}),n.state={showPasswordToShadowUser:!0},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Dw(e,t)}(t,u.a.Component),function(e,t,n){t&&Mw(e.prototype,t),n&&Mw(e,n)}(t,[{key:"getPointsString",value:function(){var e=this.getActionOrActionSet().points_earned;if(!e)return"";var t=1===e?"point":"points";return"".concat(e," ").concat(t)}},{key:"pointsMessage",value:function(){var e=this.getPointsString();return e?{__html:Object(v.c)("You've earned {{ openPoints }}{{ points }}{{ closeSpan }}!",{openPoints:"<span class='thanks-content__points'>",closeSpan:"</span>",points:e,interpolation:{escape:!1}})}:{__html:""}}},{key:"renderQuizMessage",value:function(){if(this.props.action&&"quiz"===this.props.action.type){var e=this.props.action.quiz_correct_count,t=this.props.action.quiz_questions.length,n=100*e/t,o="".concat(this.props.className||""," ").concat(n<75?"incorrect":"correct"," mt-4");return u.a.createElement("div",null,u.a.createElement(Hw,{className:o},Object(v.c)("You answered {{ correctCount }} of {{ total }} correctly",{correctCount:e,total:t})))}return!1}},{key:"renderSkipPassword",value:function(){return u.a.createElement(Vw,{onClick:this.skipPassword},Object(v.c)("Skip this for now >"))}},{key:"renderThanksContentClass",value:function(){var e=["".concat(this.props.className," col-12 mb-4 text-center")];return"full-width"!==this.props.container&&e.push(" text-lg-left col-lg-6 col-xl-6 mb-lg-0"),e.join(" ")}},{key:"renderRightColClass",value:function(){var e=["".concat(this.props.className," col-12")];return"full-width"!==this.props.container&&e.push("col-xl-6 col-lg-6"),e.join(" ")}},{key:"render",value:function(){if(this.props.user&&this.props.user.is_shadow&&this.state.showPasswordToShadowUser){var e=this.getPointsString();return u.a.createElement("div",{className:"bst-row"},u.a.createElement(Nm,{progressBar:this.props.isEmbedded,styledContainer:this.props.isEmbedded,container:"full-width"},u.a.createElement("div",{className:"bst-row align-items-center"},u.a.createElement(Uw,{className:this.renderThanksContentClass()},e&&u.a.createElement("h4",{className:"mb-2"},Object(v.c)("You've earned {{ pointsString }}!",{pointsString:e})),t.renderCompleteSignUpMessage(),this.renderSkipPassword()),u.a.createElement(Gw,{className:this.renderRightColClass()},u.a.createElement(qy,{user:this.props.user,completeSignUp:!0,container:this.props.container})))))}return this.props.action&&"quiz"===this.props.action.type&&!Number.isInteger(this.props.action.quiz_correct_count)?u.a.createElement(jt.a,null):u.a.createElement("div",{className:"bst-row"},u.a.createElement(Nm,{progressBar:this.props.isEmbedded,styledContainer:this.props.isEmbedded,container:"full-width"},u.a.createElement("div",{className:"bst-row align-items-center"},u.a.createElement(Uw,{className:this.renderThanksContentClass()},u.a.createElement("h4",{className:"mb-2"},Object(v.c)("Thanks for taking action.")),u.a.createElement(qw,{dangerouslySetInnerHTML:this.pointsMessage()}),this.renderQuizMessage()),u.a.createElement(Gw,{className:this.renderRightColClass()},u.a.createElement(Fw,{shareItem:this.getActionOrActionSet(),shareItemType:this.props.actionSet?"actionSet":"action",shareItemText:this.getActionOrActionSet().title,className:this.props.className})))))}}],[{key:"renderCompleteSignUpMessage",value:function(){return u.a.createElement("div",{className:"mt-4 mb-4"},Object(v.c)("Sign up to claim your points and earn rewards, like tickets to shows by your favorite artists."))}}]),t}();function Qw(e){return(Qw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Kw(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Jw(e,t){return!t||"object"!==Qw(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Zw(e){return(Zw=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function $w(e,t){return($w=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}Yw.defaultProps={isEmbedded:!1},Yw.propTypes={action:y.a.object.isRequired,actionSet:y.a.object.isRequired,user:pi.a.User,container:y.a.oneOf(["center","split","full-width",void 0]),isEmbedded:y.a.bool,className:y.a.string};var Xw=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Jw(this,Zw(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&$w(e,t)}(t,u.a.Component),function(e,t,n){t&&Kw(e.prototype,t),n&&Kw(e,n)}(t,[{key:"countryName",value:function(){return this.props.action.target.country.name}},{key:"headlineMessage",value:function(){return Object(v.c)("This action is not available in your country")}},{key:"wrongCountryMessage",value:function(){return Object(v.c)("This action is only available to users in {{ countryName }}.\n\nPlease update your country and try again.",{countryName:this.countryName()})}},{key:"render",value:function(){return u.a.createElement(Dh,{action:this.props.action,headline:this.headlineMessage(),errorMessage:this.wrongCountryMessage(),errorBackground:g.a.darkGray,container:this.props.container,hideButton:!0,isEmbedded:this.props.isEmbedded})}}]),t}();function ek(e){return(ek="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function tk(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function nk(e){return(nk=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ok(e,t){return(ok=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function rk(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var ak=b.a.div.withConfig({displayName:"responsive-video__VideoContainer",componentId:"sc-1db0ivg-0"})([""]);ak.displayName="VideoContainer";var ik=function(e){function t(){var e,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];return function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(rk(rk(n=function(e,t){return!t||"object"!==ek(t)&&"function"!=typeof t?rk(e):t}(this,(e=nk(t)).call.apply(e,[this].concat(r))))),"buildVideoUrl",function(){return"".concat(n.props.videoUrl,"?rel=0")}),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ok(e,t)}(t,l["Component"]),function(e,t,n){t&&tk(e.prototype,t),n&&tk(e,n)}(t,[{key:"render",value:function(){return this.props.videoUrl?u.a.createElement("div",{className:"bst"},u.a.createElement(ak,{className:"".concat(this.props.className||""," ").concat(this.props.containerClasses," responsive-video-embed")},u.a.createElement("iframe",{width:this.props.videoWidth,height:this.props.videoHeight,src:this.buildVideoUrl(),frameBorder:"0",allowFullScreen:!0,title:"responsive-video"}))):null}}]),t}();function sk(e){return(sk="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ck(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function lk(e){return(lk=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function uk(e,t){return(uk=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function pk(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}ik.defaultProps={containerClasses:"mt-0",videoWidth:"640",videoHeight:"360"},ik.propTypes={videoUrl:y.a.string.isRequired,containerClasses:y.a.string,videoWidth:y.a.string,videoHeight:y.a.string};var fk=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=function(e,t){return!t||"object"!==sk(t)&&"function"!=typeof t?pk(e):t}(this,lk(t).call(this,e))).handleClick=n.handleClick.bind(pk(pk(n))),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&uk(e,t)}(t,u.a.Component),function(e,t,n){t&&ck(e.prototype,t),n&&ck(e,n)}(t,[{key:"getButtonText",value:function(){return"quiz"===this.props.action.type?Object(v.c)("Begin Quiz"):this.props.buttonText}},{key:"handleClick",value:function(){Hy.a.getMachineByActionId(this.props.action.id).send(Vy.a.TakeAction)}},{key:"renderActionDetails",value:function(){return u.a.createElement(wm,{action:this.props.action,container:this.props.container,isEmbedded:this.props.isEmbedded})}},{key:"render",value:function(){return u.a.createElement("div",{className:"bst-row"},!this.props.isEmbedded&&ge.a.hasDetails(this.props.action)&&this.renderActionDetails(),u.a.createElement(Nm,{action:this.props.action,styledContainer:this.props.styledContainer,progressBar:this.props.progressBar},u.a.createElement(ik,{videoUrl:this.props.action.video_url}),u.a.createElement(ve.a,{handleClick:this.handleClick,buttonText:this.getButtonText(),className:"btn d-block my-0 mx-auto"}),this.props.isEmbedded&&ge.a.hasDetails(this.props.action)&&u.a.createElement(Ih,{accordionOpen:this.props.accordionOpen,toggleAccordion:this.props.toggleAccordion},this.renderActionDetails())))}}]),t}();function dk(e){return(dk="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function mk(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function hk(e){return(hk=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function yk(e,t){return(yk=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function bk(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}fk.propTypes={action:y.a.object.isRequired,className:y.a.string,buttonText:y.a.string,styledContainer:y.a.bool,container:y.a.oneOf(["center","split","full-width",void 0]),isEmbedded:y.a.bool,accordionOpen:y.a.bool,toggleAccordion:y.a.bool,progressBar:y.a.bool},fk.defaultProps={buttonText:Object(v.c)("Take Action"),styledContainer:!1,progressBar:!1};var gk=b.a.div.withConfig({displayName:"action-intro__Header",componentId:"sc-1cvkuu0-0"})(["font-weight:bold;font-size:",";font-family:",";"],g.a.xlargeBaseFont,g.a.primaryFontFamilyBold),vk=b.a.div.withConfig({displayName:"action-intro__Description",componentId:"sc-1cvkuu0-1"})(["font-size:",";"],g.a.mediumBaseFont),wk=function(e){function t(){var e,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];return function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(bk(bk(n=function(e,t){return!t||"object"!==dk(t)&&"function"!=typeof t?bk(e):t}(this,(e=hk(t)).call.apply(e,[this].concat(r))))),"getActionOrActionSet",function(){return n.props.actionSet||n.props.action}),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&yk(e,t)}(t,u.a.Component),function(e,t,n){t&&mk(e.prototype,t),n&&mk(e,n)}(t,[{key:"render",value:function(){return u.a.createElement("div",{className:"bst"},u.a.createElement("div",{className:"bst-row"},u.a.createElement(Nm,{action:this.getActionOrActionSet(),container:"full-width"},u.a.createElement(Mm,{bottomBorder:!1,verticalAlignment:"justify-content-center"},u.a.createElement("div",{className:"bst-row mt-3"},u.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-12 d-flex flex-column"},u.a.createElement(gk,null,this.getActionOrActionSet().call_to_action,":"),u.a.createElement(vk,{className:"".concat(this.props.className," mt-3")},this.getActionOrActionSet().title)),u.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-12 d-flex flex-column align-self-center"},ge.a.renderActionOrActionSetProgressBar(this.props),u.a.createElement("div",{className:"text-center"},u.a.createElement(ve.a,{handleClick:this.props.onClose,buttonText:Object(v.c)("take action"),className:"btn  my-4 w-100"}))))),ge.a.hasDetails(this.props.action)&&u.a.createElement(Ih,{accordionOpen:this.props.accordionOpen,toggleAccordion:this.props.toggleAccordion},u.a.createElement(wm,{action:this.props.action,container:this.props.container,isEmbedded:this.props.isEmbedded})))))}}]),t}();function kk(e){return(kk="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ok(){return(Ok=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}function _k(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Ck(e){return(Ck=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Sk(e,t){return(Sk=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ek(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Pk(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var jk=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Pk(Ek(Ek(n=function(e,t){return!t||"object"!==kk(t)&&"function"!=typeof t?Ek(e):t}(this,Ck(t).call(this,e)))),"toggleAccordion",function(){n.setState(function(e){return{accordionOpen:!e.accordionOpen}})}),Pk(Ek(Ek(n)),"closeIntroScreen",function(){return n.getMachine().send(Vy.a.SkipIntro)}),n.state={accordionOpen:!1},n.machineInitialized=!1,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Sk(e,t)}(t,u.a.Component),function(e,t,n){t&&_k(e.prototype,t),n&&_k(e,n)}(t,[{key:"componentWillMount",value:function(){Zd.a.loadActionModule.defer(this.props.actionId),Zd.a.setCompleteCallback.defer(this.props.actionId,this.props.completeCallback),Xd.a.getLocation()}},{key:"componentDidUpdate",value:function(){this.initMachine()}},{key:"initMachine",value:function(){var e=this;!this.machineInitialized&&this.isActionLoaded()&&(Hy.a.initMachineService(this.getActionState(),function(){return e.forceUpdate()},{user:this.props.user},this.props.isEmbedded,this.props.isMultipleView),this.machineInitialized=!0)}},{key:"getMachine",value:function(){return Hy.a.getMachineByActionId(this.props.actionId)}},{key:"getCard",value:function(){var e=this.getMachine();return void 0===e?Gy.a.Loading:Hy.a.extractCardFromStateValue(e.state.value)}},{key:"getActionState",value:function(){return this.props.actionsById[this.props.actionId]}},{key:"isActionLoaded",value:function(){var e=this.getActionState();return this.props.user&&e&&e.initialized}},{key:"render",value:function(){var e=this.getCard();if(e===Gy.a.Loading)return u.a.createElement(jt.a,null);var n=this.getActionState(),o={user:this.props.user,actionId:this.props.actionId,actionSetId:this.props.actionSetId,action:n.action,card:e,dataShare:n.dataShare,actionEnabled:n.actionEnabled,contacts:n.contacts,container:this.props.container,scroll:this.props.scroll,accordionOpen:this.state.accordionOpen,toggleAccordion:this.toggleAccordion,isEmbedded:this.props.isEmbedded};return e===Gy.a.Intro?u.a.createElement(wk,Ok({},o,{onClose:this.closeIntroScreen})):e===Gy.a.ActionCompleted?u.a.createElement(Ib,Ok({},o,{nextAction:this.props.nextAction})):e===Gy.a.ThankYou?u.a.createElement(Yw,o):e===Gy.a.Error?u.a.createElement(Dh,Ok({},o,{errorMessage:n.errorMessage})):e===Gy.a.ConfirmEmail?u.a.createElement(Db,o):e===Gy.a.EmailConfirmationSent?u.a.createElement(Gb,o):e===Gy.a.WrongCountry?u.a.createElement(Xw,o):e===Gy.a.Video?u.a.createElement(fk,{action:o.action,actionSetId:this.props.actionSetId,user:o.user,isEmbedded:o.isEmbedded}):u.a.createElement("div",{className:"bst"},t.getActionTypeSpecificComponent(o))}}],[{key:"getStores",value:function(){return[em.a,$d.a]}},{key:"getPropsFromStores",value:function(){var e=$d.a.getState(),t=em.a.getState();return delete t.completeCallback,Object.assign(t,e)}},{key:"getActionTypeSpecificComponent",value:function(e){switch(e.action.type){case"call":return e.action.target?u.a.createElement(Og,e):u.a.createElement(tb,e);case"petition":return u.a.createElement(ow,e);case"tweet":return e.action.target?u.a.createElement(Lv,e):u.a.createElement(jv,e);case"email":return e.action.target?u.a.createElement(iv,e):u.a.createElement(ev,e);case"checkin":return u.a.createElement(Eb,e);case"partner_action":return u.a.createElement(qv,e);case"quiz":return u.a.createElement(jw,e);default:return!1}}}]),t}(),Nk=Sn()(jk);function Tk(e){return(Tk="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function xk(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Ik(e){return(Ik=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ak(e,t){return(Ak=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Lk(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Rk(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Mk=b.a.ol.withConfig({displayName:"progress-list__OrderedList",componentId:"sc-1g39j3v-0"})(["list-style-position:inside;"]);Mk.displayName="OrderedList";var Bk=b.a.li.withConfig({displayName:"progress-list__ListItem",componentId:"sc-1g39j3v-1"})(["list-style-type:decimal;&&&{padding-left:0;}&.active,&.completed{color:",";}&:last-of-type{padding-right:0;margin-right:0;}"],g.a.primaryRed);Bk.displayName="ListItem";var Dk=b.a.i.withConfig({displayName:"progress-list__CompletedIcon",componentId:"sc-1g39j3v-2"})([""]);Dk.displayName="CompletedIcon";var zk=function(e){function t(){var e,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];return Rk(Lk(Lk(n=function(e,t){return!t||"object"!==Tk(t)&&"function"!=typeof t?Lk(e):t}(this,(e=Ik(t)).call.apply(e,[this].concat(r))))),"renderItemClassName",function(e){var t=["\n            ".concat(n.props.className||""," col-6 col-sm-auto mb-3 text-capitalize\n        ")];return e===n.props.completed&&t.push("active"),e<n.props.completed&&t.push("completed"),t.join(" ")}),Rk(Lk(Lk(n)),"renderCompletedIcon",function(e){return e<n.props.completed?u.a.createElement(Dk,{className:"fas fa-check pl-1"}):null}),Rk(Lk(Lk(n)),"renderList",function(e){return e.map(function(e,t){return u.a.createElement(Bk,{className:n.renderItemClassName(t),key:t},e.type&&e.type.replace("_"," "),n.renderCompletedIcon(t))})}),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ak(e,t)}(t,u.a.Component),function(e,t,n){t&&xk(e.prototype,t),n&&xk(e,n)}(t,[{key:"render",value:function(){return this.props.actionList&&this.props.actionList.length>1?u.a.createElement("div",{className:"bst"},u.a.createElement("div",{className:"bst-container"},u.a.createElement(Mk,{className:"".concat(this.props.className," bst-row ").concat(!this.props.isEmbedded&&"mb-3 mb-sm-5")},this.renderList(this.props.actionList)))):null}}]),t}();function Wk(e){return(Wk="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Fk(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Uk(e,t){return!t||"object"!==Wk(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function qk(e){return(qk=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Gk(e,t){return(Gk=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}zk.propTypes={completed:y.a.number,actionList:y.a.arrayOf(y.a.object),className:y.a.string};var Hk=b.a.div.withConfig({displayName:"multiple-action-view__RewardSignupContainer",componentId:"sc-1p4xose-0"})(['*[class*="action-details__Container"]{@media (min-width:',"){font-size:",";}h4{font-size:",';margin-bottom 0.2rem;}*[class*="action-details__DetailsTitle"]{','}}*[class*="action-content-container__Content"]{padding:1rem;}*[class*="action-content__Container"]{min-height:0;}'],L.min.large,g.a.xsmallBaseFont,g.a.baseFontSize,g.a.mediumBaseFont);Hk.displayName="RewardSignupContainer";var Vk=b.a.div.withConfig({displayName:"multiple-action-view__BstContainer",componentId:"sc-1p4xose-1"})([""]);Vk.displayName="BstContainer";var Yk=b.a.h3.withConfig({displayName:"multiple-action-view__ActionTitle",componentId:"sc-1p4xose-2"})(["font-size:",";"],g.a.mediumBaseFont),Qk=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Uk(this,qk(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Gk(e,t)}(t,u.a.Component),function(e,t,n){t&&Fk(e.prototype,t),n&&Fk(e,n)}(t,[{key:"getCurrentStepText",value:function(){var e=this.props.currentActionIndex;return this.props.actionList[e].type}},{key:"getCurrentAction",value:function(){var e=this.props.currentActionIndex;return this.props.actionList[e]}},{key:"areAllActionsCompleted",value:function(){return bt.a.every(this.props.actionList,function(e){return e.complete})}},{key:"actionCompleteCallback",value:function(){this.hasFinishedSet()?this.props.onAllActionsFinished():this.props.onEachActionFinished()}},{key:"hasFinishedSet",value:function(){return this.props.currentActionIndex>=this.props.actionList.length-1}},{key:"getProgressBar",value:function(){var e=this.props.progressBarComponentClass;return u.a.createElement(e,{actionList:this.props.actionList,completed:this.props.currentActionIndex,total:this.props.actionList.length,stepText:this.getCurrentStepText(),points:this.props.totalPoints,isEmbedded:this.props.isEmbedded})}},{key:"renderActionTitle",value:function(){return this.props.rewardSignup&&this.getCurrentAction().title?u.a.createElement(Yk,{className:"mb-4"},this.getCurrentAction().title):null}},{key:"getCurrentActionComponent",value:function(){var e=this.getCurrentAction().id,t=this.actionCompleteCallback.bind(this);return u.a.createElement(Nk,{key:e,actionId:e,actionSetId:this.props.actionSetId,completeCallback:t,nextAction:t,container:this.props.container,isEmbedded:this.props.isEmbedded,isMultipleView:!0})}},{key:"render",value:function(){var e=this.props.rewardSignup?Hk:"div";return void 0===this.props.currentActionIndex?u.a.createElement(jt.a,null):(this.props.currentActionIndex>=this.props.actionList.length&&console.error("Current action index is out of range"),u.a.createElement("div",{className:"current-action-component actionv2"},u.a.createElement(e,{className:"bst"},u.a.createElement(Vk,{className:"".concat(this.props.className," ").concat(this.props.rewardSignup&&"bst-container")},u.a.createElement("div",{className:"bst-row"},u.a.createElement("div",{className:"col-12"},this.getProgressBar(),this.renderActionTitle())),this.getCurrentActionComponent()))))}}]),t}();function Kk(e){return(Kk="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Jk(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Zk(e,t){return!t||"object"!==Kk(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function $k(e){return($k=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Xk(e,t){return(Xk=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}Qk.defaultProps={progressBarComponentClass:zk},Qk.propTypes={actionList:y.a.arrayOf(pi.a.Action).isRequired,actionSetId:y.a.number,currentActionIndex:y.a.number.isRequired,onAllActionsFinished:y.a.func.isRequired,onEachActionFinished:y.a.func.isRequired,progressBarComponentClass:y.a.func.isRequired,totalPoints:y.a.number.isRequired,user:pi.a.User};var eO=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Zk(this,$k(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Xk(e,t)}(t,u.a.Component),function(e,t,n){t&&Jk(e.prototype,t),n&&Jk(e,n)}(t,[{key:"redirectToTakeAction",value:function(){this.props.postSignupRedirectUrl?window.utils.assign(this.props.postSignupRedirectUrl):window.utils.assign("/take-action/")}},{key:"impactMessage",value:function(){return{__html:Object(v.c)("Your actions really do make a difference! Learn more about your impact {{ openAnchor }}here{{ closeAnchor}}.",{openAnchor:"<a href='/impact/'>",closeAnchor:"</a>",interpolation:{escape:!1}})}}},{key:"renderConfirmationText",value:function(){var e={date:Qu.a.utc(this.props.reward.drawing_date).format("MMMM Do"),interpolation:{escape:!1}};return u.a.createElement("h5",{className:"reward-info__text",dangerouslySetInnerHTML:{__html:Object(v.c)("We will let you know if you are a winner after the drawing on {{ date }}. Best of luck!",e)}})}},{key:"render",value:function(){return u.a.createElement("section",{className:"register-and-enter-reward-confirmation"},u.a.createElement("div",{className:"register-and-enter-reward-confirmation__content-wrapper"},u.a.createElement("h2",{className:"reward-info__text__name headline__section"},Object(v.c)("Thanks for Entering!")),this.renderConfirmationText(),u.a.createElement("div",{className:"button-wrapper"},u.a.createElement(ve.a,{ref:"takeActionButton",className:"btn",buttonText:Object(v.c)("Continue taking Action"),handleClick:this.redirectToTakeAction.bind(this)})),u.a.createElement("p",{className:"impact-message text-center"},u.a.createElement("small",{dangerouslySetInnerHTML:this.impactMessage()}))))}}]),t}(),tO=n(36),nO=n(84),oO=n(184),rO=n(193),aO=n(129);function iO(e){return(iO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function sO(){return(sO=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}function cO(e,t){return!t||"object"!==iO(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function lO(e){return(lO=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function uO(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function pO(e,t,n){return t&&uO(e.prototype,t),n&&uO(e,n),e}function fO(e,t){return(fO=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var dO=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=cO(this,lO(t).call(this,e))).state={currentActionIndex:0},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&fO(e,t)}(t,u.a.Component),pO(t,null,[{key:"getStores",value:function(){return[jn.a,Nf.a,nO.a]}}]),pO(t,[{key:"componentWillMount",value:function(){pu.a.loadUser(),pu.a.loadUserPoints(),fu.a.loadEnteredRewards(),fu.a.loadCompletedActions(),fu.a.loadCompletedActionSets()}},{key:"componentDidMount",value:function(){tO.a.triggerInitialSearch({excludeHidden:!1,singlePageResults:!0,ids:this.props.rewardIds})}},{key:"getPartners",value:function(){if(this.props.rewards.length&&this.props.rewards[0].partners.length)return this.props.rewards[0].partners}},{key:"getDatashareValue",value:function(){if(this.props.rewards.length)return this.props.rewards[0].datashare_enabled}},{key:"goToRewardsPage",value:function(){window.utils.assign("/rewards/?nearMe=true")}},{key:"redirectToTakeAction",value:function(){this.props.postSignupRedirectUrl?window.utils.assign(this.props.postSignupRedirectUrl):window.utils.assign("/take-action/")}},{key:"getEnteredReward",value:function(){if(this.props.rewards){var e=!0,t=!1,n=void 0;try{for(var o,r=this.props.rewards[Symbol.iterator]();!(e=(o=r.next()).done);e=!0){var a=o.value;if(bt.a.findWhere(this.props.enteredRewards,{reward:a.id}))return a}}catch(e){t=!0,n=e}finally{try{e||null==r.return||r.return()}finally{if(t)throw n}}}}},{key:"finishAction",value:function(){this.setState({currentActionIndex:this.state.currentActionIndex+1})}},{key:"renderMultipleRewards",value:function(){var e=this;return this.props.rewards.length?this.props.rewards.map(function(n){var o=Object.assign({},n);o.name=t.getRewardNameWithTickets(n);var r="rewardRow".concat(n.id);return u.a.createElement(oO.a,{reward:o,showMonth:!0,hideStats:!0,key:n.id,ref:r},u.a.createElement(Jd.a,{actionList:e.props.actionList,actionIds:e.props.actionIds,actionSetIds:e.props.actionSetIds,completedActions:e.props.completedActions,completedActionSets:e.props.completedActionSets,entered:e.props.entered,enteredRewards:e.props.enteredRewards,enterWithSignUp:e.props.user.is_eligible_for_enter_reward_with_signup,rewardError:e.props.rewardError,reward:n,user:e.props.user,userPointsByCategory:e.props.pointsByCategory}))}):t.noResultsFoundMessage()}},{key:"countdownDescription",value:function(){var e={daysLeft:this.props.rewards[0].days_left,interpolation:{escape:!1}};return{__html:0===this.props.rewards[0].days_left?Object(v.c)("Final day to enter",e):1===this.props.rewards[0].days_left?Object(v.c)("{{ daysLeft }} day left to enter",e):Object(v.c)("{{ daysLeft }} days left to enter",e)}}},{key:"renderRewardCountdown",value:function(){if(this.props.rewardCountdown&&1===this.props.rewardIds.length&&this.props.rewards[0]&&this.props.rewards[0].days_left>=0)return u.a.createElement("p",{className:"register-and-enter-reward__reward-countdown text-left headline__topic headline__topic--red",dangerouslySetInnerHTML:this.countdownDescription()})}},{key:"render",value:function(){var e=this.getEnteredReward();if(!this.props.user||!this.props.rewards)return u.a.createElement(jt.a,null);if(0===this.props.rewards.length)return u.a.createElement("div",{className:"register-and-enter-reward__expired"},u.a.createElement("h2",{ref:"expiredMessage",className:"register-and-enter-reward__expired__headline"},Object(v.c)("The drawing for these tickets has already closed")),u.a.createElement("p",{className:"register-and-enter-reward__expired__text"},Object(v.c)("But you can still win other tickets! Check out other Rewards near you.")),u.a.createElement(ve.a,{buttonText:Object(v.c)("View rewards"),className:"btn register-and-enter-reward__expired__button",handleClick:this.goToRewardsPage.bind(this)}));if(this.props.user.is_eligible_for_enter_reward_with_signup&&e)return u.a.createElement(eO,{reward:e,postSignupRedirectUrl:this.props.postSignupRedirectUrl});if(this.props.user.is_eligible_for_enter_reward_with_signup||this.props.user.authenticated){var n=[];return this.props.rewards.length&&(n=this.props.rewards[0].actions),this.state.currentActionIndex<n.length?u.a.createElement(Qk,{actionList:n,currentActionIndex:this.state.currentActionIndex,onAllActionsFinished:this.finishAction.bind(this),onEachActionFinished:this.finishAction.bind(this),progressBarComponentClass:aO.a,totalPoints:0,container:this.props.container,rewardSignup:this.props.rewardSignup}):1===this.props.rewardIds.length?u.a.createElement(Kd.a,{actionList:n,actionIds:this.props.actionIds,actionSetIds:this.props.actionSetIds,completedActions:this.props.completedActions,completedActionSets:this.props.completedActionSets,currentActionIndex:this.state.currentActionIndex,enteredRewards:this.props.enteredRewards,userPointsByCategory:this.props.pointsByCategory,reward:this.props.rewards[0],rewardError:this.props.rewardError,enterWithSignUp:this.props.user.is_eligible_for_enter_reward_with_signup,user:this.props.user,rewardCountdown:this.renderRewardCountdown()}):u.a.createElement("div",{className:"multiple-reward-rows-wrapper"},u.a.createElement("div",{className:"multiple-reward-rows"},u.a.createElement("h1",{className:"multiple-reward-headline"},Object(v.c)("Choose which show you would like to enter")),u.a.createElement(rO.a,sO({},this.props,{showCategoryFilter:!1,showQuery:!1})),this.renderMultipleRewards()),u.a.createElement("div",{className:"continue-taking-action-wrapper"},u.a.createElement(ve.a,{ref:"continueTakingAction",buttonText:Object(v.c)("Continue Taking Action"),className:"btn ",handleClick:this.redirectToTakeAction.bind(this)}),u.a.createElement("p",{className:"small",dangerouslySetInnerHTML:t.renderImpactText()})))}return u.a.createElement("div",{id:"gppSignupModule"},this.renderRewardCountdown(),u.a.createElement(Bd.a,{signupHeader:this.props.customCallToAction||Object(v.c)("Sign up to win tickets"),customBody:this.props.customBody,shadowUserClient:new Pl.a,doneCallback:t.onSignup.bind(this),skipConfirmation:!0,partners:this.getPartners(),datashare:this.getDatashareValue(),emailSignUpFullWidth:this.props.emailSignUpFullWidth}))}}],[{key:"getPropsFromStores",value:function(){var e=jn.a.getState(),t=Nf.a.getState(),n=nO.a.getState(),o=null;return n.results&&(o=n.results.map(function(e){return e.itemData?e.itemData:e})),{user:e.user,pointsByCategory:e.pointsByCategory,rewardError:t.errorMessage,rewards:o,location:n.location,month:n.month,enteredRewards:t.enteredRewards,completedActions:t.completedActions,completedActionSets:t.completedActionSets,nearMe:n.nearMe}}},{key:"onSignup",value:function(){pu.a.clearUser(),pu.a.loadUser()}},{key:"renderImpactText",value:function(){return{__html:Object(v.c)("Your actions really do make a difference and every action you take earns you points that you can use to enter to win awesome experiences and rewards. Read more about your impact {{ linkStart }}here{{ linkEnd }}.",{linkStart:'<a href="/impact/">',linkEnd:"</a>",interpolation:{escape:!1}})}}},{key:"getRewardNameWithTickets",value:function(e){var t={tickets:e.tickets_per_winner,rewardName:e.name,interpolation:{escape:!1}};return 1===e.tickets_per_winner?Object(v.c)("{{ tickets }} Ticket to {{ rewardName }}",t):Object(v.c)("{{ tickets }} Tickets to {{ rewardName }}",t)}},{key:"noResultsFoundMessage",value:function(){return u.a.createElement("div",{className:"no-results",ref:"noResults"},u.a.createElement("p",null,Object(v.c)("No results were found matching your search criteria")),u.a.createElement("p",null,Object(v.c)("Reset your filters and view all available rewards.")))}}]),t}();dO.defaultProps={rewardCountdown:!1,rewardSignup:!0,container:"full-width",emailSignUpFullWidth:!0};var mO=Sn()(dO);n(591);function hO(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var yO=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return function(e,t,n){t&&hO(e.prototype,t),n&&hO(e,n)}(e,[{key:"connectToStore",value:function(){Nf.a.listen(this.onRewardStoreChange.bind(this))}},{key:"onRewardStoreChange",value:function(e){this.renderCompletedActionSetCheckboxes(e.completedActionSets),this.renderCompletedActionCheckboxes(e.completedActions)}},{key:"renderCompletedActionSetCheckboxes",value:function(e){var t=bt.a.pluck(e,"action_set");this.renderCheckboxes("reward-global__action-set-item",t)}},{key:"renderCompletedActionCheckboxes",value:function(e){var t=bt.a.pluck(e,"action");this.renderCheckboxes("reward-global__action-item",t)}},{key:"renderCheckboxes",value:function(e,t){var n=!0,o=!1,r=void 0;try{for(var a,s=t[Symbol.iterator]();!(n=(a=s.next()).done);n=!0){var c=a.value;i()(".".concat(e," > #gc-ui-action-").concat(c," > .completion-container")).removeClass("hidden")}}catch(e){o=!0,r=e}finally{try{n||null==s.return||s.return()}finally{if(o)throw r}}}}]),e}();i()(function(){i()("#gc-ui-redeem-reward-ui").length&&(new yO).connectToStore()});function bO(e){return(bO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function gO(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function vO(e,t){return!t||"object"!==bO(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function wO(e){return(wO=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function kO(e,t){return(kO=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var OO=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),vO(this,wO(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&kO(e,t)}(t,Jd["a"]),function(e,t,n){t&&gO(e.prototype,t),n&&gO(e,n)}(t,[{key:"componentWillMount",value:function(){pu.a.loadUser(),pu.a.loadUserPoints(),this.props.reward||fu.a.loadReward(this.props.rewardId,this.props.showAll),fu.a.loadEnteredRewards(),fu.a.loadCompletedActions(),fu.a.loadCompletedActionSets()}}],[{key:"getStores",value:function(){return[jn.a,Nf.a]}},{key:"getPropsFromStores",value:function(){var e=jn.a.getState(),t=Nf.a.getState();return{user:e.user,userPointsByCategory:e.pointsByCategory,rewardError:t.errorMessage,rewards:t.rewards,enteredRewards:t.enteredRewards,completedActions:t.completedActions,completedActionSets:t.completedActionSets,showCaptcha:t.showCaptcha}}}]),t}(),_O=Sn()(OO);function CO(e){return(CO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function SO(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function EO(e,t){return!t||"object"!==CO(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function PO(e){return(PO=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function jO(e,t){return(jO=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var NO=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),EO(this,PO(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&jO(e,t)}(t,u.a.Component),function(e,t,n){t&&SO(e.prototype,t),n&&SO(e,n)}(t,[{key:"getBackgroundImageStyle",value:function(){var e="/static/img/festival-banner.png";return this.props.medium&&this.props.medium.portrait&&(e=this.props.medium.portrait),{backgroundImage:"url("+e+")"}}},{key:"render",value:function(){return u.a.createElement("div",{ref:"thumbnail",className:"embeddable-reward__thumbnail row-flex",style:this.getBackgroundImageStyle()})}}]),t}(),TO=n(44);function xO(e){return(xO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function IO(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function AO(e,t){return!t||"object"!==xO(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function LO(e){return(LO=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function RO(e,t){return(RO=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var MO=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),AO(this,LO(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&RO(e,t)}(t,u.a.Component),function(e,t,n){t&&IO(e.prototype,t),n&&IO(e,n)}(t,[{key:"render",value:function(){return u.a.createElement("div",{className:"reward-info reward-info--short"},TO.a.renderRewardName(this.props.reward),TO.a.renderRewardLocation(this.props.reward),TO.a.renderRewardDateWithTime(this.props.reward),this.props.reward.terms_conditions_url?TO.a.renderRewardTermsText(this.props.reward):"")}}]),t}();function BO(e){return(BO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function DO(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function zO(e,t){return!t||"object"!==BO(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function WO(e){return(WO=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function FO(e,t){return(FO=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var UO=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),zO(this,WO(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&FO(e,t)}(t,u.a.Component),function(e,t,n){t&&DO(e.prototype,t),n&&DO(e,n)}(t,[{key:"renderDaysLeft",value:function(){var e={days_left:this.props.reward.days_left,strong:"<strong>",closeStrong:"</strong>",interpolation:{escape:!1}};if(this.props.reward.days_left)return{__html:1===this.props.reward.days_left?Object(v.c)("{{ strong }}{{ days_left }} Day{{ closeStrong }} Until Drawing",e):Object(v.c)("{{ strong }}{{ days_left }} Days{{ closeStrong }} Until Drawing",e)}}},{key:"renderWinners",value:function(){var e={total_available:this.props.reward.total_available,strong:"<strong>",closeStrong:"</strong>",interpolation:{escape:!1}};if(this.props.reward.total_available)return{__html:1===this.props.reward.total_available?Object(v.c)("{{ strong }}{{ total_available }} Winner{{ closeStrong }} Per Drawing",e):Object(v.c)("{{ strong }}{{ total_available }} Winners{{ closeStrong }} Per Drawing",e)}}},{key:"renderTickets",value:function(){var e={tickets_per_winner:this.props.reward.tickets_per_winner,strong:"<strong>",closeStrong:"</strong>",interpolation:{escape:!1}};if(this.props.reward.tickets_per_winner)return{__html:1===this.props.reward.tickets_per_winner?Object(v.c)("{{ strong }}{{ tickets_per_winner }} Ticket{{ closeStrong }} Per Winner",e):Object(v.c)("{{ strong }}{{ tickets_per_winner }} Tickets{{ closeStrong }} Per Winner",e)}}},{key:"render",value:function(){return u.a.createElement("div",{className:"bst"},u.a.createElement("div",{className:"bst-container-fluid"},u.a.createElement("div",{className:"bst-row"},u.a.createElement("div",{className:"col-4 embeddable-reward__more-info-box__col"},u.a.createElement("p",{ref:"daysLeft",dangerouslySetInnerHTML:this.renderDaysLeft()})),u.a.createElement("div",{className:"col-4 embeddable-reward__more-info-box__col"},u.a.createElement("p",{ref:"winners",dangerouslySetInnerHTML:this.renderWinners()})),u.a.createElement("div",{className:"col-4 embeddable-reward__more-info-box__col"},u.a.createElement("p",{ref:"tickets",dangerouslySetInnerHTML:this.renderTickets()})))))}}]),t}();function qO(e){return(qO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function GO(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function HO(e,t){return!t||"object"!==qO(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function VO(e){return(VO=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function YO(e,t){return(YO=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var QO=Object(b.a)(Ih).withConfig({displayName:"embeddable-reward-eligible-for-entry__EmbeddableDetailsAccordionAlt",componentId:"coofoh-0"})(["&[class*='accordion__Container']{margin:20px -20px -20px -20px;}"]),KO=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),HO(this,VO(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&YO(e,t)}(t,u.a.Component),function(e,t,n){t&&GO(e.prototype,t),n&&GO(e,n)}(t,[{key:"render",value:function(){return u.a.createElement("div",null,u.a.createElement(MO,{reward:this.props.reward}),u.a.createElement(_O,{enterWithSignUp:this.props.user.is_eligible_for_enter_reward_with_signup,reward:this.props.reward,user:this.props.user}),u.a.createElement("p",{ref:"disclaimer",className:"embeddable-reward__disclaimer",dangerouslySetInnerHTML:TO.a.renderDisclaimerText(this.props.reward)}),u.a.createElement(QO,{color:g.a.midGray},u.a.createElement(UO,{reward:this.props.reward})))}}]),t}();function JO(e){return(JO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ZO(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function $O(e,t){return!t||"object"!==JO(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function XO(e){return(XO=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function e_(e,t){return(e_=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var t_=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),$O(this,XO(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&e_(e,t)}(t,u.a.Component),function(e,t,n){t&&ZO(e.prototype,t),n&&ZO(e,n)}(t,[{key:"shareItemText",value:function(){var e=this.props.reward.name;this.props.reward.collection&&(e=this.props.reward.collection.name);var t={name:e,interpolation:{escape:!1}};return Object(v.c)("I just entered to win tickets to {{ name }}. Enter now at ",t)}},{key:"render",value:function(){return u.a.createElement("div",{ref:"alreadyEnteredBox"},u.a.createElement("h2",{ref:"rewardName",className:"reward-info__text__name headline__section"},this.props.reward.name),u.a.createElement("p",null,Object(v.c)("You've entered to win tickets!")),u.a.createElement("p",null,TO.a.renderRewardConfirmationText(this.props.reward)),u.a.createElement(Lw,{shareItem:this.props.reward,shareItemType:"reward",shareItemQueryStringOptions:{medium:"entered-reward"},shareItemText:this.shareItemText(),shareItemUrl:this.props.reward.url}))}}]),t}();function n_(e){return(n_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o_(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function r_(e,t){return!t||"object"!==n_(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function a_(e){return(a_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function i_(e,t){return(i_=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var s_=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r_(this,a_(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i_(e,t)}(t,u.a.Component),function(e,t,n){t&&o_(e.prototype,t),n&&o_(e,n)}(t,[{key:"renderPointsNeededButtonText",value:function(){var e=this.props.reward.point_cost-this.props.availablePoints,t={points:e,interpolation:{escape:!1}};return 1===e?Object(v.c)("You need {{ points }} more point",t):Object(v.c)("You need {{ points }} more points",t)}},{key:"render",value:function(){return u.a.createElement("div",null,u.a.createElement(MO,{reward:this.props.reward}),u.a.createElement("div",{className:"embeddable-reward__points-needed-box"},u.a.createElement("div",{className:"embeddable-reward__button-wrapper"},u.a.createElement("button",{ref:"pointsNeededButton",className:"btn embeddable-reward__not-enough-points",disabled:!0},this.renderPointsNeededButtonText())),u.a.createElement("div",{className:"embeddable-reward__message",ref:"pointsNeededMessage"},u.a.createElement("div",{className:"embeddable-reward__message__inner"},u.a.createElement("p",null,u.a.createElement("a",{href:"/take-action/",className:"embeddable-reward__take-action-link"},Object(v.c)("Take Action")))))))}}]),t}();function c_(e){return(c_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l_(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function u_(e,t){return!t||"object"!==c_(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function p_(e){return(p_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f_(e,t){return(f_=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var d_=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),u_(this,p_(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f_(e,t)}(t,u.a.Component),function(e,t,n){t&&l_(e.prototype,t),n&&l_(e,n)}(t,[{key:"render",value:function(){return this.props.alreadyEntered?u.a.createElement(t_,{reward:this.props.reward}):u.a.createElement(s_,{reward:this.props.reward,availablePoints:this.props.availablePoints})}}]),t}();function m_(e){return(m_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h_(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function y_(e,t){return!t||"object"!==m_(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function b_(e){return(b_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g_(e,t){return(g_=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var v_=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),y_(this,b_(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g_(e,t)}(t,u.a.Component),function(e,t,n){t&&h_(e.prototype,t),n&&h_(e,n)}(t,[{key:"hasAlreadyEntered",value:function(){var e=this;return this.props.enteredRewards.some(function(t){return t.reward===e.props.reward.id})}},{key:"availablePoints",value:function(){var e=this,t=this.props.pointsByCategory.find(function(t){if(t)return t.category.id===e.props.reward.points_category.id});return t?t.points:0}},{key:"hasEnoughPoints",value:function(){return this.props.reward.point_cost<=this.availablePoints()}},{key:"eligibleForSignup",value:function(){return!this.hasAlreadyEntered()&&(this.props.user.is_eligible_for_enter_reward_with_signup&&this.props.reward.allow_entry_by_sign_up)}},{key:"notEligible",value:function(){return!this.eligibleForSignup()&&(this.hasAlreadyEntered()||!this.hasEnoughPoints())}},{key:"render",value:function(){return this.notEligible()?u.a.createElement(d_,{reward:this.props.reward,pointsByCategory:this.props.pointsByCategory,alreadyEntered:this.hasAlreadyEntered(),availablePoints:this.availablePoints()}):u.a.createElement(KO,{user:this.props.user,reward:this.props.reward})}}]),t}();function w_(e){return(w_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function k_(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function O_(e){return(O_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function __(e,t){return(__=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function C_(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var S_=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=function(e,t){return!t||"object"!==w_(t)&&"function"!=typeof t?C_(e):t}(this,O_(t).call(this,e))).openQuickAuthOnLoginScreen=n.openQuickAuthOnLoginScreen.bind(C_(C_(n))),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&__(e,t)}(t,u.a.Component),function(e,t,n){t&&k_(e.prototype,t),n&&k_(e,n)}(t,[{key:"openQuickAuthOnLoginScreen",value:function(){this.props.openQuickAuth("login")}},{key:"render",value:function(){var e=this;return u.a.createElement("div",{ref:"rewardEntrySignup"},u.a.createElement(MO,{reward:this.props.reward}),u.a.createElement("button",{ref:"signUpButton",className:"btn",onClick:function(){e.props.openQuickAuth()}},Object(v.c)("Sign up to Enter")),u.a.createElement("hr",null),u.a.createElement("p",{className:"embeddable-reward__login"},Object(v.c)("Already a user?"),u.a.createElement("span",{ref:"login",className:"embeddable-reward__login__link",onClick:this.openQuickAuthOnLoginScreen},Object(v.c)("Log in"))," ",Object(v.c)("for your points.")))}}]),t}();function E_(e){return(E_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function P_(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function j_(e,t){return!t||"object"!==E_(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function N_(e){return(N_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function T_(e,t){return(T_=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var x_=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),j_(this,N_(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&T_(e,t)}(t,u.a.Component),function(e,t,n){t&&P_(e.prototype,t),n&&P_(e,n)}(t,[{key:"render",value:function(){return this.props.user.authenticated?u.a.createElement(v_,{reward:this.props.reward,pointsByCategory:this.props.pointsByCategory,enteredRewards:this.props.enteredRewards,user:this.props.user}):u.a.createElement(S_,{openQuickAuth:this.props.openQuickAuth,reward:this.props.reward})}}]),t}();function I_(e){return(I_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function A_(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function L_(e,t){return!t||"object"!==I_(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function R_(e){return(R_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function M_(e,t){return(M_=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var B_=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),L_(this,R_(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&M_(e,t)}(t,u.a.Component),function(e,t,n){t&&A_(e.prototype,t),n&&A_(e,n)}(t,[{key:"renderPartner",value:function(e){return u.a.createElement("a",{href:e.url,className:"reusable-embed__partners__link row-flex",ref:e.link_ref},u.a.createElement("img",{src:e.logo_url,key:e.id,className:"reusable-embed__partners__logo",alt:e.name,ref:e.logo_ref}))}},{key:"renderPartners",value:function(){var e=this;if(this.props.partners&&this.props.partners.length)return this.props.partners.map(function(t){return e.renderPartner(Object.assign(t,{link_ref:"partnerLink",logo_ref:"partnerLogo"}))})}},{key:"render",value:function(){return this.props.partners&&this.props.partners.length?u.a.createElement("div",{className:"reusable-embed__partners row-flex row-flex--justify-right row-flex--wrap",ref:"partners"},u.a.createElement("span",{className:"no-break reusable-embed__cta"},Object(v.c)("In Partnership With"))," ",u.a.createElement("span",{className:"row-flex row-flex--wrap row-flex--justify-right",ref:"partnersItem"},this.renderPartners())):null}}]),t}();function D_(e){return(D_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function z_(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function W_(e){return(W_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function F_(e,t){return(F_=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function U_(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var q_=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=function(e,t){return!t||"object"!==D_(t)&&"function"!=typeof t?U_(e):t}(this,W_(t).call(this,e))).state={showQuickAuth:!1,quickAuthInitialCard:Ly.SignUp},n.openQuickAuth=n.openQuickAuth.bind(U_(U_(n))),n.closeQuickAuth=n.closeQuickAuth.bind(U_(U_(n))),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&F_(e,t)}(t,u.a.Component),function(e,t,n){t&&z_(e.prototype,t),n&&z_(e,n)}(t,[{key:"openQuickAuth",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ly.SignUp;this.setState({showQuickAuth:!0,quickAuthInitialCard:e})}},{key:"closeQuickAuth",value:function(){pu.a.clearUser(),pu.a.loadUser(),fu.a.loadEnteredRewards(),fu.a.loadCompletedActions(),fu.a.loadCompletedActionSets(),pu.a.loadUserPoints(),this.setState({showQuickAuth:!1})}},{key:"render",value:function(){return u.a.createElement("div",{className:"reusable-embed-wrapper"},u.a.createElement(B_,{partners:this.props.reward.partners,source_name:this.props.reward.source_name}),u.a.createElement("div",{className:"reusable-embed embeddable-reward"},u.a.createElement("div",{className:"embeddable-reward__row row-flex-stack-md"},this.state.showQuickAuth?u.a.createElement(qy,{elementName:"Reward auth embed",initialCard:this.state.quickAuthInitialCard,doneCallback:this.closeQuickAuth}):[u.a.createElement(NO,this.props.reward.thumbnails),u.a.createElement("div",{className:"embeddable-reward__description"},u.a.createElement(x_,{reward:this.props.reward,user:this.props.user,enteredRewards:this.props.enteredRewards,openQuickAuth:this.openQuickAuth,pointsByCategory:this.props.pointsByCategory}))])))}}]),t}();function G_(e){return(G_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function H_(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function V_(e){return(V_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Y_(e,t){return(Y_=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Q_(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var K_=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=function(e,t){return!t||"object"!==G_(t)&&"function"!=typeof t?Q_(e):t}(this,V_(t).call(this,e))).state={alternateRewardId:null,rewardFound:!0},n.loadRecommendedRewardsSuccessHandler=n.loadRecommendedRewardsSuccessHandler.bind(Q_(Q_(n))),n.loadRewardsByLocationSuccessHandler=n.loadRewardsByLocationSuccessHandler.bind(Q_(Q_(n))),n.loadRewardHandlers={error:n.loadRewardErrorHandler.bind(Q_(Q_(n)))},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Y_(e,t)}(t,u.a.Component),function(e,t,n){t&&H_(e.prototype,t),n&&H_(e,n)}(t,[{key:"loadRecommendedRewardsSuccessHandler",value:function(e){var t=e[0].id;this.setState({alternateRewardId:t})}},{key:"loadRewardsByLocationSuccessHandler",value:function(e){if(e.length>0){var t=e[0].id;this.setState({alternateRewardId:t})}else this.setState({rewardFound:!1})}},{key:"loadRewardErrorHandler",value:function(){var e={success:this.loadRecommendedRewardsSuccessHandler},t={success:this.loadRewardsByLocationSuccessHandler};if(this.props.user&&this.props.user.authenticated){fu.a.loadRecommendedRewards([{name:"limit",value:1},{name:"entry_type",value:"points"},{name:"entry_type",value:"sign_up"}],e)}else fu.a.loadRewardsByLocation(t)}},{key:"renderRewardNotFoundMessage",value:function(){return{__html:Object(v.c)("There are currently no rewards available in your country. {{ rewardLinkOpen }}Click here{{ rewardLinkClose }} to view all of our available rewards",{rewardLinkOpen:"<a href='/rewards/'>",rewardLinkClose:"</a>",interpolation:{escape:!1}})}}},{key:"componentWillMount",value:function(){pu.a.loadUser(),pu.a.loadUserPoints(),fu.a.loadReward(this.props.rewardId,this.props.showAll,this.loadRewardHandlers),fu.a.loadEnteredRewards()}},{key:"getReward",value:function(){return this.state.alternateRewardId?this.props.rewards[this.state.alternateRewardId]:this.props.rewards[this.props.rewardId]}},{key:"render",value:function(){var e=this.getReward();return e&&this.props.user?u.a.createElement(q_,{enteredRewards:this.props.enteredRewards,reward:e,user:this.props.user,pointsByCategory:this.props.pointsByCategory}):this.state.rewardFound?u.a.createElement(jt.a,null):u.a.createElement("h2",{ref:"noRewardFound",dangerouslySetInnerHTML:this.renderRewardNotFoundMessage()})}}],[{key:"getStores",value:function(){return[jn.a,Nf.a]}},{key:"getPropsFromStores",value:function(){var e=jn.a.getState(),t=Nf.a.getState();return{user:e.user,pointsByCategory:e.pointsByCategory,rewards:t.rewardsById,enteredRewards:t.enteredRewards}}}]),t}(),J_=Sn()(K_);function Z_(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var $_=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return function(e,t,n){t&&Z_(e.prototype,t),n&&Z_(e,n)}(e,null,[{key:"getPoll",value:function(e,t){Object(nu.a)({url:"/v1/polls/".concat(e,"/"),type:"GET",success:t.success,error:t.error})}},{key:"getVote",value:function(e,t){Object(nu.a)({url:"/v1/me/polls/".concat(e,"/vote/"),type:"GET",success:t.success,error:t.error})}},{key:"postVote",value:function(e,t,n){Object(nu.a)({url:"/v1/polls/".concat(e,"/votes/"),type:"POST",data:JSON.stringify({choice_id:t}),contentType:"application/json; charset=utf-8",success:n.success,error:n.error})}}]),e}();function X_(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var eC=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return function(e,t,n){t&&X_(e.prototype,t),n&&X_(e,n)}(e,[{key:"loadPoll",value:function(e){return function(t){$_.getPoll(e,{success:function(e){t(e)},error:function(){}})}}},{key:"loadVote",value:function(e){return function(t){$_.getVote(e,{success:function(n){t({pollId:e,choice:n})},error:function(){}})}}},{key:"vote",value:function(e,t){return function(n){$_.postVote(e,t,{success:function(e){n({updatedPoll:e,choiceId:t})},error:function(){}})}}}]),e}(),tC=Ku.a.createActions(eC);function nC(e){return(nC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function oC(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function rC(e){return(rC=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function aC(e,t){return(aC=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function iC(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var sC=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=function(e,t){return!t||"object"!==nC(t)&&"function"!=typeof t?iC(e):t}(this,rC(t).call(this,e))).state={choiceSelected:!1},n.answerQuestion=n.answerQuestion.bind(iC(iC(n))),n.renderChoice=n.renderChoice.bind(iC(iC(n))),n.renderResult=n.renderResult.bind(iC(iC(n))),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&aC(e,t)}(t,u.a.Component),function(e,t,n){t&&oC(e.prototype,t),n&&oC(e,n)}(t,[{key:"answerQuestion",value:function(e){this.setState({choiceSelected:!0}),tC.vote(this.props.poll.id,e)}},{key:"renderChoice",value:function(e){return u.a.createElement("label",{className:"embeddable-poll__radio-label"},e.text,u.a.createElement("input",{type:"radio",name:"radio",className:"embeddable-poll__radio-input",onClick:this.answerQuestion.bind(this,e.id)}),u.a.createElement("span",{className:"embeddable-poll__radio-button"}))}},{key:"renderChoices",value:function(){return this.state.choiceSelected?u.a.createElement(jt.a,null):this.props.poll.choices&&this.props.poll.choices.length?this.props.poll.choices.map(this.renderChoice):void 0}},{key:"getStyle",value:function(e){return{width:e.response_percentage+"%"}}},{key:"renderResult",value:function(e){var t="embeddable-poll__progress-bar progress-bar__bar";return e.id===this.props.selectedChoiceId&&(t+=" progress-bar__bar--selected"),u.a.createElement("div",{className:t,ref:"bar".concat(e.id)},u.a.createElement("div",{ref:"innerBar".concat(e.id),className:"embeddable-poll__progress-bar__inner progress-bar__bar__inner"},u.a.createElement("span",{className:"embeddable-poll__progress-bar__result-percentage"},e.response_percentage,"%")," ",u.a.createElement("span",{className:"embeddable-poll__progress-bar__choice-text"},e.text),u.a.createElement("div",{className:"embeddable-poll__progress-bar__inner__background",style:this.getStyle(e)})))}},{key:"renderResults",value:function(){if(this.props.poll.choices.length)return this.props.poll.choices.map(this.renderResult)}},{key:"render",value:function(){return this.props.selectedChoiceId?u.a.createElement("div",{ref:"choiceBoxResults"},this.renderResults()):u.a.createElement("div",{ref:"choiceBoxChoices"},this.renderChoices())}}]),t}();function cC(e){return(cC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function lC(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function uC(e,t){return!t||"object"!==cC(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function pC(e){return(pC=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function fC(e,t){return(fC=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var dC=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),uC(this,pC(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&fC(e,t)}(t,u.a.Component),function(e,t,n){t&&lC(e.prototype,t),n&&lC(e,n)}(t,[{key:"renderResultsDisplayMessage",value:function(){var e=this;if(this.props.poll.choices&&this.props.poll.choices.length){var t=this.props.poll.choices.find(function(t){return t.id===e.props.selectedChoiceId});return t.results_display_message_text?u.a.createElement("div",{className:"embeddable-poll__results-message embeddable-poll__info__text",ref:"resultsMessage"},u.a.createElement("a",{href:t.results_display_message_url,ref:"resultsMessageLink",target:"_blank"},t.results_display_message_text," ",u.a.createElement("span",null,">"))):null}return null}},{key:"render",value:function(){return this.props.selectedChoiceId?this.renderResultsDisplayMessage():null}}]),t}();function mC(e){return(mC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function hC(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function yC(e,t){return!t||"object"!==mC(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function bC(e){return(bC=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function gC(e,t){return(gC=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var vC=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),yC(this,bC(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&gC(e,t)}(t,u.a.Component),function(e,t,n){t&&hC(e.prototype,t),n&&hC(e,n)}(t,[{key:"renderVoteCount",value:function(){if(this.props.poll.total_vote_count>=this.props.poll.min_num_poll_answers)return u.a.createElement("h6",{className:"embeddable-poll__info__text text-right",ref:"voteCount"},this.props.poll.total_vote_count," ",Object(v.c)("Answered"))}},{key:"render",value:function(){return u.a.createElement("div",{className:"reusable-embed-wrapper"},u.a.createElement("div",{className:"reusable-embed embeddable-poll"},u.a.createElement("div",{className:"embeddable-poll__flex-wrapper row-flex"},u.a.createElement("div",{className:"embeddable-poll__row embeddable-poll__info row-flex-stack-md"},u.a.createElement("div",{className:"col-flex-half"},u.a.createElement("h6",{className:"embeddable-poll__info__text"},Object(v.c)("Poll")," | ",this.props.poll.issue.display_title)),u.a.createElement("div",{className:"col-flex-half"},this.renderVoteCount())),u.a.createElement("div",{className:"embeddable-poll__row embeddable-poll__poll-content row-flex-stack-md row-flex-stack-md--wrap"},u.a.createElement("div",{className:"col-flex-md-half embeddable-poll__question-box"},u.a.createElement("h2",{className:"embeddable-poll__question-text"},this.props.poll.question)),u.a.createElement("div",{className:"col-flex-md-half embeddable-poll__choice-box",ref:"choiceBox"},u.a.createElement(sC,{poll:this.props.poll,selectedChoiceId:this.props.selectedChoiceId})))),u.a.createElement("div",{className:"embeddable-poll__row"},u.a.createElement(dC,{poll:this.props.poll,selectedChoiceId:this.props.selectedChoiceId}))))}}]),t}();function wC(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kC(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var OC=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.bindListeners({storePoll:tC.loadPoll,storePreviousVote:tC.loadVote,updatePoll:tC.vote,storeNewVote:tC.vote}),this.state={pollsById:{},choicesByPollId:{}}}return function(e,t,n){t&&kC(e.prototype,t),n&&kC(e,n)}(e,[{key:"storePoll",value:function(e){this.storePoll(e)}},{key:"updatePoll",value:function(e){var t=e.updatedPoll;this.storePoll(t)}},{key:"storePreviousVote",value:function(e){var t=e.pollId,n=e.choice;this.storeVote(t,n.id)}},{key:"storeNewVote",value:function(e){var t=e.updatedPoll,n=e.choiceId;this.storeVote(t.id,n)}},{key:"storeVote",value:function(e,t){var n=Object.assign(this.state.choicesByPollId,wC({},e,t));this.setState({choicesByPollId:n})}},{key:"storePoll",value:function(e){var t=e.id,n=Object.assign(this.state.pollsById,wC({},t,e));this.setState({pollsById:n})}}]),e}(),_C=Ku.a.createStore(OC,"PollStore");function CC(e){return(CC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function SC(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function EC(e,t){return!t||"object"!==CC(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function PC(e){return(PC=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function jC(e,t){return(jC=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var NC=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),EC(this,PC(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&jC(e,t)}(t,u.a.Component),function(e,t,n){t&&SC(e.prototype,t),n&&SC(e,n)}(t,[{key:"componentWillMount",value:function(){tC.loadPoll(this.props.pollId),tC.loadVote(this.props.pollId)}},{key:"render",value:function(){return this.props.polls[this.props.pollId]?u.a.createElement(vC,{selectedChoiceId:this.props.choicesByPollId[this.props.pollId],poll:this.props.polls[this.props.pollId]}):u.a.createElement(jt.a,null)}}],[{key:"getStores",value:function(){return[_C]}},{key:"getPropsFromStores",value:function(){var e=_C.getState();return{polls:e.pollsById,choicesByPollId:e.choicesByPollId}}}]),t}(),TC=Sn()(NC),xC=n(308);function IC(e){return(IC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function AC(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function LC(e){return(LC=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function RC(e,t){return(RC=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function MC(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function BC(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var DC=function(e){function t(){var e,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];return BC(MC(MC(n=function(e,t){return!t||"object"!==IC(t)&&"function"!=typeof t?MC(e):t}(this,(e=LC(t)).call.apply(e,[this].concat(r))))),"previousPage",function(){n.props.setPage(n.props.page-1)}),BC(MC(MC(n)),"nextPage",function(){n.props.setPage(n.props.page+1)}),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&RC(e,t)}(t,u.a.Component),function(e,t,n){t&&AC(e.prototype,t),n&&AC(e,n)}(t,[{key:"render",value:function(){return this.props.totalPages<=1?u.a.createElement("div",{className:"pagination"}):u.a.createElement("div",{className:"pagination"},u.a.createElement("ul",null,u.a.createElement("li",{className:"page-prev"},u.a.createElement("a",{ref:"previousPageLink",href:"#",onClick:this.previousPage,style:{display:this.displayPreviousLink()}},"Prev")),u.a.createElement("li",{className:"page-next"},u.a.createElement("a",{ref:"nextPageLink",href:"#",onClick:this.nextPage,style:{display:this.displayNextLink()}},"Next"))))}},{key:"displayPreviousLink",value:function(){if(1===this.props.page)return"none"}},{key:"displayNextLink",value:function(){if(this.props.page===this.props.totalPages)return"none"}}]),t}();function zC(e){return(zC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function WC(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function FC(e){return(FC=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function UC(e,t){return(UC=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function qC(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function GC(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}BC(DC,"propTypes",{page:y.a.number.isRequired,totalPages:y.a.number,setPage:y.a.func.isRequired});var HC=function(e){function t(){var e,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];return GC(qC(qC(n=function(e,t){return!t||"object"!==zC(t)&&"function"!=typeof t?qC(e):t}(this,(e=FC(t)).call.apply(e,[this].concat(r))))),"handleClick",function(e){e.preventDefault(),n.props.active?n.props.filterCallback(null):n.props.filterCallback(n.props.type)}),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&UC(e,t)}(t,u.a.Component),function(e,t,n){t&&WC(e.prototype,t),n&&WC(e,n)}(t,[{key:"render",value:function(){return u.a.createElement("li",{className:this.className(),onClick:this.handleClick},u.a.createElement("a",{href:"#"},u.a.createElement("span",{ref:"title",className:"search-filter-title"},this.humanizeType(this.props.type))))}},{key:"humanizeType",value:function(e){return{action:Object(v.c)("Actions"),article:Object(v.c)("Articles"),video:Object(v.c)("Videos"),reward:Object(v.c)("Rewards")}[e]}},{key:"className",value:function(){return this.props.active?"search-filter active":"search-filter"}}]),t}();function VC(e){return(VC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function YC(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function QC(e,t){return!t||"object"!==VC(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function KC(e){return(KC=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function JC(e,t){return(JC=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}GC(HC,"propTypes",{filterCallback:y.a.func.isRequired,type:y.a.string.isRequired,active:y.a.bool}),GC(HC,"defaultProps",{active:!1});var ZC=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),QC(this,KC(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&JC(e,t)}(t,u.a.Component),function(e,t,n){t&&YC(e.prototype,t),n&&YC(e,n)}(t,[{key:"render",value:function(){var e=this;return u.a.createElement("div",{className:"search-filters"},u.a.createElement("div",{className:"search-filter-list-title"},Object(v.c)("Refine Results")),u.a.createElement("ul",{className:"search-filter-list"},this.props.types.map(function(t){return u.a.createElement(HC,{filterCallback:e.props.filterCallback,type:t,active:e.props.activeFilter===t})})))}}]),t}();function $C(e){return($C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function XC(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function eS(e){return(eS=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function tS(e,t){return(tS=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function nS(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function oS(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(ZC,"propTypes",{filterCallback:y.a.func.isRequired,types:y.a.array.isRequired,activeFilter:y.a.string});var rS=function(e){function t(){var e,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];return oS(nS(nS(n=function(e,t){return!t||"object"!==$C(t)&&"function"!=typeof t?nS(e):t}(this,(e=eS(t)).call.apply(e,[this].concat(r))))),"state",{query:n.props.query}),oS(nS(nS(n)),"handleSubmit",function(e){e.preventDefault();var t=n.state.query.replace(/[\+-=&\|<>\!\(\)\{\}\[\]\^"~\*\?:\\\/]/gm,"");n.props.getSearchResults(t)}),oS(nS(nS(n)),"handleInputChange",function(e){e.preventDefault(),n._mounted&&n.setState({query:e.target.value})}),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&tS(e,t)}(t,u.a.Component),function(e,t,n){t&&XC(e.prototype,t),n&&XC(e,n)}(t,[{key:"componentDidMount",value:function(){this._mounted=!0}},{key:"componentWillUnmount",value:function(){this._mounted=!1}},{key:"render",value:function(){return u.a.createElement("div",{className:"search-results-input"},u.a.createElement("form",{ref:"form",onSubmit:this.handleSubmit},u.a.createElement("input",{ref:"field",type:"text",name:"q",value:this.state.query,onChange:this.handleInputChange}),u.a.createElement("div",{className:"search-button"},u.a.createElement("button",{ref:"submitButton",type:"submit",onClick:this.handleSubmit},u.a.createElement("i",{className:"fas fa-search"})))))}}]),t}();function aS(e){return(aS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function iS(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function sS(e,t){return!t||"object"!==aS(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function cS(e){return(cS=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function lS(e,t){return(lS=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}oS(rS,"displayName","SearchInput"),oS(rS,"propTypes",{query:y.a.string,getSearchResults:y.a.func.isRequired});var uS=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),sS(this,cS(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&lS(e,t)}(t,u.a.Component),function(e,t,n){t&&iS(e.prototype,t),n&&iS(e,n)}(t,[{key:"render",value:function(){var e=this.props.number.toLocaleString();return u.a.createElement("span",null,u.a.createElement("span",{className:"action-item__counter--bold"},u.a.createElement("i",{className:"fas fa-bolt"})," ".concat(Object(v.c)("{{ number }} people have taken this action so far",{number:e}))))}}]),t}();function pS(e){return(pS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function fS(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function dS(e,t){return!t||"object"!==pS(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function mS(e){return(mS=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function hS(e,t){return(hS=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var yS=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),dS(this,mS(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&hS(e,t)}(t,u.a.Component),function(e,t,n){t&&fS(e.prototype,t),n&&fS(e,n)}(t,[{key:"pointsPhrase",value:function(){var e={points:this.props.points};return this.props.completed?1===this.props.points?Object(v.c)("{{ points }} point earned",e):Object(v.c)("{{ points }} points earned",e):1===this.props.points?Object(v.c)("{{ points }} point available",e):Object(v.c)("{{ points }} points available",e)}},{key:"render",value:function(){return this.props.completed?u.a.createElement("span",null,u.a.createElement("i",{className:"far fa-check-circle points__icon--green"}),u.a.createElement("span",null,this.pointsPhrase())):u.a.createElement("span",null,this.pointsPhrase())}}]),t}();function bS(e){return(bS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function gS(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function vS(e,t){return!t||"object"!==bS(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function wS(e){return(wS=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function kS(e,t){return(kS=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var OS=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),vS(this,wS(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&kS(e,t)}(t,u.a.Component),function(e,t,n){t&&gS(e.prototype,t),n&&gS(e,n)}(t,[{key:"render",value:function(){return!!this.props.issue&&u.a.createElement("a",{ref:"issueName",className:"headline__topic--gray",href:this.props.issue.url},this.props.issue.name)}}]),t}();function _S(e){return(_S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function CS(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function SS(e,t){return!t||"object"!==_S(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ES(e){return(ES=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function PS(e,t){return(PS=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var jS=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),SS(this,ES(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&PS(e,t)}(t,u.a.Component),function(e,t,n){t&&CS(e.prototype,t),n&&CS(e,n)}(t,[{key:"partnerName",value:function(){return!0===this.props.partner.archived?u.a.createElement("span",null,this.props.partner.name):u.a.createElement("a",{href:this.props.partner.url},this.props.partner.name)}},{key:"render",value:function(){return this.props.partner?u.a.createElement("span",{ref:"actionPartner"},this.partnerName()):u.a.createElement("span",null)}}]),t}();function NS(e){return(NS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function TS(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function xS(e,t){return!t||"object"!==NS(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function IS(e){return(IS=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function AS(e,t){return(AS=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var LS=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),xS(this,IS(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&AS(e,t)}(t,u.a.Component),function(e,t,n){t&&TS(e.prototype,t),n&&TS(e,n)}(t,[{key:"issueSlug",value:function(){return void 0!==this.props.data.issue?this.props.data.issue.slug:"citizenship"}},{key:"render",value:function(){return u.a.createElement("li",{className:"action-item"},u.a.createElement("p",{className:"action-item__counter--red"},this.props.data.users_completed?u.a.createElement(uS,{number:this.props.data.users_completed}):null),u.a.createElement("div",{className:"action-item__feed"},u.a.createElement("div",{className:"action-item__avatar"},u.a.createElement("a",{href:this.props.data.url},u.a.createElement("i",{ref:"icon",className:"action-icon icon__large icon-".concat(this.issueSlug())}))),u.a.createElement("div",{className:"action-item__body"},u.a.createElement(OS,{ref:"issue",issue:this.props.data.issue}),u.a.createElement("h3",{className:"headline__third-tier"},u.a.createElement("a",{href:this.props.data.url},this.props.data.title)),u.a.createElement("div",{className:"action-item__points-and-partners"},u.a.createElement(yS,{ref:"actionPoints",points:this.props.data.points,completed:this.props.data.has_completed}),this.pipe(),u.a.createElement(jS,{ref:"partnerMessage",partner:this.props.data.partner})))))}},{key:"pipe",value:function(){return!!this.props.data.partner&&u.a.createElement("span",{className:"pipe"},"|")}}]),t}();function RS(e){return(RS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function MS(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function BS(e,t){return!t||"object"!==RS(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function DS(e){return(DS=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function zS(e,t){return(zS=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var WS=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),BS(this,DS(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&zS(e,t)}(t,u.a.Component),function(e,t,n){t&&MS(e.prototype,t),n&&MS(e,n)}(t,[{key:"render",value:function(){return u.a.createElement("li",{className:"article-recent"},u.a.createElement("div",{ref:"image",className:"article-recent-image"},u.a.createElement("a",{href:this.props.data.url},u.a.createElement("img",{src:this.props.data.thumbnail_image,alt:this.props.data.name}))),u.a.createElement("div",{ref:"headline"},u.a.createElement("div",{className:"headline__topic--gray"},u.a.createElement("i",{className:"fas fa-user"})," ",Object(v.c)("Global Citizen Rewards")),u.a.createElement("h3",{className:"headline__third-tier"},u.a.createElement("a",{href:this.props.data.url}," ",this.props.data.name," "))),u.a.createElement("div",{className:"article-recent-content"},u.a.createElement("div",{className:"article-recent-entry"},u.a.createElement("p",{className:"article-recent-entry__description"},utils.truncateByWord(this.props.data.about,500))),u.a.createElement("p",{ref:"available_rewards",className:"article-recent-content__cta-text"},u.a.createElement("strong",null,this.getAvailableRewardsMessage()," ",u.a.createElement("a",{href:this.props.data.url,className:"no-break"},Object(v.c)("See details"))))))}},{key:"getAvailableRewardsMessage",value:function(){var e=this.props.data.total_shows_available;return Object(v.c)("{{ rewardCount }} available rewards.",{rewardCount:e})}}]),t}(),FS=function(e){var t=Qu()(e).fromNow();return t[0].toUpperCase()+t.slice(1)};function US(e){return(US="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function qS(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function GS(e){return(GS=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function HS(e,t){return(HS=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function VS(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function YS(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var QS=function(e){function t(){var e,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];return YS(VS(VS(n=function(e,t){return!t||"object"!==US(t)&&"function"!=typeof t?VS(e):t}(this,(e=GS(t)).call.apply(e,[this].concat(r))))),"videoIcon",function(){return n.props.data.video_link_url?u.a.createElement("span",{className:"video-icon far fa-play-circle"}):null}),YS(VS(VS(n)),"pipe",function(){return!!(n.props.data.partners||n.props.data.authors&&n.props.data.authors.length>0)&&u.a.createElement("span",{className:"pipe"},"|")}),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&HS(e,t)}(t,u.a.Component),function(e,t,n){t&&qS(e.prototype,t),n&&qS(e,n)}(t,[{key:"render",value:function(){var e=this.props.data.display_title||this.props.data.title;return u.a.createElement("li",{className:"article-recent"},u.a.createElement("div",{className:"article-recent-image"},u.a.createElement("a",{href:this.props.data.url},u.a.createElement("img",{src:this.props.data.share_image_url,alt:e}))),u.a.createElement("div",{className:"article-recent-content"},u.a.createElement(OS,{ref:"issue",issue:this.props.data.issue}),u.a.createElement("h3",{className:"headline__third-tier"},this.videoIcon(),u.a.createElement("a",{href:this.props.data.url}," ",e," ")),u.a.createElement(Id,{ref:"contentMetadata",authors:this.props.data.authors,partners:this.props.data.partners}),u.a.createElement("span",{className:"article-recent-meta"},this.pipe(),u.a.createElement("span",null,Object(v.c)("Published")," ",FS(this.props.data.release_date||this.props.data.publication_date))),u.a.createElement("div",{className:"article-recent-entry"},u.a.createElement("p",null,"".concat(this.props.data.teaser," "),u.a.createElement("a",{href:this.props.data.url,className:"no-break"},Object(v.c)("Read more"))))))}}]),t}();function KS(e){return(KS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function JS(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function ZS(e){return(ZS=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function $S(e,t){return($S=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function XS(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function eE(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var tE=function(e){function t(){var e,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];return eE(XS(XS(n=function(e,t){return!t||"object"!==KS(t)&&"function"!=typeof t?XS(e):t}(this,(e=ZS(t)).call.apply(e,[this].concat(r))))),"daysLeftMessage",function(){return 1==n.props.data.days_left?Object(v.c)("1 day left to enter"):Object(v.c)("{{ daysLeft }} days left to enter",{daysLeft:n.props.data.days_left})}),eE(XS(XS(n)),"formatCostMessage",function(e,t){return 1==t?Object(v.c)("1 ".concat(e," to enter.  ")):Object(v.c)("".concat(t," ").concat(e,"s to enter. ")+" ")}),eE(XS(XS(n)),"getCostMessage",function(){var e="",t="",o=n.props.data.actions||[],r=n.props.data.action_sets||[];return 0===o.length&&0===r.length?(e="point",t=n.props.data.point_cost):(e="action",t=o.length+r.length),n.formatCostMessage(e,t)}),eE(XS(XS(n)),"metaData",function(){var e=[];return n.props.data.date&&(e.push(n.formatDate()),(n.props.data.event_name||n.props.data.display_address)&&e.push(u.a.createElement("span",{className:"pipe"},"|"))),n.props.data.event_name&&(e.push(n.props.data.event_name),n.props.data.display_address&&e.push(u.a.createElement("span",{className:"pipe"},"|"))),n.props.data.display_address&&e.push(n.props.data.display_address),u.a.createElement("span",{ref:"meta-data",className:"article-recent-meta"},e)}),eE(XS(XS(n)),"formatDate",function(){var e=new Date(n.props.data.date);return Qu()(e).format("h:mm a MMM. D, YYYY")}),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&$S(e,t)}(t,u.a.Component),function(e,t,n){t&&JS(e.prototype,t),n&&JS(e,n)}(t,[{key:"render",value:function(){return u.a.createElement("li",{className:"article-recent"},u.a.createElement("div",{ref:"image",className:"article-recent-image"},u.a.createElement("a",{href:this.props.data.url},u.a.createElement("img",{src:this.props.data.thumbnail_image,alt:this.props.data.collection_name}))),u.a.createElement("div",{className:"article-recent-content"},u.a.createElement("div",{ref:"headline"},u.a.createElement("div",{className:"headline__topic--gray"},u.a.createElement("i",{className:"far fa-calendar"})," ",Object(v.c)("Global Citizen Rewards"),":",u.a.createElement("span",{className:"article-recent-content__time-left"}," ".concat(this.daysLeftMessage()))),u.a.createElement("h3",{className:"headline__third-tier"},u.a.createElement("a",{href:this.props.data.url}," ",this.props.data.name," "))),this.metaData(),u.a.createElement("div",{className:"article-recent-entry"},u.a.createElement("p",{className:"article-recent-entry__description"},Me.a.truncateByWord(this.props.data.about,500))),u.a.createElement("p",{ref:"cost",className:"article-recent-content__cta-text"},u.a.createElement("strong",null,this.getCostMessage(),u.a.createElement("a",{href:this.props.data.url,className:"no-break"},Object(v.c)("Enter now"))))))}}]),t}();function nE(e){return(nE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function oE(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function rE(e,t){return!t||"object"!==nE(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function aE(e){return(aE=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function iE(e,t){return(iE=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var sE=["petition","email","tweet","call","checkin","action-set","action"],cE=["collection"],lE=["article","slideshow","video","feature","content"],uE=["reward"],pE=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),rE(this,aE(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&iE(e,t)}(t,u.a.Component),function(e,t,n){t&&oE(e.prototype,t),n&&oE(e,n)}(t,[{key:"getGCType",value:function(e){return e.doc_type?e.doc_type:e.searchResult?e.searchResult.gc_type[0]:void console.error("document without doc_type found:",e.id)}},{key:"render",value:function(){var e=this;return u.a.createElement("ol",null,this.props.results.map(function(t,n){var o=e.getGCType(t);return o?sE.includes(o)?u.a.createElement(LS,{key:n,data:t.itemData||t}):lE.includes(o)?u.a.createElement(QS,{key:n,data:t.itemData||t}):cE.includes(o)?u.a.createElement(WS,{key:n,data:t.itemData||t}):uE.includes(o)?u.a.createElement(tE,{key:n,data:t.itemData||t}):void console.log("Invalid search result type"):null}))}}]),t}();function fE(e){return(fE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function dE(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function mE(e,t){return!t||"object"!==fE(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function hE(e){return(hE=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function yE(e,t){return(yE=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(pE,"propTypes",{results:y.a.array.isRequired});var bE=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),mE(this,hE(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&yE(e,t)}(t,u.a.Component),function(e,t,n){t&&dE(e.prototype,t),n&&dE(e,n)}(t,[{key:"render",value:function(){return u.a.createElement("p",{className:"search-results-summary"},this.resultsSummary())}},{key:"resultsSummary",value:function(){if(this.props.query)return 0===this.props.totalResultCount?this.resultsForQuery():this.props.totalResultCount>0?"".concat(this.resultsForQuery()," ").concat(this.pageSummary()):Object(v.c)('Loading search results for "{{query}}"...',{query:this.props.query})}},{key:"resultsForQuery",value:function(){return 1===this.props.totalResultCount?Object(v.c)('{{totalResultCount}} result found for "{{query}}".',{totalResultCount:this.props.totalResultCount,query:this.props.query}):Object(v.c)('{{totalResultCount}} results found for "{{query}}".',{totalResultCount:this.props.totalResultCount,query:this.props.query})}},{key:"pageSummary",value:function(){return Object(v.c)("Showing page {{currentPage}} of {{totalPages}}.",{currentPage:this.currentPage(),totalPages:this.props.totalPages})}},{key:"currentPage",value:function(){return this.props.page||1}}]),t}();function gE(e){return(gE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function vE(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function wE(e){return(wE=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function kE(e,t){return(kE=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function OE(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(bE,"propTypes",{totalResultCount:y.a.number,query:y.a.string,page:y.a.number,resultsPerPage:y.a.number});var CE=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),_E(OE(OE(n=function(e,t){return!t||"object"!==gE(t)&&"function"!=typeof t?OE(e):t}(this,wE(t).call(this,e)))),"handleChange",function(e){if(e.preventDefault(),n._mounted){var t=e.target.value;n.setState({value:t}),n.props.sortCallback(t)}}),n.state={value:n.props.activeSort},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&kE(e,t)}(t,u.a.Component),function(e,t,n){t&&vE(e.prototype,t),n&&vE(e,n)}(t,[{key:"componentDidMount",value:function(){this._mounted=!0}},{key:"componentWillUnmount",value:function(){this._mounted=!1}},{key:"render",value:function(){return u.a.createElement("div",{className:"search-sort"},u.a.createElement("span",{className:"title"},Object(v.c)("Sort By:")),u.a.createElement("select",{ref:"select",value:this.state.value,onChange:this.handleChange},this.props.types.map(function(e){return u.a.createElement("option",{value:e.value},e.display)})))}}]),t}();function SE(e){return(SE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function EE(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function PE(e){return(PE=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function jE(e,t){return(jE=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function NE(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function TE(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}_E(CE,"displayName","SearchSort"),_E(CE,"propTypes",{page:y.a.number.isRequired,totalPages:y.a.number.isRequired,setPage:y.a.func.isRequired});var xE=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),TE(NE(NE(n=function(e,t){return!t||"object"!==SE(t)&&"function"!=typeof t?NE(e):t}(this,PE(t).call(this,e)))),"getSearchResults",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n.state.query,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:n.state.types;n.setState({query:e,results:null,page:t,totalResultCount:null,types:o}),n.props.searchClient.elasticsearchGet(n.setSearchResults,n.setSearchResults.bind(NE(NE(n)),{}),e,t,o,n.state.options.sort)}),TE(NE(NE(n)),"setSearchResults",function(e){n.setState({results:e.results,totalResultCount:e.count,resultsPerPage:Nl.a.apiProxy.pageSize})}),TE(NE(NE(n)),"queryString",function(){var e="?q=".concat(n.state.query,"&page=").concat(n.state.page);return bt.a.reduce(n.state.options,n.constructQueryString,e)}),TE(NE(NE(n)),"getSearchFilterTypes",function(){return["action","reward","article"]}),TE(NE(NE(n)),"getActiveFilter",function(){if(1===n.state.types.length){var e=n.state.types[0];return"content"===e?"article":e}return n.state.options.gc_type}),TE(NE(NE(n)),"getDateSortValue",function(){return"date"}),TE(NE(NE(n)),"filterByGcType",function(e){"article"===e&&(e="content"),n.getSearchResults(n.state.query,1,[e])}),TE(NE(NE(n)),"sortBy",function(e){n.setOption("sort",e)}),TE(NE(NE(n)),"setOption",function(e,t){var o=n.state.options;bt.a.identity(t)?o[e]=t:delete o[e],n.setState({options:o,page:1}),n.getSearchResults()}),TE(NE(NE(n)),"totalPages",function(){return n.state.totalResultCount?Math.ceil(n.state.totalResultCount/n.state.resultsPerPage):0}),TE(NE(NE(n)),"setPage",function(e){n.getSearchResults(n.state.query,e)}),n.state={query:n.props.query,page:parseInt(n.props.page||1),options:bt.a.pick(n.props.options,bt.a.identity),types:["reward","content","action"]},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&jE(e,t)}(t,u.a.Component),function(e,t,n){t&&EE(e.prototype,t),n&&EE(e,n)}(t,[{key:"componentDidMount",value:function(){this._mounted=!0,this.getSearchResults(this.state.query,this.state.page),this.trackPageview()}},{key:"componentDidUpdate",value:function(){history.pushState({},"",this.queryString()),this.trackPageview()}},{key:"componentWillUnmount",value:function(){this._mounted=!1}},{key:"trackPageview",value:function(){window.ga("send","pageview",window.location.href)}},{key:"constructQueryString",value:function(e,t,n){return"".concat(e,"&").concat(n,"=").concat(t)}},{key:"render",value:function(){return u.a.createElement("div",{className:"search-results"},u.a.createElement("div",{className:"search-results-sidebar"},u.a.createElement(ZC,{ref:"searchFilterList",filterCallback:this.filterByGcType,types:this.getSearchFilterTypes(),activeFilter:this.getActiveFilter()})),u.a.createElement("div",{className:"search-results-body"},u.a.createElement(rS,{ref:"searchInput",query:this.state.query,getSearchResults:this.getSearchResults}),u.a.createElement(bE,{ref:"searchResultsSummary",totalResultCount:this.state.totalResultCount,resultsPerPage:this.state.resultsPerPage,totalPages:this.totalPages(),query:this.state.query,page:this.state.page}),u.a.createElement(CE,{ref:"searchSort",sortCallback:this.sortBy,types:[{display:Object(v.c)("relevance"),value:"relevance"},{display:Object(v.c)("date"),value:this.getDateSortValue()}],activeSort:this.state.options.sort}),u.a.createElement("div",{className:"search-content content-actions-list"},u.a.createElement("div",{className:"content-search-bar"},u.a.createElement(pE,{ref:"searchResultsList",results:this.state.results||[]}),u.a.createElement(DC,{ref:"pagination",page:this.state.page,totalPages:this.totalPages(),setPage:this.setPage})))))}}]),t}();function IE(e){return(IE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function AE(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function LE(e){return(LE=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function RE(e,t){return(RE=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ME(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}TE(xE,"displayName","SearchResults"),xE.propTypes={query:y.a.string.isRequired,page:y.a.number,options:y.a.object},xE.defaultProps={page:1,options:{},searchClient:new Zu};var BE=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=function(e,t){return!t||"object"!==IE(t)&&"function"!=typeof t?ME(e):t}(this,LE(t).call(this,e))).openSignUpDialog=n.openSignUpDialog.bind(ME(ME(n))),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&RE(e,t)}(t,u.a.Component),function(e,t,n){t&&AE(e.prototype,t),n&&AE(e,n)}(t,[{key:"componentDidMount",value:function(){pu.a.loadUser()}},{key:"openSignUpDialog",value:function(){window.openTargetDialog("#registerDialog")}},{key:"name",value:function(){return this.props.user.first_name?this.props.user.first_name:"Global Citizen"}},{key:"render",value:function(){return null===this.props.user?u.a.createElement(jt.a,null):u.a.createElement("div",{ref:"userWelcomeMessage",className:"user-greeting-first-name"},Object(v.c)("Welcome, {{ name }}!",{name:this.name()}))}}],[{key:"getStores",value:function(){return[jn.a]}},{key:"getPropsFromStores",value:function(){return{user:jn.a.getState().user}}}]),t}(),DE=Sn()(BE);function zE(){var e=i()(".form--floating-label--custom_gender");"Custom"===i()("#id_gender").val()?e.show():e.hide()}function WE(){zE(),i()("#id_gender").change(zE)}var FE=n(48),UE=n(192);function qE(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var GE=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return function(e,t,n){t&&qE(e.prototype,t),n&&qE(e,n)}(e,null,[{key:"getActionSet",value:function(e,t){Object(nu.a)({url:"/v1/actions/sets/".concat(e,"/"),type:"GET",success:t.success})}},{key:"getActionSets",value:function(e,t){Object(nu.a)({url:"/v1/actions/sets/?id=".concat(e),type:"GET",success:t.success})}},{key:"completeActionSet",value:function(e,t){Object(nu.a)({url:"/v1/actions/sets/".concat(e,"/complete/"),type:"POST",contentType:"application/json; charset=utf-8",dataType:"json",success:t.success,error:t.error})}}]),e}();function HE(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var VE=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return function(e,t,n){t&&HE(e.prototype,t),n&&HE(e,n)}(e,[{key:"loadActionSet",value:function(e){return function(t){GE.getActionSet(e,{success:function(e){t(e)}})}}}]),e}(),YE=Ku.a.createActions(VE);function QE(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var KE=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.generateActions("nextAction")}return function(e,t,n){t&&QE(e.prototype,t),n&&QE(e,n)}(e,[{key:"loadActionSetModule",value:function(e){return YE.loadActionSet(e),pu.a.loadUser(),!0}},{key:"loadActionSets",value:function(e){return function(t){if(void 0===e||0===e.length)return t([]);GE.getActionSets(e,{success:function(e){t(e)}})}}},{key:"completeActionSet",value:function(e,t){return function(t){GE.completeActionSet(e,{success:function(e,n,o){t(e&&e.data),pu.a.loadUser(),pu.a.loadUserPoints()}})}}},{key:"socialShare",value:function(e,t,n){return Object(Pe.a)(e,t,"action-set",n),!0}}]),e}(),JE=Ku.a.createActions(KE);function ZE(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $E(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var XE=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.bindListeners({loadActionSet:YE.loadActionSet,updateActionSet:JE.completeActionSet}),this.state={actionSet:null}}return function(e,t,n){t&&$E(e.prototype,t),n&&$E(e,n)}(e,[{key:"loadActionSet",value:function(e){this.setState({actionSet:e})}},{key:"updateActionSet",value:function(e){e&&this.setState(function(t){return{actionSet:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),o.forEach(function(t){ZE(e,t,n[t])})}return e}({},t.actionSet,e)}})}}]),e}(),eP=Ku.a.createStore(XE,"ActionSetStore");function tP(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var nP=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.bindListeners({setActionSets:JE.loadActionSets,loadActionSetModule:[JE.loadActionSetModule,pu.a.loadUser,YE.loadActionSet],nextAction:[JE.nextAction,JE.completeActionSet]}),this.state={user:null,actionSetsById:{}}}return function(e,t,n){t&&tP(e.prototype,t),n&&tP(e,n)}(e,[{key:"loadActionSetModule",value:function(){this.waitFor([eP,jn.a]);var e=eP.getState().actionSet,t=jn.a.getState().user;t&&e&&(this.setActionSets([e]),this.setState({user:t,currentActionIndex:this.state.currentActionIndex||0}))}},{key:"setActionSets",value:function(e){var t={},n=!0,o=!1,r=void 0;try{for(var a,i=e[Symbol.iterator]();!(n=(a=i.next()).done);n=!0){var s=a.value;t[s.id]={actionSet:s,initialized:!1}}}catch(e){o=!0,r=e}finally{try{n||null==i.return||i.return()}finally{if(o)throw r}}var c=Object.assign({},this.state.actionSetsById,t);this.setState({actionSetsById:c})}},{key:"nextAction",value:function(){this.setState({currentActionIndex:this.state.currentActionIndex+1})}}]),e}(),oP=Ku.a.createStore(nP,"ActionSetModuleStore");function rP(e){return(rP="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function aP(){return(aP=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}function iP(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function sP(e){return(sP=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function cP(e,t){return(cP=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function lP(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function uP(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var pP=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),uP(lP(lP(n=function(e,t){return!t||"object"!==rP(t)&&"function"!=typeof t?lP(e):t}(this,sP(t).call(this,e)))),"onEachActionFinished",function(){JE.nextAction.defer()}),uP(lP(lP(n)),"onActionSetFinished",function(){JE.completeActionSet(n.props.actionSetId)}),uP(lP(lP(n)),"closeIntroScreen",function(){return n.setState({showIntroScreen:!1})}),n.state={showIntroScreen:e.isEmbedded},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&cP(e,t)}(t,u.a.Component),function(e,t,n){t&&iP(e.prototype,t),n&&iP(e,n)}(t,[{key:"componentWillMount",value:function(){JE.loadActionSetModule(this.props.actionSetId)}},{key:"render",value:function(){var e=this.props.actionSetsById[this.props.actionSetId]&&this.props.actionSetsById[this.props.actionSetId].actionSet;return e&&e.actions&&e.actions.length?this.state.showIntroScreen?u.a.createElement(wk,aP({},this.props,{actionSet:e,onClose:this.closeIntroScreen})):e.has_completed&&this.props.user&&!this.props.user.is_shadow?u.a.createElement(Ib,null):this.props.currentActionIndex===e.actions.length?u.a.createElement("div",null,u.a.createElement(zk,{actionList:e.actions,completed:this.props.currentActionIndex,total:e.actions.length,points:e.points,isEmbedded:this.props.isEmbedded}),u.a.createElement(Yw,{actionSet:e,user:this.props.user,container:this.props.container,isEmbedded:this.props.isEmbedded})):u.a.createElement(Qk,{actionList:e.actions,actionSetId:this.props.actionSetId,currentActionIndex:this.props.currentActionIndex,onAllActionsFinished:this.onActionSetFinished,onEachActionFinished:this.onEachActionFinished,totalPoints:e.points,user:this.props.user,container:this.props.container,isEmbedded:this.props.isEmbedded}):u.a.createElement(jt.a,null)}}],[{key:"getStores",value:function(){return[oP]}},{key:"getPropsFromStores",value:function(){return oP.getState()}}]),t}(),fP=Sn()(pP);pP.propTypes={actionSet:y.a.arrayOf(y.a.object),actionSetId:y.a.number,user:pi.a.User,currentActionIndex:y.a.number};var dP=n(195);function mP(e){return(mP="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function hP(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function yP(e,t){return!t||"object"!==mP(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function bP(e){return(bP=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function gP(e,t){return(gP=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var vP=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),yP(this,bP(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&gP(e,t)}(t,u.a.Component),function(e,t,n){t&&hP(e.prototype,t),n&&hP(e,n)}(t,[{key:"componentWillMount",value:function(){Zd.a.loadActions(this.props.actionIds),JE.loadActionSets(this.props.actionSetIds)}},{key:"render",value:function(){var e=[],t=!0,n=!1,o=void 0;try{for(var r,a=this.props.actionIds[Symbol.iterator]();!(t=(r=a.next()).done);t=!0){var i=r.value,s=this.props.actionsById[i];s&&e.push(u.a.createElement(Su,{key:s.action.id,action:s.action,openInIframe:this.props.openInIframe,backButtonText:this.props.backButtonText}))}}catch(e){n=!0,o=e}finally{try{t||null==a.return||a.return()}finally{if(n)throw o}}var c=!0,l=!1,p=void 0;try{for(var f,d=this.props.actionSetIds[Symbol.iterator]();!(c=(f=d.next()).done);c=!0){var m=f.value,h=this.props.actionSetsById[m];h&&e.push(u.a.createElement(Su,{key:h.actionSet.id,actionSet:h.actionSet,openInIframe:this.props.openInIframe,backButtonText:this.props.backButtonText}))}}catch(e){l=!0,p=e}finally{try{c||null==d.return||d.return()}finally{if(l)throw p}}return e.length?u.a.createElement("div",{className:"multiple-action-tile-wrapper"},u.a.createElement(gi.a,null,e)):u.a.createElement(jt.a,null)}}],[{key:"getStores",value:function(){return[em.a,oP]}},{key:"getPropsFromStores",value:function(){var e=em.a.getState(),t=oP.getState();return{actionsById:e.actionsById,actionSetsById:t.actionSetsById}}}]),t}();vP.defaultProps={openInIframe:!1},vP.propTypes={actionIds:y.a.array,actionsById:y.a.object,actionSetsById:y.a.object};var wP=Sn()(vP),kP=n(59);function OP(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var _P=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return function(e,t,n){t&&OP(e.prototype,t),n&&OP(e,n)}(e,[{key:"loadActions",value:function(e){return function(t){kP.a.getActions(e,{success:function(e){t(e)}})}}},{key:"completedActionsLoading",value:function(){return!0}},{key:"loadCompletedActions",value:function(){return this.completedActionsLoading(),function(e){ay.a.getCompletedActions({success:function(t){e(t)},error:function(){e([])}})}}},{key:"loadActionSets",value:function(e){return function(t){if(void 0===e||0===e.length)return t([]);GE.getActionSets(e,{success:function(e){t(e)}})}}},{key:"completedActionSetsLoading",value:function(){return!0}},{key:"loadCompletedActionSets",value:function(){return this.completedActionSetsLoading(),function(e){ay.a.getCompletedActionSets({success:function(t){e(t)},error:function(){e([])}})}}}]),e}(),CP=Ku.a.createActions(_P);function SP(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var EP=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.bindListeners({addActions:CP.loadActions,addActionSets:CP.loadActionSets,addCompletedActions:CP.loadCompletedActions,addCompletedActionSets:CP.loadCompletedActionSets,completedActionsLoading:CP.completedActionsLoading,completedActionSetsLoading:CP.completedActionSetsLoading}),this.state={actions:[],actionsLoaded:!1,actionSets:[],actionSetsLoaded:!1,completedActions:[],completedActionSets:[]}}return function(e,t,n){t&&SP(e.prototype,t),n&&SP(e,n)}(e,[{key:"addActions",value:function(e){var t=this.state.actions.concat(e);this.setState({actions:t,actionsLoaded:!0})}},{key:"addCompletedActions",value:function(e){this.setState({completedActions:e,completedActionsLoaded:!0})}},{key:"completedActionsLoading",value:function(){this.setState({completedActionsLoading:!0})}},{key:"addActionSets",value:function(e){var t=this.state.actionSets.concat(e);this.setState({actionSets:t,actionSetsLoaded:!0})}},{key:"addCompletedActionSets",value:function(e){this.setState({completedActionSets:e,completedActionSetsLoaded:!0})}},{key:"completedActionSetsLoading",value:function(){this.setState({completedActionSetsLoading:!0})}}]),e}(),PP=Ku.a.createStore(EP,"ActionJourneyStore");function jP(e){return(jP="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function NP(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function TP(e,t){return!t||"object"!==jP(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function xP(e){return(xP=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function IP(e,t){return(IP=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var AP=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),TP(this,xP(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&IP(e,t)}(t,u.a.Component),function(e,t,n){t&&NP(e.prototype,t),n&&NP(e,n)}(t,[{key:"getPartners",value:function(){for(var e=[],t=0;t<this.props.partners.length;t++)0!==t&&e.push(u.a.createElement("span",null," +")),e.push(u.a.createElement("img",{ref:"partner-logo",src:this.props.partners[t].logo_url,alt:this.props.partners[t].name}));return e}},{key:"render",value:function(){return!!(this.props.partners&&this.props.partners.length>0)&&u.a.createElement("div",{className:"level-partner"},u.a.createElement("span",null,Object(v.c)("In partnership with")),this.getPartners())}}]),t}();function LP(e){return(LP="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function RP(){return(RP=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}function MP(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function BP(e){return(BP=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function DP(e,t){return(DP=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function zP(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var WP=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=function(e,t){return!t||"object"!==LP(t)&&"function"!=typeof t?zP(e):t}(this,BP(t).call(this,e))).loadCompletedActionsAndActionSets=n.loadCompletedActionsAndActionSets.bind(zP(zP(n))),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&DP(e,t)}(t,u.a.Component),function(e,t,n){t&&MP(e.prototype,t),n&&MP(e,n)}(t,[{key:"renderPoints",value:function(e){return 1===e?"+ "+e+" point":"+ "+e+" points"}},{key:"loadCompletedActionsAndActionSets",value:function(){CP.loadCompletedActions(),CP.loadCompletedActionSets(),pu.a.loadUserPoints(),fu.a.loadCompletedActions(),fu.a.loadCompletedActionSets()}},{key:"render",value:function(){var e=this.props.action;if(void 0===e)return!1;var t=utils.truncateByWord(e.description,100);return e.has_completed?u.a.createElement("li",{className:"completed",ref:"actionJourneyAction"},u.a.createElement("p",null,t),u.a.createElement("a",{href:e.url,className:"points-cta"},u.a.createElement("span",{className:"completed-text"},u.a.createElement("i",{className:"fas fa-check","aria-hidden":"true"})," ",Object(v.c)("Completed"))),u.a.createElement(AP,{partners:e.partners})):u.a.createElement("li",{ref:"actionJourneyAction"},u.a.createElement("p",null,t),u.a.createElement(Hi.a,RP({ref:"openInIframe"},this.props,{buttonClass:"points-cta",buttonContent:[u.a.createElement("span",null,u.a.createElement("span",null,e.call_to_action)," ",u.a.createElement("span",{className:"points"},this.renderPoints(e.points)))],closeCallback:this.loadCompletedActionsAndActionSets,resourceUrl:this.props.action.url,navElement:this.props.navElement,openInIframe:this.props.openInIframe,openInNewWindow:this.props.openInNewWindow,backButtonText:this.props.backButtonText})),u.a.createElement(AP,{partners:e.partners}))}}]),t}();function FP(e){return(FP="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function UP(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function qP(e,t){return!t||"object"!==FP(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function GP(e){return(GP=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function HP(e,t){return(HP=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var VP=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),qP(this,GP(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&HP(e,t)}(t,u.a.Component),function(e,t,n){t&&UP(e.prototype,t),n&&UP(e,n)}(t,[{key:"componentWillMount",value:function(){CP.loadActions(this.props.actionIds),CP.loadActionSets(this.props.actionSetIds),pu.a.loadUser(),this.props.completedActionsLoading||CP.loadCompletedActions(),this.props.completedActionSetsLoading||CP.loadCompletedActionSets()}},{key:"levelClassName",value:function(){var e="level-step cf";return 1===this.props.levelNumber&&(e+=" active"),e}},{key:"renderTitle",value:function(){return this.props.title?u.a.createElement("h6",{ref:"action-journey-title",className:"action-journey-title"},this.props.title):!!this.props.levelNumber&&u.a.createElement("h6",{ref:"action-journey-title",className:"action-journey-title"},"Level ".concat(this.props.levelNumber))}},{key:"renderImage",value:function(){return!!this.props.levelImagePath&&u.a.createElement("img",{ref:"image",src:this.props.levelImagePath,alt:"level".concat(this.props.levelNumber,"-icon")})}},{key:"render",value:function(){if(this.props.actionsLoaded&&this.props.actionSetsLoaded){var e=[],t=[];return this.props.actionIds.forEach(function(t){var n=bt.a.findWhere(this.props.actions,{id:t}),o=bt.a.find(this.props.completedActions,function(e){return e.action===t});n&&(n.has_completed=!!o,e.push(u.a.createElement(WP,{action:n,user:this.props.user,openInIframe:!0,navElement:".attach-iframe-container",openInNewWindow:this.props.openInNewWindow,backButtonText:this.props.backButtonText})))},this),this.props.actionSetIds.forEach(function(t){var n=bt.a.findWhere(this.props.actionSets,{id:t}),o=bt.a.find(this.props.completedActionSets,function(e){return e.action_set===t});n&&(n.has_completed=!!o,e.push(u.a.createElement(WP,{action:n,user:this.props.user,openInIframe:!0,navElement:".attach-iframe-container",openInNewWindow:this.props.openInNewWindow,backButtonText:this.props.backButtonText})))},this),utils.inGroupsOf(e,3).forEach(function(e){t.push(u.a.createElement("div",{className:"level-section"},u.a.createElement("ul",{className:"action-section"},e)))}),u.a.createElement("div",{className:this.levelClassName()},u.a.createElement("div",{className:"level-head"},this.renderTitle(),this.renderImage()),t)}return u.a.createElement(jt.a,null)}}],[{key:"getStores",value:function(){return[PP,jn.a]}},{key:"getPropsFromStores",value:function(){var e=PP.getState(),t=jn.a.getState().user;return Object.assign(e,{user:t})}}]),t}(),YP=Sn()(VP),QP=function(e){return Promise.resolve(i.a.get("/api/activity/token/?stream="+e))};function KP(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var JP=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.client=ht.a.connect(Nl.a.stream.apiKey,null,Nl.a.stream.appId)}return function(e,t,n){t&&KP(e.prototype,t),n&&KP(e,n)}(e,[{key:"subscribe",value:function(e,t,n,o){var r=this;QP(e).then(function(a){var i=r.client.feed(e,t,a.token);i.get({limit:n}).then(function(e){o(e),i.subscribe(o)})})}}]),e}();function ZP(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $P(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function XP(e,t,n){return t&&$P(e.prototype,t),n&&$P(e,n),e}var ej=function(){function e(){ZP(this,e),this.possibleURLs=["https://graph.facebook.com/10206154409592003/picture?width=200&height=200","https://graph.facebook.com/979117092110963/picture?width=200&height=200","https://graph.facebook.com/10153580143240289/picture?width=200&height=200","https://graph.facebook.com/697060884/picture?width=200&height=200","https://graph.facebook.com/10203820485544145/picture?width=200&height=200","https://graph.facebook.com/10206755949272607/picture?width=200&height=200","https://graph.facebook.com/1176842142333027/picture?width=200&height=200","https://graph.facebook.com/10208384971328162/picture?width=200&height=200","https://graph.facebook.com/10153771115318092/picture?width=200&height=200","https://graph.facebook.com/926006597465360/picture?width=200&height=200","https://graph.facebook.com/10155782685215475/picture?width=200&height=200","https://graph.facebook.com/932942726744251/picture?width=200&height=200","https://graph.facebook.com/439543419571479/picture?width=200&height=200","https://graph.facebook.com/10153226175768509/picture?width=200&height=200","https://graph.facebook.com/10153106925521227/picture?width=200&height=200","https://graph.facebook.com/1206869729340195/picture?width=200&height=200","https://graph.facebook.com/10152796258647185/picture?width=200&height=200","https://graph.facebook.com/10205539553541411/picture?width=200&height=200","https://graph.facebook.com/10153012472490843/picture?width=200&height=200","https://graph.facebook.com/648117801996682/picture?width=200&height=200","https://graph.facebook.com/10153630736853142/picture?width=200&height=200","https://graph.facebook.com/10153567911007369/picture?width=200&height=200","https://graph.facebook.com/10100706128261049/picture?width=200&height=200","https://graph.facebook.com/176737489342139/picture?width=200&height=200","https://graph.facebook.com/1512899632358554/picture?width=200&height=200","https://graph.facebook.com/10153878895659243/picture?width=200&height=200","https://graph.facebook.com/10153174127866936/picture?width=200&height=200","https://graph.facebook.com/930770090334645/picture?width=200&height=200","https://graph.facebook.com/774477512675627/picture?width=200&height=200","https://graph.facebook.com/10153659688881203/picture?width=200&height=200","https://graph.facebook.com/10205025838918223/picture?width=200&height=200","https://graph.facebook.com/10208547615550602/picture?width=200&height=200","https://graph.facebook.com/1005531689512889/picture?width=200&height=200","https://graph.facebook.com/10153668190836031/picture?width=200&height=200","https://graph.facebook.com/10156069178035118/picture?width=200&height=200","https://graph.facebook.com/10208188162405993/picture?width=200&height=200","https://graph.facebook.com/1000566459990145/picture?width=200&height=200","https://graph.facebook.com/977179219008865/picture?width=200&height=200","https://graph.facebook.com/10153304467379163/picture?width=200&height=200","https://graph.facebook.com/10208372474655740/picture?width=200&height=200","https://graph.facebook.com/10153713684238007/picture?width=200&height=200","https://graph.facebook.com/10208046768236688/picture?width=200&height=200","https://graph.facebook.com/10153792657080739/picture?width=200&height=200","https://graph.facebook.com/1648047938787788/picture?width=200&height=200","https://graph.facebook.com/10153765070108593/picture?width=200&height=200","https://graph.facebook.com/10204264232720671/picture?width=200&height=200","https://graph.facebook.com/991831000881420/picture?width=200&height=200","https://graph.facebook.com/1079429332076064/picture?width=200&height=200","https://graph.facebook.com/10207170947376240/picture?width=200&height=200","https://graph.facebook.com/904952406261419/picture?width=200&height=200","https://graph.facebook.com/10208187082218250/picture?width=200&height=200","https://graph.facebook.com/10206590993706994/picture?width=200&height=200","https://graph.facebook.com/10153745567313685/picture?width=200&height=200","https://graph.facebook.com/10156184605360621/picture?width=200&height=200","https://graph.facebook.com/10207429708677879/picture?width=200&height=200","https://graph.facebook.com/1060773017274956/picture?width=200&height=200","https://graph.facebook.com/10154361357769972/picture?width=200&height=200","https://graph.facebook.com/10153025558311582/picture?width=200&height=200","https://graph.facebook.com/1055131777844801/picture?width=200&height=200","https://graph.facebook.com/10208395772191709/picture?width=200&height=200","https://graph.facebook.com/727435750695952/picture?width=200&height=200","https://graph.facebook.com/10207040020054869/picture?width=200&height=200","https://graph.facebook.com/10153052119997101/picture?width=200&height=200","https://graph.facebook.com/10206906209788723/picture?width=200&height=200","https://graph.facebook.com/10153260829078927/picture?width=200&height=200","https://graph.facebook.com/10206430684100169/picture?width=200&height=200","https://graph.facebook.com/10153052530542038/picture?width=200&height=200","https://graph.facebook.com/10153567567533453/picture?width=200&height=200","https://graph.facebook.com/144988882523401/picture?width=200&height=200","https://graph.facebook.com/100002223086771/picture?width=200&height=200","https://graph.facebook.com/1097528376939002/picture?width=200&height=200","https://graph.facebook.com/10153743258336563/picture?width=200&height=200","https://graph.facebook.com/1651738565065216/picture?width=200&height=200","https://graph.facebook.com/1032679960087942/picture?width=200&height=200","https://graph.facebook.com/10153054912981829/picture?width=200&height=200","https://graph.facebook.com/10153780600858628/picture?width=200&height=200","https://graph.facebook.com/10203626456860854/picture?width=200&height=200","https://graph.facebook.com/10203641999009249/picture?width=200&height=200","https://graph.facebook.com/10153284147376589/picture?width=200&height=200","https://graph.facebook.com/10153335998727424/picture?width=200&height=200","https://graph.facebook.com/10153230544905044/picture?width=200&height=200","https://graph.facebook.com/10153171472542267/picture?width=200&height=200","https://graph.facebook.com/1517977948528166/picture?width=200&height=200","https://graph.facebook.com/10205364875424952/picture?width=200&height=200","https://graph.facebook.com/10206659302715492/picture?width=200&height=200","https://graph.facebook.com/10208142893234771/picture?width=200&height=200","https://graph.facebook.com/915725941875638/picture?width=200&height=200","https://graph.facebook.com/10153687482539076/picture?width=200&height=200","https://graph.facebook.com/10156161971965058/picture?width=200&height=200","https://graph.facebook.com/10156723067125355/picture?width=200&height=200","https://graph.facebook.com/10208178534321622/picture?width=200&height=200","https://graph.facebook.com/10153438967749213/picture?width=200&height=200","https://graph.facebook.com/728464920/picture?width=200&height=200","https://graph.facebook.com/1642185786040512/picture?width=200&height=200","https://graph.facebook.com/10208048585991423/picture?width=200&height=200","https://graph.facebook.com/555988294554064/picture?width=200&height=200","https://graph.facebook.com/10156133704045361/picture?width=200&height=200","https://graph.facebook.com/10205210651333811/picture?width=200&height=200","https://graph.facebook.com/10208140752187443/picture?width=200&height=200","https://graph.facebook.com/504685796376412/picture?width=200&height=200","https://graph.facebook.com/1458051200876499/picture?width=200&height=200","https://graph.facebook.com/437439293114140/picture?width=200&height=200","https://graph.facebook.com/897832506914820/picture?width=200&height=200","https://graph.facebook.com/1170400106322015/picture?width=200&height=200","https://graph.facebook.com/10156310451700389/picture?width=200&height=200","https://graph.facebook.com/1659562447625378/picture?width=200&height=200","https://graph.facebook.com/10206326636657056/picture?width=200&height=200","https://graph.facebook.com/10206712479303934/picture?width=200&height=200","https://graph.facebook.com/911701335572183/picture?width=200&height=200","https://graph.facebook.com/761999113943994/picture?width=200&height=200","https://graph.facebook.com/10208022994483036/picture?width=200&height=200","https://graph.facebook.com/10204772963395617/picture?width=200&height=200","https://graph.facebook.com/10153264514112989/picture?width=200&height=200","https://graph.facebook.com/10206949892322240/picture?width=200&height=200","https://graph.facebook.com/10207875637587880/picture?width=200&height=200","https://graph.facebook.com/10206922302447400/picture?width=200&height=200","https://graph.facebook.com/10208243127776559/picture?width=200&height=200","https://graph.facebook.com/10206826558435354/picture?width=200&height=200","https://graph.facebook.com/499963370173477/picture?width=200&height=200","https://graph.facebook.com/10153696138279120/picture?width=200&height=200","https://graph.facebook.com/774173836024317/picture?width=200&height=200","https://graph.facebook.com/1708103116086432/picture?width=200&height=200","https://graph.facebook.com/1002049516500971/picture?width=200&height=200","https://graph.facebook.com/10156200454795722/picture?width=200&height=200","https://graph.facebook.com/10153397173511461/picture?width=200&height=200","https://graph.facebook.com/10153279067236417/picture?width=200&height=200","https://graph.facebook.com/10153165912176560/picture?width=200&height=200","https://graph.facebook.com/10153242679975732/picture?width=200&height=200","https://graph.facebook.com/843512495768745/picture?width=200&height=200","https://graph.facebook.com/1061410750569655/picture?width=200&height=200","https://graph.facebook.com/10153630312652976/picture?width=200&height=200","https://graph.facebook.com/10206191067549796/picture?width=200&height=200","https://graph.facebook.com/1713281432225194/picture?width=200&height=200","https://graph.facebook.com/10153135041897063/picture?width=200&height=200","https://graph.facebook.com/10153419863093800/picture?width=200&height=200","https://graph.facebook.com/1020198304707066/picture?width=200&height=200","https://graph.facebook.com/1186175524730621/picture?width=200&height=200","https://graph.facebook.com/844834465615262/picture?width=200&height=200","https://graph.facebook.com/10153721737891880/picture?width=200&height=200","https://graph.facebook.com/10205223452807347/picture?width=200&height=200","https://graph.facebook.com/556985537787255/picture?width=200&height=200","https://graph.facebook.com/165145167168814/picture?width=200&height=200","https://graph.facebook.com/10205441790626297/picture?width=200&height=200","https://graph.facebook.com/913019095442298/picture?width=200&height=200","https://graph.facebook.com/654642561344682/picture?width=200&height=200","https://graph.facebook.com/10153071601461529/picture?width=200&height=200","https://graph.facebook.com/10206924476981970/picture?width=200&height=200","https://graph.facebook.com/10206785186165867/picture?width=200&height=200","https://graph.facebook.com/871433679631173/picture?width=200&height=200","https://graph.facebook.com/10153334195728985/picture?width=200&height=200","https://graph.facebook.com/10153722069772509/picture?width=200&height=200","https://graph.facebook.com/1062242363796594/picture?width=200&height=200","https://graph.facebook.com/436805953173772/picture?width=200&height=200","https://graph.facebook.com/10153631118835726/picture?width=200&height=200","https://graph.facebook.com/10208270622307283/picture?width=200&height=200","https://graph.facebook.com/1200731743276009/picture?width=200&height=200","https://graph.facebook.com/10156125127090462/picture?width=200&height=200","https://graph.facebook.com/10208022380944289/picture?width=200&height=200","https://graph.facebook.com/10156224905715298/picture?width=200&height=200","https://graph.facebook.com/922723704465086/picture?width=200&height=200","https://graph.facebook.com/10207744454711592/picture?width=200&height=200","https://graph.facebook.com/10208039535011711/picture?width=200&height=200","https://graph.facebook.com/10207091504980094/picture?width=200&height=200","https://graph.facebook.com/10203862676407290/picture?width=200&height=200","https://graph.facebook.com/1164674343546924/picture?width=200&height=200","https://graph.facebook.com/1195354463813698/picture?width=200&height=200","https://graph.facebook.com/10207329506651292/picture?width=200&height=200","https://graph.facebook.com/10153163550681889/picture?width=200&height=200","https://graph.facebook.com/1103670542985568/picture?width=200&height=200","https://graph.facebook.com/924666137653421/picture?width=200&height=200","https://graph.facebook.com/10153428777163462/picture?width=200&height=200","https://graph.facebook.com/10153070722956470/picture?width=200&height=200","https://graph.facebook.com/10206400004711641/picture?width=200&height=200","https://graph.facebook.com/10153124106470766/picture?width=200&height=200","https://graph.facebook.com/10153691072560692/picture?width=200&height=200","https://graph.facebook.com/10153786733452853/picture?width=200&height=200","https://graph.facebook.com/10204970160555944/picture?width=200&height=200","https://graph.facebook.com/10153625703068930/picture?width=200&height=200","https://graph.facebook.com/10153620840615867/picture?width=200&height=200","https://graph.facebook.com/888256847895727/picture?width=200&height=200","https://graph.facebook.com/935214936586055/picture?width=200&height=200","https://graph.facebook.com/836205686499888/picture?width=200&height=200","https://graph.facebook.com/1524621757830292/picture?width=200&height=200","https://graph.facebook.com/10156144017165304/picture?width=200&height=200","https://graph.facebook.com/10153765096513442/picture?width=200&height=200","https://graph.facebook.com/1077259515638136/picture?width=200&height=200","https://graph.facebook.com/10153743092114726/picture?width=200&height=200","https://graph.facebook.com/922582504445776/picture?width=200&height=200","https://graph.facebook.com/10208335918020809/picture?width=200&height=200","https://graph.facebook.com/10204854351348544/picture?width=200&height=200","https://graph.facebook.com/10153638223415953/picture?width=200&height=200","https://graph.facebook.com/10208333909205870/picture?width=200&height=200","https://graph.facebook.com/866839160078184/picture?width=200&height=200","https://graph.facebook.com/10153711855109935/picture?width=200&height=200","https://graph.facebook.com/1055242961175016/picture?width=200&height=200","https://graph.facebook.com/10207039636900716/picture?width=200&height=200","https://graph.facebook.com/10153444438408355/picture?width=200&height=200"],this.observers=[],this.avatars=bt.a.take(this.possibleURLs,70),this.loadAvatars()}return XP(e,[{key:"register",value:function(e){this.observers.push(e)}},{key:"initializeFeed",value:function(){}},{key:"loadAvatars",value:function(){var e=this;setInterval(function(){var t=bt.a.sample([1e3,3e3,5e3,8e3,13e3,21e3,34e3]);setTimeout(function(){var t=bt.a.sample(e.possibleURLs);e.avatars=bt.a.take([t].concat(e.avatars),70)},t),e.observers.map(function(t){t(e.avatars)})},2e3)}}]),e}(),tj=function(){function e(){ZP(this,e),this.observers=[],this.avatars=[],this.maxAvatarCount=70,this.stream=new JP}return XP(e,[{key:"register",value:function(e){this.observers.push(e)}},{key:"initializeFeed",value:function(e){e&&(this.maxAvatarCount=e),this.stream.subscribe("avatar_feed","all",this.maxAvatarCount,this.updateObservers.bind(this))}},{key:"parseFacebookAvatarUrl",value:function(e){return e.split("?")[0]+"?width=200&height=200"}},{key:"parseStreamResponse",value:function(e){var t=this;return e.results?e.results.map(function(e){return t.parseFacebookAvatarUrl(e.avatar_url)}):e.new.map(function(e){return t.parseFacebookAvatarUrl(e.avatar_url)})}},{key:"updateObservers",value:function(e){var t=this,n=this.parseStreamResponse(e);this.avatars=n.concat(this.avatars).slice(0,this.maxAvatarCount),this.observers.map(function(e){e(t.avatars)})}}]),e}();function nj(e){return(nj="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function oj(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function rj(e,t){return!t||"object"!==nj(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function aj(e){return(aj=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ij(e,t){return(ij=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var sj=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),rj(this,aj(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ij(e,t)}(t,u.a.Component),function(e,t,n){t&&oj(e.prototype,t),n&&oj(e,n)}(t,[{key:"render",value:function(){return u.a.createElement("img",{src:this.props.src,ref:"img",className:"avatar"})}}]),t}();function cj(e){return(cj="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function lj(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function uj(e,t){return!t||"object"!==cj(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function pj(e){return(pj=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function fj(e,t){return(fj=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var dj=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),uj(this,pj(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&fj(e,t)}(t,u.a.Component),function(e,t,n){t&&lj(e.prototype,t),n&&lj(e,n)}(t,[{key:"render",value:function(){var e=this.props.avatarURLs.map(function(e){return u.a.createElement(sj,{src:e,key:e})});return u.a.createElement("div",{ref:"avatarGrid",className:"avatar-grid"},this.props.children,e)}}]),t}();function mj(e){return(mj="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function hj(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function yj(e){return(yj=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function bj(e,t){return(bj=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function gj(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function vj(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var wj=function(e){function t(){var e,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];return vj(gj(gj(n=function(e,t){return!t||"object"!==mj(t)&&"function"!=typeof t?gj(e):t}(this,(e=yj(t)).call.apply(e,[this].concat(r))))),"state",{avatarURLs:[]}),vj(gj(gj(n)),"onUpdate",function(e){n.setState({avatarURLs:e})}),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&bj(e,t)}(t,u.a.Component),function(e,t,n){t&&hj(e.prototype,t),n&&hj(e,n)}(t,[{key:"componentDidMount",value:function(){this.props.avatarClient.register(this.onUpdate),this.props.avatarClient.initializeFeed(this.props.maxAvatarCount)}},{key:"render",value:function(){return u.a.createElement(dj,{ref:"avatarGrid",avatarURLs:this.state.avatarURLs},u.a.createElement("div",{className:"register-flow-container"},u.a.createElement(Bd.a,{ref:"registerFlow",completedTarget:this.props.redirectPath,shadowUserClient:new Pl.a,signupHeader:this.props.signupHeader,welcomeButtonText:this.props.welcomeButtonText})))}}]),t}();function kj(e){return(kj="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Oj(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function _j(e,t){return!t||"object"!==kj(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Cj(e){return(Cj=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Sj(e,t){return(Sj=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}vj(wj,"defaultProps",{avatarClient:new tj,maxAvatarCount:70,redirectPath:"/en/"});var Ej=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),_j(this,Cj(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Sj(e,t)}(t,u.a.Component),function(e,t,n){t&&Oj(e.prototype,t),n&&Oj(e,n)}(t,[{key:"getStyle",value:function(){return{width:"".concat((this.props.completed/this.props.total*100).toString(),"%")}}},{key:"getProgressDescription",value:function(){return this.props.description?this.props.description:this.props.completed===this.props.total?Object(v.c)("Thank you!"):Object(v.c)("Step {{ current }} of {{ total }}: ",{current:this.props.completed+1,total:this.props.total,points:this.props.points})}},{key:"getPointsText",value:function(){if(void 0===this.props.points)return!1;var e="";return e=1===this.props.points?Object(v.c)("1 point"):Object(v.c)("{{ points }} points",{points:this.props.points}),u.a.createElement("div",{className:"call_to_action progress-bar__description__right"},u.a.createElement("p",{ref:"pointsText"},u.a.createElement("strong",null,e)))}},{key:"getStepText",value:function(){if(this.props.completed<this.props.total)return this.props.stepText}},{key:"render",value:function(){return u.a.createElement("div",{className:"call_to_action-progress"},u.a.createElement("div",{className:"call_to_action progress-bar__description"},u.a.createElement("div",{className:"call_to_action progress-bar__description__left"},u.a.createElement("p",{ref:"progressDescription"},this.getProgressDescription(),u.a.createElement("span",{className:"call_to_action progress-bar__description__action"},this.getStepText()))),this.getPointsText()),u.a.createElement("div",{className:"call_to_action progress-bar__bar"},u.a.createElement("div",{ref:"innerBar",className:"call_to_action progress-bar__bar__inner",style:this.getStyle()})))}}]),t}();function Pj(e){return(Pj="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function jj(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Nj(e){return(Nj=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Tj(e,t){return(Tj=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function xj(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ij(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(Ej,"propTypes",{completed:y.a.number.isRequired,total:y.a.number.isRequired,stepText:y.a.string.isRequired,points:y.a.number.isRequired});var Aj=function(e){function t(){var e,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];return Ij(xj(xj(n=function(e,t){return!t||"object"!==Pj(t)&&"function"!=typeof t?xj(e):t}(this,(e=Nj(t)).call.apply(e,[this].concat(r))))),"handleClick",function(e){e.preventDefault(),n.props.onClick()}),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Tj(e,t)}(t,u.a.Component),function(e,t,n){t&&jj(e.prototype,t),n&&jj(e,n)}(t,[{key:"render",value:function(){return u.a.createElement("a",{onClick:this.handleClick,onTouchStart:this.handleClick},this.props.children)}}]),t}();function Lj(e){return(Lj="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Rj(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Mj(e,t){return!t||"object"!==Lj(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Bj(e){return(Bj=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Dj(e,t){return(Dj=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}Ij(Aj,"propTypes",{onClick:y.a.func.isRequired});var zj=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Mj(this,Bj(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Dj(e,t)}(t,u.a.Component),function(e,t,n){t&&Rj(e.prototype,t),n&&Rj(e,n)}(t,[{key:"render",value:function(){return"seen"!==i.a.cookie(this.props.cookie)&&(i.a.cookie(this.props.cookie,"seen"),u.a.createElement("div",null,this.props.children))}}]),t}();function Wj(e){return(Wj="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Fj(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Uj(e){return(Uj=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function qj(e,t){return(qj=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Gj(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Hj(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(zj,"propTypes",{cookie:y.a.string});var Vj=function(e){function t(){var e,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];return Hj(Gj(Gj(n=function(e,t){return!t||"object"!==Wj(t)&&"function"!=typeof t?Gj(e):t}(this,(e=Uj(t)).call.apply(e,[this].concat(r))))),"state",{englishWasChosen:!1}),Hj(Gj(Gj(n)),"hide",function(){n.setState({englishWasChosen:!0})}),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&qj(e,t)}(t,u.a.Component),function(e,t,n){t&&Fj(e.prototype,t),n&&Fj(e,n)}(t,[{key:"isFrenchPreferredOverEnglish",value:function(){if(Object(v.a)().startsWith("fr"))return!0;function e(e,t){for(var n=0;n<t.length;n+=1)if(t[n].startsWith(e))return n;return-1}var t=Object(v.b)(),n=e("fr",t),o=e("en",t);return-1!==n&&(-1===o||n<o)}},{key:"render",value:function(){return!!this.isFrenchPreferredOverEnglish()&&(!this.state.englishWasChosen&&(!!window.location.pathname.startsWith("/en/")&&u.a.createElement(zj,{cookie:"canada_language_popover_shown"},u.a.createElement("div",{className:"canada-language-popover"},u.a.createElement("div",{className:"canada-language-popover__window-wrapper"},u.a.createElement("div",{className:"valign-wrapper canada-language-popover__window-wrapper__inner"},u.a.createElement("div",{className:"valign"},u.a.createElement("img",{src:"/static/img/o-logo-large.png",width:"100",className:"o-logo-large",alt:"Global Citizen"}),u.a.createElement("h1",null,"Parlez-vous français?"),u.a.createElement("p",null,u.a.createElement(Aj,{onClick:t.goToFrenchVersionOfPage},"Visualisez en français")),u.a.createElement("p",null,u.a.createElement(Aj,{onClick:this.hide},"Continue in English")))))))))}}],[{key:"getFrenchPageLink",value:function(){return window.location.pathname.replace("/en/","/fr/",1)}},{key:"goToFrenchVersionOfPage",value:function(){window.location.pathname=t.getFrenchPageLink()}}]),t}();function Yj(e){return(Yj="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Qj(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Kj(e){return(Kj=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Jj(e,t){return(Jj=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Zj(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $j(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Xj=function(e){function t(){var e,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];return $j(Zj(Zj(n=function(e,t){return!t||"object"!==Yj(t)&&"function"!=typeof t?Zj(e):t}(this,(e=Kj(t)).call.apply(e,[this].concat(r))))),"state",{completed:!1,user:Ut.a.get(),authenticated:null,country:null}),$j(Zj(Zj(n)),"authenticate",function(e){n.setState({authenticated:e.authenticated})}),$j(Zj(Zj(n)),"cookieName",function(){return"".concat(n.props.name.toLowerCase().replace(/\s/g,""),"-shown")}),$j(Zj(Zj(n)),"renderChildren",function(){return!!n.props.children&&u.a.cloneElement(n.props.children,{completed:n.state.completed,user:n.props.user,registerCallback:n.props.shadowUserClient.register,doneCallback:n.closeWidget,errorCallback:n.closeWidget})}),$j(Zj(Zj(n)),"setModalPopupTimeout",function(){n.willBeShown()&&window.setTimeout(n.showDialog,n.millisecondsBeforeModalPopup())}),$j(Zj(Zj(n)),"matchingCountry",function(){return 0===n.props.countries.length||n.props.countries.includes(n.state.country)}),$j(Zj(Zj(n)),"matchingLanguage",function(){if(0===n.props.languages.length)return!0;var e=i.a.cookie(Nl.a.language.cookieName);return n.props.languages.includes(e)||null===e}),$j(Zj(Zj(n)),"dialogAlreadyShown",function(){return"true"===i.a.cookie(n.cookieName())}),$j(Zj(Zj(n)),"willBeShown",function(){return!(!(n.props.requireCountryAndLanguage?n.matchingCountry()&&n.matchingLanguage():n.matchingCountry()||n.matchingLanguage())||n.dialogAlreadyShown()||!n.props.showIfAuthenticated&&!1!==n.state.authenticated)}),$j(Zj(Zj(n)),"millisecondsBeforeModalPopup",function(){return 1e3*n.props.secondsBeforeModalPopup}),$j(Zj(Zj(n)),"closeWidget",function(e){n.state._mounted&&((new jl.c).trackElementClick(n.props.name,"Submit button","Submit"),(new jl.i).trackUserSubscribeEvent(n.props.subscriptionName,e,n.props.name),!1===n.state.authenticated&&(new jl.h).trackUserAuthEvent("Shadow User Sign Up","email",n.props.name),n.setState({completed:!0}))}),$j(Zj(Zj(n)),"closeDialog",function(){i()(n.refs.announcementDialogElement).attr("open")&&n.state._mounted&&f.a.findDOMNode(Zj(Zj(n))).close()}),$j(Zj(Zj(n)),"showDialog",function(){i()(n.refs.announcementDialogElement).attr("open")||n.state._mounted&&f.a.findDOMNode(Zj(Zj(n))).showModal&&(f.a.findDOMNode(Zj(Zj(n))).showModal(),i.a.cookie(n.cookieName(),"true",{path:"/"}),(new jl.d).trackElementDisplay(n.props.name))}),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Jj(e,t)}(t,u.a.Component),function(e,t,n){t&&Qj(e.prototype,t),n&&Qj(e,n)}(t,[{key:"componentDidMount",value:function(){var e=this;this.setState({_mounted:!0}),this.state.user.then(this.authenticate),yn.a.get({success:function(t){e.setState({country:t.country_code})}}),_n.a.polyfillDialogs()}},{key:"componentWillUnmount",value:function(){this.setState({_mounted:!1})}},{key:"componentDidUpdate",value:function(e,t){this.setModalPopupTimeout()}},{key:"render",value:function(){return u.a.createElement("dialog",{id:"festival-announcement-dialog",ref:"announcementDialogElement"},u.a.createElement("div",{className:"shell"},u.a.createElement("div",{className:"festival-announcement-dialog__wrapper"},u.a.createElement("div",{className:"dialog-header"},u.a.createElement("button",{ref:"closeDialog",className:"close-dialog",onClick:this.closeDialog},"×")),this.renderChildren())))}}]),t}();function eN(e){return(eN="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function tN(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function nN(e,t){return!t||"object"!==eN(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function oN(e){return(oN=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function rN(e,t){return(rN=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function aN(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}$j(Xj,"displayName","AnnouncementDialog"),Xj.propTypes={name:y.a.string.isRequired,subscriptionName:y.a.string.isRequired,countries:y.a.arrayOf(y.a.string).isRequired,languages:y.a.arrayOf(y.a.string).isRequired,requireCountryAndLanguage:y.a.bool.isRequired,showIfAuthenticated:y.a.bool.isRequired,secondsBeforeModalPopup:y.a.number},Xj.defaultProps={user:{},languages:[],countries:[],secondsBeforeModalPopup:1,shadowUserClient:new Pl.a,showIfAuthenticated:!0};var iN=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),nN(this,oN(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&rN(e,t)}(t,u.a.Component),function(e,t,n){t&&tN(e.prototype,t),n&&tN(e,n)}(t,[{key:"renderThankYouMessage",value:function(){return{__html:Object(v.c)("{{ h2 }}Thank you{{ closeH2 }} {{ h2}}for joining the movement{{ closeH2 }}",{h2:"<h2>",closeH2:"</h2>",interpolation:{escape:!1}})}}},{key:"render",value:function(){return this.props.completed?u.a.createElement("div",{className:"festival-announcement-dialog-body"},u.a.createElement("div",{className:"action-header"},u.a.createElement("img",{src:"/static/img/gc_footer_logo.png",className:"festival-announcement-dialog__gc-logo"}),u.a.createElement("div",{className:"header-inner",ref:"headerText",dangerouslySetInnerHTML:{__html:this.props.header}}),u.a.createElement("p",{className:"additional-info",ref:"thankYouMessage",dangerouslySetInnerHTML:this.renderThankYouMessage()}))):u.a.createElement("div",{className:"festival-announcement-dialog-body"},u.a.createElement("div",{className:"action-header"},u.a.createElement("img",{src:"/static/img/gc_footer_logo.png",className:"festival-announcement-dialog__gc-logo"}),u.a.createElement("div",{className:"header-inner",ref:"headerText",dangerouslySetInnerHTML:{__html:this.props.header}}),u.a.createElement("p",{className:"additional-info",ref:"additionalInfo"},this.props.additionalInfo)),u.a.createElement(vl,{completed:this.props.completed,user:this.props.user,emailRequiredError:Object(v.c)("Oops please enter valid email"),emailValidError:Object(v.c)("Oops please enter valid email"),registerCallback:this.props.registerCallback,doneCallback:this.props.doneCallback,errorCallback:this.props.errorCallback,signupButtonText:this.props.signupButtonText}))}}]),t}();function sN(e){return(sN="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function cN(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function lN(e,t){return!t||"object"!==sN(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function uN(e){return(uN=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function pN(e,t){return(pN=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}aN(iN,"propTypes",{additionalInfo:y.a.string.isRequired,header:y.a.string.isRequired,signupButtonText:y.a.string}),aN(iN,"defaultProps",{signupButtonText:Object(v.c)("Sign up")});var fN=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),lN(this,uN(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&pN(e,t)}(t,u.a.Component),function(e,t,n){t&&cN(e.prototype,t),n&&cN(e,n)}(t,[{key:"render",value:function(){return u.a.createElement(Xj,{ref:"parent",name:"Canada modal",subscriptionName:"Canada signup",countries:["CA"],languages:["en","fr"],requireCountryAndLanguage:!0,showIfAuthenticated:!1},u.a.createElement(iN,{additionalInfo:translate("Enter your email to learn more about solving the world's biggest challenges."),header:translate("Join the movement")}))}}]),t}();function dN(e){return(dN="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function mN(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function hN(e,t){return!t||"object"!==dN(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function yN(e){return(yN=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function bN(e,t){return(bN=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var gN=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),hN(this,yN(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&bN(e,t)}(t,u.a.Component),function(e,t,n){t&&mN(e.prototype,t),n&&mN(e,n)}(t,[{key:"render",value:function(){return u.a.createElement(Xj,{ref:"parent",name:"Germany modal",subscriptionName:"Germany signup",countries:["DE"],languages:["de"],requireCountryAndLanguage:!1,showIfAuthenticated:!1},u.a.createElement(iN,{additionalInfo:translate("Enter your email & learn how to earn your tickets for the festival on 6 July 2017"),signupButtonText:translate("Sign up\x3c!-- Germany Festival Modal --\x3e",{context:"GermanyFestivalModal"}),header:translate("Global Citizen Festival in Hamburg")}))}}]),t}();function vN(e){return(vN="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function wN(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function kN(e,t){return!t||"object"!==vN(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ON(e){return(ON=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _N(e,t){return(_N=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var CN=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),kN(this,ON(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_N(e,t)}(t,u.a.Component),function(e,t,n){t&&wN(e.prototype,t),n&&wN(e,n)}(t,[{key:"renderInfoText",value:function(){return{__html:Object(v.c)("{{ pCenter }}Between now and Nov. 8, we are building a movement of global citizens around the U.S., who will show up and vote this election.{{ closeP }}{{ pCenter }}Citizenship starts with you.{{ br }}Be a Global Citizen.{{ closeP }}",{pCenter:'<p class="additional-info text-center">',closeP:"</p>",br:"<br />",interpolation:{escape:!1}})}}},{key:"render",value:function(){return u.a.createElement("div",{className:"festival-announcement-dialog-body turbovote-annocument"},u.a.createElement("div",{className:"action-header"},u.a.createElement("img",{src:"/static/img/festival/gc-logo.png"}),u.a.createElement("h1",null,"#",Object(v.c)("ShowupVote")),u.a.createElement("div",{dangerouslySetInnerHTML:this.renderInfoText()})),u.a.createElement("a",{href:"/vote/",className:"btn"},Object(v.c)("Learn more and register to vote")))}}]),t}();function SN(e){return(SN="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function EN(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function PN(e,t){return!t||"object"!==SN(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function jN(e){return(jN=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function NN(e,t){return(NN=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var TN=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),PN(this,jN(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&NN(e,t)}(t,u.a.Component),function(e,t,n){t&&EN(e.prototype,t),n&&EN(e,n)}(t,[{key:"render",value:function(){return u.a.createElement(Xj,{ref:"parent",name:"Voter registration modal",subscriptionName:"Voter registration modal click through",countries:["US"]},u.a.createElement(CN,null))}}]),t}();function xN(e){return(xN="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function IN(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function AN(e,t){return!t||"object"!==xN(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function LN(e){return(LN=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function RN(e,t){return(RN=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var MN=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),AN(this,LN(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&RN(e,t)}(t,u.a.Component),function(e,t,n){t&&IN(e.prototype,t),n&&IN(e,n)}(t,[{key:"getHeaderText",value:function(){return Object(v.c)("{{ h2 }}<p>CENTRAL PARK</p>{{ headlineDate }}09.23.2017{{ closeP }}{{ closeH2 }} {{ h1 }}GL{{headlineHighlightAlt}}O{{ spanClose }}BAL {{ headlineHighlight }}CITIZEN{{ spanClose }} {{ headlineSmall }}FESTIVAL{{ spanClose }}{{ closeH1 }}",{h2:"<h2>",closeH2:"</h2>",h1:"<h1>",closeH1:"</h1>",headlineDate:'<p id="headline-date">',closeP:"</p>",headlineHighlight:'<span id="headline-highlight">',headlineHighlightAlt:'<span id="headline-highlight-alt">',headlineSmall:'<span id="headline-small">',spanClose:"</span>",interpolation:{escape:!1}})}},{key:"render",value:function(){return u.a.createElement(Xj,{ref:"parent",name:"NY Festival modal",subscriptionName:"NY Festival signup",countries:["US"],languages:["en"],requireCountryAndLanguage:!0,showIfAuthenticated:!1},u.a.createElement(iN,{additionalInfo:Object(v.c)("Sign up and be the first to know the latest"),signupButtonText:Object(v.c)("REGISTER"),header:this.getHeaderText()}))}}]),t}();function BN(e){return(BN="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function DN(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function zN(e,t){return!t||"object"!==BN(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function WN(e){return(WN=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function FN(e,t){return(FN=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var UN=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),zN(this,WN(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&FN(e,t)}(t,u.a.Component),function(e,t,n){t&&DN(e.prototype,t),n&&DN(e,n)}(t,[{key:"render",value:function(){return u.a.createElement(Xj,{ref:"parent",name:"O2 Brixton Academy Global Citizen Live modal",subscriptionName:"O2 Brixton Academy signup",countries:["GB"],languages:["en"],requireCountryAndLanguage:!0,showIfAuthenticated:!1},u.a.createElement(iN,{additionalInfo:Object(v.c)("Sign up and be the first to know the latest"),signupButtonText:Object(v.c)("REGISTER"),header:'<h2><p>O2 BRIXTON ACADEMY</p><p id="headline_date">17 APRIL</p></h2><h1>GL<span id="headline-highlight-alt">O</span>BAL CITIZEN<sub style="font-size:2.5rem;">®</sub><span id="headline-small">LIVE</span></h1>'}))}}]),t}();function qN(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var GN=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return function(e,t,n){t&&qN(e.prototype,t),n&&qN(e,n)}(e,[{key:"applink",value:function(e,t,n){i.a.ajax({contentType:"application/json",url:"/api/phone/send-app-link/",type:"POST",dataType:"json",data:JSON.stringify({phone_number:e}),success:function(){t.text(translate("Great! Thanks for downloading the Global Citizen app."))},error:function(){n.text(translate("Enter a valid phone number."))}})}}]),e}();var HN=n(309);function VN(e){return(VN="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function YN(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function QN(e,t){return!t||"object"!==VN(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function KN(e){return(KN=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function JN(e,t){return(JN=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ZN=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),QN(this,KN(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&JN(e,t)}(t,u.a.Component),function(e,t,n){t&&YN(e.prototype,t),n&&YN(e,n)}(t,[{key:"getClassName",value:function(){return this.props.selected?"btn":"btn btn--inactive"}},{key:"render",value:function(){return u.a.createElement("button",{ref:"button",onClick:this.props.onClick,className:this.getClassName()},this.props.displayAmount," ",this.props.displayCurrency)}}]),t}();function $N(e){return($N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function XN(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function eT(e,t){return!t||"object"!==$N(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function tT(e){return(tT=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function nT(e,t){return(nT=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}ZN.propTypes={onClick:y.a.func,selected:y.a.bool,displayAmount:y.a.string};var oT=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=eT(this,tT(t).call(this))).state={amount:0},e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&nT(e,t)}(t,u.a.Component),function(e,t,n){t&&XN(e.prototype,t),n&&XN(e,n)}(t,[{key:"componentWillReceiveProps",value:function(e){e&&e.amount!==this.state.amount&&this.setState({amount:e.amount})}},{key:"getDisplayAmountButtons",value:function(){var e=this;return this.props.displayAmounts.map(function(t,n){return u.a.createElement(ZN,{key:n,displayAmount:t,displayCurrency:e.props.displayCurrency,selected:t===e.state.amount,onClick:e.createClickHandler(t)})})}},{key:"createClickHandler",value:function(e){var t=this;return function(n){n.preventDefault(),t.setState({amount:e}),t.props.onChange&&t.props.onChange(e)}}},{key:"render",value:function(){return u.a.createElement("div",null,this.getDisplayAmountButtons())}}]),t}();function rT(e){return(rT="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function aT(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function iT(e){return(iT=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function sT(e,t){return(sT=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function cT(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}oT.propTypes={amount:y.a.number,displayAmounts:y.a.arrayOf(y.a.number),onChange:y.a.func},oT.defaultProps={amount:0,onChange:function(){}};var lT=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=function(e,t){return!t||"object"!==rT(t)&&"function"!=typeof t?cT(e):t}(this,iT(t).call(this))).handleChange=e.handleChange.bind(cT(cT(e))),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&sT(e,t)}(t,u.a.Component),function(e,t,n){t&&aT(e.prototype,t),n&&aT(e,n)}(t,[{key:"getAmount",value:function(){return this.props.amount>0?this.props.amount:""}},{key:"handleChange",value:function(e){var t=parseInt(e.target.value);this.props.onChange(t)}},{key:"numberClassName",value:function(){var e=this.isActive()?"active":"";return"donation-form__number-wrapper ".concat(e)}},{key:"isActive",value:function(){return this.props.amount>0}},{key:"render",value:function(){return u.a.createElement("span",{className:this.numberClassName()},u.a.createElement("input",{className:"donation-form__number-wrapper__number-input",type:"text",pattern:"\\d*",value:this.getAmount(),placeholder:"Other amount",onChange:this.handleChange}),u.a.createElement("span",{className:"donation-form__number-wrapper__dollar-sign"},this.props.currency))}}]),t}();lT.propTypes={onChange:y.a.func,amount:y.a.number},lT.defaultProps={onChange:function(){}};var uT=n(188);function pT(e){return(pT="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function fT(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function dT(e){return(dT=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function mT(e,t){return(mT=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function hT(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}Object(b.a)(ve.a).withConfig({displayName:"info-fields__RestartButton",componentId:"sc-1sb0ecj-0"})([""]).displayName="RestartButton";var yT=Object(b.a)(ve.a).withConfig({displayName:"info-fields__SubmitButton",componentId:"sc-1sb0ecj-1"})([""]);yT.displayName="SubmitButton";var bT=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(hT(hT(n=function(e,t){return!t||"object"!==pT(t)&&"function"!=typeof t?hT(e):t}(this,dT(t).call(this,e)))),"submit",function(){var e={email:n.email.current.value,full_name:n.fullName.current.value,address:n.address.current.value,country:n.countrySelect.current.getValue(),postal_code:n.postalCode.current.value};n.props.handleUser(e)}),n.state={disabled:!1,fieldValues:{email:n.props.user&&n.props.user.email||"",fullName:n.props.user&&"".concat(n.props.user.first_name," ").concat(n.props.user.last_name)||"",address:n.props.user&&n.props.user.address||"",postalCode:n.props.user&&n.props.user.postal_code||""},fieldErrors:{}},n.email=u.a.createRef(),n.fullName=u.a.createRef(),n.address=u.a.createRef(),n.countrySelect=u.a.createRef(),n.postalCode=u.a.createRef(),n.fieldChange=Ga.a.fieldChange.bind(hT(hT(n))),n.setErrors=Ga.a.setErrors.bind(hT(hT(n))),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&mT(e,t)}(t,u.a.Component),function(e,t,n){t&&fT(e.prototype,t),n&&fT(e,n)}(t,[{key:"render",value:function(){var e=this;return u.a.createElement("div",{className:"signup-dialog bst"},u.a.createElement("form",null,u.a.createElement("fieldset",null,u.a.createElement("div",{className:"bst-row mb-lg-3"},u.a.createElement("div",{className:"col-12 d-flex flex-column mb-3 mb-lg-3"},u.a.createElement(pl.a,{inputRef:this.email,fieldKey:"email",fieldChange:function(t){return e.fieldChange(t,e.isButtonDisabled)},fieldId:"email-field",fieldLabel:Object(v.c)("Email"),containerClasses:"",value:this.state.fieldValues.email})),u.a.createElement("div",{className:"col-12 d-flex flex-column mb-3 mb-lg-3"},u.a.createElement(pl.a,{inputRef:this.fullName,fieldKey:"fullName",fieldChange:function(t){return e.fieldChange(t,e.isButtonDisabled)},fieldId:"full-name-field",fieldLabel:Object(v.c)("Full Name"),containerClasses:"",value:this.state.fieldValues.fullName})),u.a.createElement("div",{className:"col-12 d-flex flex-column mb-3 mb-lg-3"},u.a.createElement(pl.a,{inputRef:this.address,fieldKey:"address",fieldChange:function(t){return e.fieldChange(t,e.isButtonDisabled)},fieldId:"address-field",fieldLabel:Object(v.c)("Address Name"),containerClasses:"",value:this.state.fieldValues.address})),u.a.createElement("div",{className:"col-12 d-flex flex-column mb-3 mb-lg-3"},u.a.createElement(pl.a,{inputRef:this.postalCode,fieldKey:"postalCode",fieldChange:function(t){return e.fieldChange(t,e.isButtonDisabled)},fieldId:"postal-code-field",fieldLabel:Object(v.c)("Postal Code"),errorMessage:this.state.fieldErrors.postalCode,containerClasses:"",value:this.state.fieldValues.postalCode})),u.a.createElement("div",{className:"col-12 d-flex flex-column mb-3 mb-lg-3"},u.a.createElement(uT.a,{ref:this.countrySelect,locationData:this.props.locationData,containerClasses:""})))),u.a.createElement(yT,{className:"btn",handleClick:function(t){return e.submit(t)},disabled:this.state.disabled,buttonText:Object(v.c)("Donate"),type:"submit"})))}}]),t}();function gT(e){return(gT="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function vT(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function wT(e){return(wT=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function kT(e,t){return(kT=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function OT(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}bT.propTypes={user:pi.a.User,locationData:pi.a.LocationData};var _T=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=function(e,t){return!t||"object"!==gT(t)&&"function"!=typeof t?OT(e):t}(this,wT(t).call(this))).state={amount:0,chargeSucceeded:!1,chargeError:!1,startDonate:!1,fillUser:!1,user:{email:null,first_name:null,last_name:null,country:null,postal_code:null,password1:null,password2:null},giftAid:!1},e.updateAmount=e.updateAmount.bind(OT(OT(e))),e.handleUser=e.handleUser.bind(OT(OT(e))),e.handleFillUser=e.handleFillUser.bind(OT(OT(e))),e.donate=e.donate.bind(OT(OT(e))),e.onSessionGenerated=e.onSessionGenerated.bind(OT(OT(e))),e.onChargeSuccess=e.onChargeSuccess.bind(OT(OT(e))),e.onChargeError=e.onChargeError.bind(OT(OT(e))),e.onGiftAidCheckboxChange=e.onGiftAidCheckboxChange.bind(OT(OT(e))),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&kT(e,t)}(t,u.a.Component),function(e,t,n){t&&vT(e.prototype,t),n&&vT(e,n)}(t,[{key:"componentWillMount",value:function(){var e=this;Ut.a.get().then(function(t){e.setState({user:t})})}},{key:"onChargeError",value:function(e,t,n){this.setState({chargeError:!0}),402===e.status&&this.setState({errorMessage:e.responseJSON.detail})}},{key:"onGiftAidCheckboxChange",value:function(){this.setState({giftAid:!0})}},{key:"onChargeSuccess",value:function(){this.setState({chargeSucceeded:!0})}},{key:"onSessionGenerated",value:function(){var e=this;Object(nu.a)({url:"/v1/donations/",type:"POST",data:{description:this.props.description||"One-time donation",amount:this.getAmount(),partner_id:this.props.partner.id,statement_descriptor:this.props.statement_descriptor||"One-time donation",uri:this.props.uri,customer_email:this.state.user.email,customer_full_name:this.state.user.full_name,customer_address:this.state.user.address,customer_country:this.state.user.country,customer_postal_code:this.state.user.postal_code,gift_aid:this.state.giftAid},success:function(t,n,o){var r=t;Stripe(e.props.publishableKey,{stripeAccount:r.connect}).redirectToCheckout({sessionId:r.id}).then(function(e){})},error:this.onChargeError})}},{key:"getAmount",value:function(){return parseInt(this.state.amount)}},{key:"updateAmount",value:function(e){this.setState({amount:e})}},{key:"validAmount",value:function(){return this.state.amount>=this.props.minAmount&&this.state.amount<=this.props.maxAmount}},{key:"handleUser",value:function(e){this.setState({startDonate:!0,fillUser:!1,user:e})}},{key:"handleFillUser",value:function(){this.setState({fillUser:!0})}},{key:"donate",value:function(e){e.preventDefault(),this.onSessionGenerated()}},{key:"showGiftAid",value:function(){if(this.props.partner.gift_aid)return u.a.createElement("label",null,u.a.createElement("div",{className:"d-flex flex-row align-self-center"},u.a.createElement("div",{className:"p-2"},u.a.createElement("input",{type:"checkbox",onChange:this.onGiftAidCheckboxChange})),u.a.createElement("div",{className:"p-2"},Object(v.c)("Yes, I'd like")," ",this.props.partner.name,Object(v.c)(" to claim Gift Aid on this donation, as well as any future donations. *"),u.a.createElement("p",null," "),u.a.createElement("small",null,Object(v.c)("* I am a UK taxpayer. I understand that if I pay less Income Yax and/or Capital Gains Tax in the current tax year than the amount of Gift Aid claimed on my donations I must pay the difference.")))))}},{key:"render",value:function(){return"true"===this.props.succeed?u.a.createElement("div",{className:"p-5 reusable-embed"},Object(v.c)("Thank you for your donation!")):"false"===this.props.succeed?u.a.createElement("div",{className:"p-5 reusable-embed"},Object(v.c)("Donation was canceled")):this.state.chargeError?u.a.createElement("div",{className:"p-5 reusable-embed"},u.a.createElement("p",null,Object(v.c)("An error occurred. Please try again later.")),u.a.createElement("p",{className:"donation-form__error-description"},this.state.errorMessage)):this.state.fillUser?u.a.createElement("div",{className:"p-5 reusable-embed"},u.a.createElement("form",{className:"donation-form__picker-buttons"},u.a.createElement("div",{className:"bst-row mt-3 align-items-center"},u.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-12 d-flex flex-column"},u.a.createElement("p",{className:"pb-3"},u.a.createElement("h4",null,Object(v.c)("Donate now:"))),u.a.createElement("p",{className:"pb-3"},Object(v.c)("Make a donation now to support the work of")," ",this.props.partner.name)),u.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-12 d-flex flex-column"},u.a.createElement(bT,{user:this.state.user,locationData:$d.a.getState().locationData,handleUser:this.handleUser}))))):this.state.startDonate?u.a.createElement("div",{className:"p-5 reusable-embed"},u.a.createElement("form",{className:"donation-form__picker-buttons"},u.a.createElement("h5",null,Object(v.c)("Choose an amount:")),u.a.createElement(oT,{amount:this.state.amount,displayAmounts:this.props.suggestedAmounts.amounts,displayCurrency:[this.props.suggestedAmounts.currency],onChange:this.updateAmount}),u.a.createElement(lT,{amount:this.state.amount,onChange:this.updateAmount,currency:this.props.suggestedAmounts.currency}),u.a.createElement("button",{type:"button",className:"btn donation-form__donate-button",disabled:!this.validAmount(),onClick:this.donate},Object(v.c)("Donate")))):u.a.createElement("div",{className:"p-5 reusable-embed"},u.a.createElement("form",{className:"donation-form__picker-buttons"},u.a.createElement("div",{className:"bst-row mt-3  align-items-center"},u.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-12 d-flex flex-column"},u.a.createElement("p",{className:"pb-3"},u.a.createElement("h4",null,Object(v.c)("Donate now:"))),u.a.createElement("p",{className:"pb-3"},Object(v.c)("Make a donation now to support the work of")," ",this.props.partner.name)),u.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-12 d-flex flex-column align-self-center"},this.showGiftAid(),u.a.createElement("button",{type:"button",className:"btn donation-form__donate-button",onClick:this.handleFillUser},Object(v.c)("Donate"))))))}}]),t}();function CT(e){return(CT="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ST(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function ET(e){return(ET=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function PT(e,t){return(PT=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function jT(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}_T.propTypes={min:y.a.number,max:y.a.number,suggestedAmounts:y.a.object},_T.defaultProps={suggestedAmounts:{amounts:[10,20,50,100],currency:"USD"},minAmount:10,maxAmount:5e4};var NT=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=function(e,t){return!t||"object"!==CT(t)&&"function"!=typeof t?jT(e):t}(this,ET(t).call(this))).state={scriptLoaded:!1,scriptError:!1},e.onScriptLoaded=e.onScriptLoaded.bind(jT(jT(e))),e.onScriptError=e.onScriptError.bind(jT(jT(e))),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&PT(e,t)}(t,u.a.Component),function(e,t,n){t&&ST(e.prototype,t),n&&ST(e,n)}(t,[{key:"onScriptLoaded",value:function(){this.setState({scriptLoaded:!0})}},{key:"onScriptError",value:function(){this.setState({scriptError:!0})}},{key:"createScriptElement",value:function(){var e=document.createElement("script");return e.src=this.props.src,e.async=!0,e.onload=this.onScriptLoaded,e.onerror=this.onScriptError,e}},{key:"componentDidMount",value:function(){var e=document.getElementsByTagName("head")[0],t=this.createScriptElement();e.insertBefore(t,e.lastChild)}},{key:"render",value:function(){return this.state.scriptLoaded?u.a.createElement("div",null,this.props.children):u.a.createElement(jt.a,null)}}]),t}();NT.propTypes={src:y.a.string};var TT=n(187);function xT(e){return(xT="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function IT(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function AT(e){return(AT=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function LT(e,t){return(LT=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function RT(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var MT=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=function(e,t){return!t||"object"!==xT(t)&&"function"!=typeof t?RT(e):t}(this,AT(t).call(this))).state={emailSent:!1,error:null},e.resendConfirmationEmail=e.resendConfirmationEmail.bind(RT(RT(e))),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&LT(e,t)}(t,u.a.Component),function(e,t,n){t&&IT(e.prototype,t),n&&IT(e,n)}(t,[{key:"resendConfirmationEmail",value:function(){var e=this;return(new ay.a).sendEmailConfirmation().then(function(){return e.setState({emailSent:!0})}).catch(function(t){return e.setState({error:t.responseJSON.message})})}},{key:"render",value:function(){return!0===this.state.emailSent?u.a.createElement("span",{className:"email-confirmation-status email-confirmation-status--email-sent"},Object(v.c)("Confirmation email sent")):this.state.error?u.a.createElement("span",{className:"email-confirmation-status email-confirmation-status--resend-link"},this.state.error):u.a.createElement("span",{className:"email-confirmation-status email-confirmation-status--resend-link",onClick:this.resendConfirmationEmail},"(",Object(v.c)("Click here to resend confirmation email"),")")}}]),t}();function BT(e){return(BT="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function DT(e,t){return!t||"object"!==BT(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function zT(e){return(zT=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function WT(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function FT(e,t,n){return t&&WT(e.prototype,t),n&&WT(e,n),e}function UT(e,t){return(UT=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var qT=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=DT(this,zT(t).call(this,e))).state={smoothScrollEnabled:!1},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&UT(e,t)}(t,u.a.Component),FT(t,null,[{key:"getStores",value:function(){return[jn.a]}},{key:"getPropsFromStores",value:function(){return{user:jn.a.getState().user}}}]),FT(t,[{key:"componentDidMount",value:function(){pu.a.loadUser()}},{key:"componentDidUpdate",value:function(){this.signedInLinkIsInPageAnchor()&&this.userLoggedIn()&&!this.state.smoothScrollEnabled&&(Me.a.smoothScroll(".sign-up-button__signed-in-message"),this.setState({smoothScrollEnabled:!0})),this.userLoggedIn()&&this.props.signedInHTML&&Me.a.smoothScroll(".smooth-scroll-to-anchor")}},{key:"openSignInDialog",value:function(){this.props.ssoLink?window.location.replace(this.props.ssoLink+"&next="+window.location.pathname):window.openTargetDialog("#registerDialog")}},{key:"signedInLinkIsInPageAnchor",value:function(){return"#"===this.props.signedInLink[0]}},{key:"userLoggedOut",value:function(){return this.props.user&&!this.props.user.authenticated}},{key:"userLoggedIn",value:function(){return this.props.user&&this.props.user.authenticated}},{key:"renderButton",value:function(){return this.props.signUpMessage?u.a.createElement("div",{className:"sign-up-button__sign-up-wrapper"},u.a.createElement(ve.a,{className:"btn sign-up-button__sign-up-wrapper__btn",handleClick:this.openSignInDialog.bind(this),buttonText:this.props.buttonText}),u.a.createElement("p",{className:"sign-up-button__sign-up-message",ref:"signUpMessage"},this.props.signUpMessage)):u.a.createElement(ve.a,{className:"btn  sign-up-button__btn",handleClick:this.openSignInDialog.bind(this),buttonText:this.props.buttonText})}},{key:"renderButtonIfSignedOut",value:function(){return this.userLoggedOut()?this.renderButton():!!this.userLoggedIn()&&(this.props.signedInHTML?u.a.createElement("div",{ref:"signedInHTML",className:"sign-up-button__signed-in-html",dangerouslySetInnerHTML:{__html:this.props.signedInHTML}}):u.a.createElement("div",{className:"sign-up-button",ref:"signedInText"},u.a.createElement("a",{ref:"signedInLink",href:this.props.signedInLink,className:"sign-up-button__signed-in-message"},this.props.signedInText)))}},{key:"render",value:function(){return null===this.props.user?u.a.createElement(jt.a,null):this.renderButtonIfSignedOut()}}]),t}();qT.defaultProps={buttonText:"Sign Up",signedInText:"Start Taking Action Now",signedInLink:"/take-action/"},qT.propTypes={buttonText:y.a.string,signedInText:y.a.string,user:pi.a.User};var GT=Sn()(qT),HT=n(186);function VT(e){return(VT="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function YT(){return(YT=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}function QT(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function KT(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function JT(e,t,n){return t&&KT(e.prototype,t),n&&KT(e,n),e}function ZT(e,t){return!t||"object"!==VT(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function $T(e){return($T=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function XT(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ex(e,t)}function ex(e,t){return(ex=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var tx=function(e){function t(){return QT(this,t),ZT(this,$T(t).apply(this,arguments))}return XT(t,u.a.Component),JT(t,[{key:"render",value:function(){return u.a.createElement("div",{className:"register-flow"},u.a.createElement("div",{className:"modal_actions"},u.a.createElement(ba,YT({ref:"registerFlowContainer"},this.props))))}}]),t}(),nx=function(e){function t(){return QT(this,t),ZT(this,$T(t).apply(this,arguments))}return XT(t,u.a.Component),JT(t,[{key:"render",value:function(){return u.a.createElement(HT.a,{ref:"dialog",id:this.props.id},u.a.createElement(tx,this.props))}}]),t}();function ox(e){return(ox="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function rx(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function ax(e){return(ax=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ix(e,t){return(ix=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function sx(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function cx(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var lx=b.a.p.withConfig({displayName:"user-points__PointsContainer",componentId:"aicfv6-0"})([""]);lx.displayName="PointsContainer";var ux=b.a.span.withConfig({displayName:"user-points__BeforePoints",componentId:"aicfv6-1"})([""]);ux.displayName="BeforePoints";var px=b.a.span.withConfig({displayName:"user-points__PointCount",componentId:"aicfv6-2"})([""]);px.displayName="PointCount";var fx=b.a.span.withConfig({displayName:"user-points__PointWord",componentId:"aicfv6-3"})([""]);fx.displayName="PointWord";var dx=b.a.span.withConfig({displayName:"user-points__AfterPoints",componentId:"aicfv6-4"})([""]);dx.displayName="AfterPoints";var mx=b.a.span.withConfig({displayName:"user-points__SignedOutText",componentId:"aicfv6-5"})([""]);mx.displayName="SignedOutText";var hx=Object(b.a)(ve.a).withConfig({displayName:"user-points__ButtonContainer",componentId:"aicfv6-6"})(["text-transform:none;"]);hx.displayName="ButtonContainer";var yx=function(e){function t(){var e,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];return cx(sx(sx(n=function(e,t){return!t||"object"!==ox(t)&&"function"!=typeof t?sx(e):t}(this,(e=ax(t)).call.apply(e,[this].concat(r))))),"getDefaultPointsDescription",function(){var e=vi.a.findMatchingPointsCategory(n.props,"pointsCategory");return e&&1===e.points?Object(v.c)("point"):Object(v.c)("points")}),cx(sx(sx(n)),"getPointsDescription",function(){return n.props.pointsCategory&&n.props.pointsCategory.id&&1!==n.props.pointsCategory.id?n.props.pointsCategory.name:n.getDefaultPointsDescription()}),cx(sx(sx(n)),"openSignInDialog",function(){n.props.ssoLink?window.utils.assign("".concat(n.props.ssoLink,"&next=").concat(window.location.pathname)):window.openTargetDialog("#loginDialog")}),cx(sx(sx(n)),"renderBeforePoints",function(){return n.props.beforePoints?u.a.createElement(ux,null,n.props.beforePoints):null}),cx(sx(sx(n)),"renderAfterPoints",function(){return n.props.afterPoints?u.a.createElement(dx,null,n.props.afterPoints):null}),cx(sx(sx(n)),"renderUserPoints",function(){return u.a.createElement("div",{className:"bst"},u.a.createElement("div",{className:"user-points-plugin text-center user-points-plugin__logged-in"},u.a.createElement(lx,null,n.renderBeforePoints()," ",u.a.createElement(px,null,vi.a.getUserPointsInPointsCategory(n.props,"pointsCategory"))," ",u.a.createElement(fx,null,n.getPointsDescription())," ",n.renderAfterPoints())))}),cx(sx(sx(n)),"renderSignedOutView",function(){return n.props.signedOutText?u.a.createElement(mx,null,n.props.signedOutText):u.a.createElement(hx,{className:"btn",handleClick:n.openSignInDialog,buttonText:Object(v.c)("Sign into your account")})}),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ix(e,t)}(t,u.a.Component),function(e,t,n){t&&rx(e.prototype,t),n&&rx(e,n)}(t,[{key:"componentDidMount",value:function(){pu.a.loadUser(),pu.a.loadUserPoints()}},{key:"render",value:function(){return null===this.props.user?u.a.createElement(jt.a,null):!1===this.props.user.authenticated?u.a.createElement("div",{className:"bst"},u.a.createElement("div",{className:"user-points-plugin text-center user-points-plugin__logged-out"},this.renderSignedOutView())):this.renderUserPoints()}}],[{key:"getStores",value:function(){return[jn.a]}},{key:"getPropsFromStores",value:function(){var e=jn.a.getState();return{user:e.user,userPointsByCategory:e.pointsByCategory}}}]),t}();yx.defaultProps={user:{},ssoLink:null,pointsCategory:{name:"Default",id:1}},yx.propTypes={user:y.a.object,ssoLink:y.a.string,pointsCategory:y.a.object,beforePoints:y.a.string,afterPoints:y.a.string,signedOutText:y.a.string};var bx=Sn()(yx),gx=n(310),vx=n(311),wx=n(312),kx=n(166),Ox=n.n(kx),_x=n(313),Cx=n.n(_x);function Sx(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var Ex=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.list=t,this.API_URL="https://www.googleapis.com/youtube/v3/videos?key=".concat(n),this.formatResult=this.formatResult.bind(this),this.formatDuration=this.formatDuration.bind(this),this.checkList=this.checkList.bind(this),this.retrieve=this.retrieve.bind(this)}return function(e,t,n){t&&Sx(e.prototype,t),n&&Sx(e,n)}(e,[{key:"formatDuration",value:function(e){if(-1===e.indexOf("M"))return(a=e.split("PT")[1].slice(0,-1))<10&&(a="0".concat(a)),"0:".concat(a);if(e.indexOf("H")>-1){var t=(r=e.slice(2)).split("H")[0],n=r.slice(r.indexOf("H")+1),o=n.split("M")[0];return(a=n.split("M")[1].slice(0,-1))<10&&(a="0".concat(a)),"".concat(t,":").concat(o,":").concat(a)}var r,a;o=(r=e.slice(2)).split("M")[0];return(a=r.split("M")[1].slice(0,-1))<10&&(a="0".concat(a)),"".concat(o,":").concat(a)}},{key:"formatResult",value:function(e){return{id:e.id,url:"https://www.youtube.com/embed/".concat(e.id),thumbnail:e.snippet.thumbnails.high.url,title:e.snippet.title,duration:this.formatDuration(e.contentDetails.duration)}}},{key:"formatAPIErrorResult",value:function(e){return{id:e,url:"https://www.youtube.com/embed/".concat(e),thumbnail:"/static/img/festival-banner.png",title:"",duration:""}}},{key:"checkList",value:function(){return!Array.isArray(this.list)||this.list.length<1?(console.log("Youtube Util should be initated with an array of items as the first argument."),console.log("Example: const util = new YoutubeUtil([id1, id2, id3], API_KEY"),[]):this.list}},{key:"retrieve",value:function(){var e=this,t=this.checkList(this.list);return new Promise(function(n,o){if(t.length<1)return n([]);var r={id:t.join(","),part:"snippet, contentDetails"};i.a.ajax({url:e.API_URL,data:r,success:function(t){n(t.items.map(e.formatResult))},error:function(o){n(t.map(e.formatAPIErrorResult)),console.log("Error contacting Youtube API for video details."),console.log("Youtube Error Below:"),console.log(o)}})})}}]),e}();function Px(e){return(Px="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function jx(e){return(jx=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Nx(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Tx(e,t,n){return t&&Nx(e.prototype,t),n&&Nx(e,n),e}function xx(e,t){return(xx=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ix(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var Ax=b.a.div.withConfig({displayName:"youtube-slideshow__Container",componentId:"sc-1t31khg-0"})([".slick-dots{position:static;padding:0;font-size:",";flex-wrap:wrap;margin:0;list-style-type:none;text-align:left;li{height:100%;padding:0 15px;width:100%;margin:0 0 40px 0;@media (min-width:599px){width:50%;min-width:50%;max-width:50%;}@media (min-width:960px){width:33.333%;min-width:33.333%;max-width:33.333%;}&.slick-active{opacity:0.75;}a{color:",";}}}"],g.a.smallBaseFont,g.a.black);Ax.displayName="Container";var Lx=b.a.h6.withConfig({displayName:"youtube-slideshow__Headline",componentId:"sc-1t31khg-1"})(["font-family:",";padding:0 15px;"],g.a.primaryFontFamily);Lx.displayName="Headline";var Rx=b.a.hr.withConfig({displayName:"youtube-slideshow__HeadlineLine",componentId:"sc-1t31khg-2"})(["width:100%;margin-left:15px;"]);Rx.displayName="HeadlineLine";var Mx=b.a.div.withConfig({displayName:"youtube-slideshow__ThumbnailListWrapper",componentId:"sc-1t31khg-3"})(["@media (min-width:960px){margin-left:-15px;margin-right:-15px;}"]);Mx.displayName="ThumbnailListWrapper";var Bx=Object(b.a)(K.a).withConfig({displayName:"youtube-slideshow__Thumbnail",componentId:"sc-1t31khg-4"})(["min-height:150px;height:auto;width:50%;margin-bottom:0.5rem;@media (min-width:960px){width:100%;min-height:250px;}"]);Bx.displayName="Thumbnail";var Dx=b.a.div.withConfig({displayName:"youtube-slideshow__ThumbnailDetails",componentId:"sc-1t31khg-5"})(["width:50%;padding-left:15px;@media (min-width:960px){width:100%;padding-left:0;}"]);Dx.displayName="ThumbnailDetails";var zx=b.a.p.withConfig({displayName:"youtube-slideshow__VideoTime",componentId:"sc-1t31khg-6"})(["font-family:",";"],g.a.primaryFontFamilyBold);zx.displayName="VideoTime";var Wx=b.a.p.withConfig({displayName:"youtube-slideshow__VideoName",componentId:"sc-1t31khg-7"})([""]);Wx.displayName="VideoName";var Fx=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=function(e,t){return!t||"object"!==Px(t)&&"function"!=typeof t?Ix(e):t}(this,jx(t).call(this,e))).getUser=n.getUser.bind(Ix(Ix(n))),n.getIdList=n.getIdList.bind(Ix(Ix(n))),n.state={videos:[],players:{}},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&xx(e,t)}(t,u.a.Component),Tx(t,null,[{key:"getStores",value:function(){return[jn.a]}},{key:"getPropsFromStores",value:function(){return{user:jn.a.getState().user}}}]),Tx(t,[{key:"getIdList",value:function(){var e=this,t=this.props.children;return Array.isArray(t)&&0!==t.length?t.filter(function(e){return null!==e}).map(function(t){var n;return(n=t.unauthenticated_override&&!1===e.props.user.authenticated?t.unauthenticated_override.split("?v="):t.youtube_url.split("?v="))[n.length-1].split("&")[0]}):null}},{key:"getUser",value:function(){return Ut.a.get()}},{key:"setPlayers",value:function(e){var t=this;e.map(function(e){var n=t.state.players;n[e.id]=Cx()("player-".concat(e.id)),t.setState({players:n})})}},{key:"componentDidMount",value:function(){var e=this;this.getUser().then(function(){return e.getIdList()}).then(function(e){return new Ex(e,Nl.a.youTube.apiKey).retrieve()}).then(function(t){return e.setState({videos:t},function(){return e.setPlayers(t)})}).catch(function(e){console.log("error catching in promises"),console.log(e)})}},{key:"renderVideos",value:function(e){return e.map(function(e){return u.a.createElement("div",{className:"responsive-video-embed-wrapper",key:e.id},u.a.createElement("div",{className:"responsive-video-embed"},u.a.createElement("iframe",{id:"player-".concat(e.id),width:"560",allowFullScreen:"",height:"315",frameBorder:"0",src:"".concat(e.url,"?enablejsapi=1")})))})}},{key:"getSettings",value:function(e){var t=this;return{customPaging:function(t){return u.a.createElement("a",{className:"d-flex d-lg-block"},u.a.createElement(Bx,{src:e[t].thumbnail,title:e[t].title,type:"css"}),u.a.createElement(Dx,null,u.a.createElement(zx,{className:"text-left"},e[t].duration),u.a.createElement(Wx,{className:"text-left"},e[t].title)))},appendDots:function(e){return u.a.createElement(Mx,null,u.a.createElement(Lx,{className:"text-left mb-2 d-flex align-items-center"},u.a.createElement("span",{className:"text-uppercase text-nowrap"},Object(v.c)("Up Next")),u.a.createElement(Rx,null)),u.a.createElement("ul",{className:"slick-dots d-block d-lg-flex align-items-start justify-content-start"},e))},dots:!0,dotsClass:"slick-thumb video-slideshow__thumbnails",infinite:!0,speed:300,arrows:!1,adaptiveHeight:!1,slidesToShow:1,slidesToScroll:1,afterChange:function(n){t.stopVideos(e)}}}},{key:"stopVideos",value:function(e){var t=this;e.map(function(e){t.state.players[e.id].pauseVideo()})}},{key:"render",value:function(){var e=this.state.videos;if(e.length<1)return u.a.createElement(jt.a,null);var t=this.getSettings(e);return e.length>1?u.a.createElement(Ax,{className:"bst video-slideshow ".concat(this.props.className)},u.a.createElement(Ox.a,t,this.renderVideos(e))):u.a.createElement(Ax,{className:"bst video-slideshow ".concat(this.props.className)},u.a.createElement("div",null,this.renderVideos(e)))}}]),t}();Fx.defaultProps={startBreakpoint:600,user:{}},Fx.propTypes={startBreakpoint:y.a.number,user:y.a.object,children:y.a.node};var Ux=Sn()(Fx);function qx(e){return(qx="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Gx(){return(Gx=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}function Hx(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Vx(e){return(Vx=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Yx(e,t){return(Yx=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Qx(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var Kx=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=function(e,t){return!t||"object"!==qx(t)&&"function"!=typeof t?Qx(e):t}(this,Vx(t).call(this,e))).renderLink=n.renderLink.bind(Qx(Qx(n))),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Yx(e,t)}(t,u.a.Component),function(e,t,n){t&&Hx(e.prototype,t),n&&Hx(e,n)}(t,[{key:"componentDidMount",value:function(){pu.a.loadUser()}},{key:"renderLink",value:function(){return this.props.url?u.a.createElement(Hi.a,Gx({},this.props,{ref:"contentTitleLink",buttonClass:"btn",buttonContent:this.props.buttonText,resourceUrl:this.props.url,navElement:this.props.navElement,openInIframe:this.props.openInIframe,backButtonText:this.props.backButtonText,useAuthentication:this.props.openSignupIfSignedOut})):null}},{key:"render",value:function(){return null===this.props.user?u.a.createElement(jt.a,null):u.a.createElement(Xe,{color:this.props.color,maxWidth:this.props.maxWidth,verticalAlignment:this.props.verticalAlignment,topBorder:this.props.topBorder,className:"CampaignUpdateCard ".concat(this.props.className)},u.a.createElement(Q,{head:this.props.title,body:this.props.description,className:"pt-4 ".concat(this.props.className)}),this.renderLink())}}],[{key:"getStores",value:function(){return[jn.a]}},{key:"getPropsFromStores",value:function(){return{user:jn.a.getState().user}}}]),t}();Kx.defaultProps={user:{},color:g.a.primaryRed,topBorder:!0,buttonText:Object(v.c)("Learn More"),verticalAlignment:"justify-content-start",title:null,description:null,openInIframe:!0,backButtonText:Object(v.c)("Back"),openSignupIfSignedOut:!0},Kx.propTypes={color:y.a.string,maxWidth:y.a.string,verticalAlignment:y.a.string,topBorder:y.a.bool,count:y.a.string,url:y.a.string,title:y.a.string,description:y.a.string,buttonText:y.a.string,openInIframe:y.a.bool,backButtonText:y.a.string,openSignupIfSignedOut:y.a.bool};var Jx=Sn()(Kx);function Zx(e){return(Zx="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $x(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Xx(e){return(Xx=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function eI(e,t){return(eI=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function tI(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var nI=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=function(e,t){return!t||"object"!==Zx(t)&&"function"!=typeof t?tI(e):t}(this,Xx(t).call(this,e))).state={showModal:n.props.connected},n.handleOpenModal=n.handleOpenModal.bind(tI(tI(n))),n.handleCloseModal=n.handleCloseModal.bind(tI(tI(n))),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&eI(e,t)}(t,u.a.Component),function(e,t,n){t&&$x(e.prototype,t),n&&$x(e,n)}(t,[{key:"handleOpenModal",value:function(){this.setState({showModal:!0})}},{key:"handleCloseModal",value:function(){this.setState({showModal:!1}),window.location.replace("/")}},{key:"render",value:function(){return u.a.createElement("div",null,u.a.createElement(Nn.a,{isOpen:this.state.showModal,closeTimeoutMS:0,contentLabel:"Modal",className:{base:"react-modal stripe-connect-modal",afterOpen:"react-modal stripe-connect-modal--after-open",beforeClose:"react-modal stripe-connect-modal--close"}},u.a.createElement("span",{className:"close-dialog","aria-label":"Close",onClick:this.handleCloseModal},"×"),u.a.createElement("div",{className:"stripe-connect-dialog-body text-center"},u.a.createElement("h5",{className:"stripe-connect-dialog-body__headline"},Object(v.c)("STRIPE successfully connected")),u.a.createElement("br",null),u.a.createElement("br",null))))}}]),t}();nI.defaultProps={connected:!1},nI.propTypes={connected:y.a.bool};var oI=Object(b.a)(ie).withConfig({displayName:"reward-partners__Container",componentId:"sc-3yghf2-0"})(["*[class*='partner-attribution__Message']{display:block;font-style:italic;padding-bottom:",";}"],g.a.defaultParagraphSpacing);oI.displayName="Container";var rI=function(e){return u.a.createElement(oI,{color:g.a.darkGray,message:Object(v.c)("in partnership with"),width:e.width,height:e.height,maxWidth:"110px",maxHeight:e.maxHeight,type:e.type,partners:e.partners,imagesWrapperClass:"flex-column justify-content-center align-items-start"})};function aI(e){return(aI="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function iI(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function sI(e){return(sI=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function cI(e,t){return(cI=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function lI(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}rI.propTypes={partners:y.a.arrayOf(y.a.object).isRequired,height:y.a.string,width:y.a.string,maxHeight:y.a.string,type:y.a.string};var uI=Object(b.a)(K.a).withConfig({displayName:"desktop-mobile-image__MobileImg",componentId:"xxenxc-0"})([""]);uI.displayName="MobileImg";var pI=Object(b.a)(K.a).withConfig({displayName:"desktop-mobile-image__DesktopImg",componentId:"xxenxc-1"})([""]);pI.displayName="DesktopImg";var fI=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=function(e,t){return!t||"object"!==aI(t)&&"function"!=typeof t?lI(e):t}(this,sI(t).call(this,e))).state={windowWidth:0},n.updateWindowDimensions=n.updateWindowDimensions.bind(lI(lI(n))),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&cI(e,t)}(t,u.a.Component),function(e,t,n){t&&iI(e.prototype,t),n&&iI(e,n)}(t,[{key:"componentDidMount",value:function(){this.updateWindowDimensions(),window.addEventListener("resize",this.updateWindowDimensions)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.updateWindowDimensions)}},{key:"updateWindowDimensions",value:function(){this.setState({windowWidth:window.innerWidth})}},{key:"render",value:function(){return this.state.windowWidth<=this.props.breakpoint&&this.props.mobileImg?u.a.createElement(uI,{src:this.props.mobileImg,width:this.props.width,maxWidth:this.props.maxWidth,height:this.props.height,maxHeight:this.props.maxHeight,alt:this.props.alt,className:this.props.className}):u.a.createElement(pI,{src:this.props.desktopImg||this.props.mobileImg,width:this.props.width,maxWidth:this.props.maxWidth,height:this.props.height,maxHeight:this.props.maxHeight,alt:this.props.alt,className:this.props.className})}}]),t}();function dI(e){return(dI="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function mI(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function hI(e){return(hI=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function yI(e,t){return(yI=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function bI(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}fI.defaultProps={breakpoint:599,alt:"",maxHeight:"100%",maxWidth:"100%",height:"auto",width:"100%"},fI.propTypes={breakpoint:y.a.number,mobileImg:y.a.string,desktopImg:y.a.string,width:y.a.string,height:y.a.string,maxWidth:y.a.string,maxHeight:y.a.string,alt:y.a.string,className:y.a.string};var gI=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(bI(bI(n=function(e,t){return!t||"object"!==dI(t)&&"function"!=typeof t?bI(e):t}(this,hI(t).call(this,e)))),"isButtonDisabled",function(){n.state.fieldValues.username&&n.state.fieldValues.password?n.setState({buttonDisabled:!1}):n.setState({buttonDisabled:!0})}),n.state={buttonDisabled:!0,fieldValues:{username:"",password:""}},n.username=u.a.createRef(),n.password=u.a.createRef(),n.fieldChange=Ga.a.fieldChange.bind(bI(bI(n))),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&yI(e,t)}(t,u.a.Component),function(e,t,n){t&&mI(e.prototype,t),n&&mI(e,n)}(t,[{key:"render",value:function(){var e=this;return u.a.createElement("fieldset",null,u.a.createElement(pl.a,{inputRef:this.email,fieldChange:function(t){return e.fieldChange(t,e.isButtonDisabled)},fieldKey:"username",fieldId:"username",fieldLabel:Object(v.c)("Email Address"),fieldType:"email",value:this.state.fieldValues.username,required:!0}),u.a.createElement(pl.a,{inputRef:this.password,fieldId:"password",fieldType:"password",fieldKey:"password",fieldLabel:Object(v.c)("Password"),fieldChange:function(t){return e.fieldChange(t,e.isButtonDisabled)},value:this.state.fieldValues.password,required:!0}),u.a.createElement(ve.a,{className:"btn w-100 mb-2",disabled:this.state.buttonDisabled,buttonText:Object(v.c)("Sign In"),type:"submit"}))}}]),t}(),vI=n(621),wI=n(622),kI=n(623);function OI(e){return(OI="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _I(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function CI(e,t){return!t||"object"!==OI(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function SI(e){return(SI=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function EI(e,t){return(EI=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var PI=b.a.div.withConfig({displayName:"banner-overlay__Banner",componentId:"sc-1dvslzl-0"})(["position:relative;text-align:center;"]);PI.displayName="Banner";var jI=Object(b.a)(K.a).withConfig({displayName:"banner-overlay__HeroImage",componentId:"sc-1dvslzl-1"})(["min-height:",";@media (min-width:","){min-height:",";}"],function(e){return e.mobileHeight},L.min.large,function(e){return e.desktopHeight});jI.displayName="HeroImage";var NI=b.a.div.withConfig({displayName:"banner-overlay__Overlay",componentId:"sc-1dvslzl-2"})(["color:",";background:",";"],function(e){return e.color},function(e){return e.showOverlay?g.a.overlayBackgroundColor:null});NI.displayName="Overlay";var TI=Object(b.a)(Q).withConfig({displayName:"banner-overlay__Text",componentId:"sc-1dvslzl-3"})(["margin:0 auto;*[class*='copy__Head']{font-size:",";font-family:",";color:",";font-weight:bold;letter-spacing:-0.2px;@media (min-width:","){font-size:",";}}*[class*='copy__Subhead']{font-size:",";font-family:",";text-transform:none;line-height:",";font-weight:bold;letter-spacing:0.1px;@media (min-width:","){font-size:",";}}"],g.a.defaultHeadlineSizeMobile,g.a.primaryFontFamily,function(e){return e.color},L.min.large,g.a.defaultHeadlineSize,g.a.baseFontSize,g.a.primaryFontFamily,g.a.xlargeLineHeight,L.min.large,g.a.largeBaseFont);TI.displayName="Text";var xI=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),CI(this,SI(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&EI(e,t)}(t,l["Component"]),function(e,t,n){t&&_I(e.prototype,t),n&&_I(e,n)}(t,[{key:"render",value:function(){return u.a.createElement("div",{className:"bst"},u.a.createElement("div",{className:"bst-container-fluid px-0 pb-5"},u.a.createElement("div",{className:"bst-row"},u.a.createElement("div",{className:"col-12"},u.a.createElement(PI,null,u.a.createElement(jI,{src:this.props.src,width:"100%",type:"css",alt:this.props.head,className:"".concat(this.props.className||""," d-flex"),desktopHeight:this.props.desktopHeight,mobileHeight:this.props.mobileHeight},u.a.createElement(NI,{showOverlay:this.props.showOverlay,color:this.props.color,className:"".concat(this.props.className||""," d-flex w-100 flex-column justify-content-center py-4")},u.a.createElement("div",{className:"bst-container"},u.a.createElement(TI,{head:this.props.head,subhead:this.props.subhead,color:this.props.color}))))),u.a.createElement(be,{credits:this.props.credits,alignment:"justify-content-end pt-1 px-gutter",hideCredits:this.props.hideCredits})))))}}]),t}();function II(e){return(II="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function AI(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function LI(e,t){return!t||"object"!==II(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function RI(e){return(RI=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function MI(e,t){return(MI=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}xI.defaultProps={color:g.a.white,showOverlay:!0,desktopHeight:g.a.overlayBackgroundDesktopHeight,mobileHeight:g.a.overlayBackgroundMobileHeight,hideCredits:!1},xI.propTypes={showOverlay:y.a.bool,color:y.a.string,src:y.a.string,head:y.a.string,subhead:y.a.string,desktopHeight:y.a.string,mobileHeight:y.a.string,className:y.a.string};var BI=b.a.div.withConfig({displayName:"action-counter-icon__Icon",componentId:"sc-1d5ef9v-0"})([".action-counter__icon{width:",";height:",";&__path{fill:",";}}"],function(e){return e.size},function(e){return e.size},function(e){return e.color});BI.displayName="Icon";var DI=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),LI(this,RI(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&MI(e,t)}(t,u.a.Component),function(e,t,n){t&&AI(e.prototype,t),n&&AI(e,n)}(t,[{key:"render",value:function(){return u.a.createElement(BI,{size:this.props.size,color:this.props.color},u.a.createElement("svg",{className:"action-counter__icon",xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32"},u.a.createElement("desc",null,"Created with Sketch."),u.a.createElement("g",{style:{fill:"none",strokeWidth:"1",stroke:"none"}},u.a.createElement("g",{fill:"#000"},u.a.createElement("path",{className:"action-counter__icon__path",d:"M24.4 14.9C24.2 14.8 24 14.7 23.8 14.6 23.7 14.6 23.7 14.5 23.7 14.4 23.7 13.1 23.7 11.8 23.7 10.4 23.7 10.2 23.7 10 23.6 9.9 23.3 9.3 22.9 9.1 22.4 9 22.3 9 22.2 9 22.2 9 22.1 9.1 22 9.2 21.9 9.2 21.6 9.4 21.4 9.7 21.1 9.9 20.5 10.3 20 10.7 19.4 11 18.9 11.3 18.4 11.6 17.8 11.9 17.3 12.1 16.7 12.3 16.2 12.5 15.3 12.7 14.4 12.8 13.5 12.8 11.8 12.8 10 12.8 8.3 12.8 7.8 12.8 7.5 13.1 7.2 13.4 6.9 13.6 6.8 13.9 6.8 14.3 6.8 15.2 6.8 16.2 6.8 17.2 6.8 17.6 7 17.9 7.3 18.2 7.6 18.5 7.9 18.6 8.3 18.6L9.1 18.6C9.1 18.8 9.1 18.9 9.1 19.1 9 19.7 9.1 20.3 9.2 20.9 9.4 21.5 9.5 22.1 9.7 22.6 9.8 22.8 9.9 23.1 10 23.3 10 23.6 10.1 23.7 10.3 23.8 10.6 24.1 11 24.2 11.4 24.3 11.9 24.5 12.3 24.5 12.8 24.4 13.1 24.4 13.5 24.3 13.8 24.2 14.3 24 14.7 23.7 14.9 23.2 15 22.9 15 22.6 14.8 22.4 14.7 22.3 14.6 22.2 14.5 22.1 14.3 21.9 14 21.7 13.8 21.5 13.6 21.3 13.6 21.2 13.8 21 13.9 20.8 13.9 20.4 13.7 20.2 13.7 20.1 13.6 20 13.6 19.9 13.4 19.5 13.6 19 14 18.7 14 18.7 14.1 18.7 14.1 18.7 14.4 18.7 14.8 18.8 15.1 18.8 15.8 18.9 16.5 19.1 17.1 19.4 17.7 19.6 18.2 19.8 18.8 20.1 19.3 20.4 19.9 20.7 20.4 21.1 20.7 21.3 20.9 21.5 21.2 21.7 21.5 21.9 21.8 22.1 22 22.4 22.2 22.5 22.3 22.5 22.5 22.5 22.6 22.5 22.6 22.5 22.6 22.5 23.2 22.3 23.5 21.9 23.7 21.4 23.7 21.2 23.7 21 23.7 20.8 23.7 19.6 23.7 18.3 23.7 17 23.7 17 23.7 16.9 23.8 16.9 24.1 16.8 24.3 16.6 24.5 16.4 24.8 16 24.7 15.3 24.4 14.9ZM12.4 23C12.1 23 11.8 23 11.5 22.8 11.4 22.8 11.3 22.7 11.3 22.6 11.1 22 10.9 21.4 10.7 20.8 10.6 20.1 10.5 19.5 10.6 18.9 10.6 18.6 10.6 18.6 10.8 18.6L12.2 18.6C12.2 18.8 12.2 18.8 12.1 18.9 12.1 19 12.1 19.1 12.1 19.2 12 19.6 12 19.9 12.1 20.2 12.2 20.3 12.2 20.5 12.3 20.6 12.3 20.6 12.3 20.7 12.3 20.7 12.1 21.3 12.2 21.9 12.6 22.4 12.7 22.5 12.9 22.6 13 22.8 13 22.8 13.1 22.8 13.1 22.9 12.9 22.9 12.7 23 12.4 23ZM13.3 17.2L8.3 17.2 8.3 14.3 13.3 14.3 13.3 17.2ZM22.2 20.6C22.1 20.5 21.9 20.4 21.8 20.3 21.3 20 20.9 19.7 20.4 19.3 20.1 19.2 19.9 19 19.6 18.9 18.8 18.4 18 18.1 17.1 17.8 16.6 17.6 16 17.5 15.4 17.4 15.3 17.3 15.1 17.3 14.9 17.3 14.8 17.3 14.8 17.3 14.8 17.2 14.8 16.8 14.8 16.4 14.8 15.9 14.8 15.4 14.8 14.9 14.8 14.3 14.8 14.2 14.8 14.2 14.9 14.2 15.6 14.1 16.3 13.9 17 13.7 17.6 13.6 18.1 13.4 18.6 13.1 19.2 12.9 19.7 12.6 20.3 12.2 20.5 12.1 20.8 11.9 21 11.7 21.3 11.5 21.6 11.3 21.9 11.1 22 11 22.1 11 22.2 10.9L22.2 20.6Z"}),u.a.createElement("path",{className:"action-counter__icon__path",d:"M16 31C14 31 12 30.6 10.2 29.8 6.6 28.3 3.7 25.4 2.2 21.8 1.4 20 1 18 1 16 1 14 1.4 12 2.2 10.2 3.7 6.6 6.6 3.7 10.2 2.2 12 1.4 14 1 16 1 18 1 20 1.4 21.8 2.2 25.4 3.7 28.3 6.6 29.8 10.2 30.6 12 31 14 31 16 31 18 30.6 20 29.8 21.8 28.3 25.4 25.4 28.3 21.8 29.8 20 30.6 18 31 16 31ZM16 2.1C14.1 2.1 12.3 2.5 10.6 3.2 7.3 4.6 4.6 7.3 3.2 10.6 2.5 12.3 2.1 14.1 2.1 16 2.1 17.9 2.5 19.7 3.2 21.4 4.6 24.7 7.3 27.4 10.6 28.8 12.3 29.5 14.1 29.9 16 29.9 17.9 29.9 19.7 29.5 21.4 28.8 24.7 27.4 27.4 24.7 28.8 21.4 29.5 19.7 29.9 17.9 29.9 16 29.9 14.1 29.5 12.3 28.8 10.6 27.4 7.3 24.7 4.6 21.4 3.2 19.7 2.5 17.9 2.1 16 2.1Z",style:{strokeWidth:"0.5",stroke:"#000"}})))))}}]),t}();function zI(e){return(zI="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function WI(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function FI(e){return(FI=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function UI(e,t){return(UI=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function qI(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}DI.defaultProps={color:g.a.baseAccentColorAlt,size:"36px"};var GI=b.a.h2.withConfig({displayName:"counter__CounterNumber",componentId:"vjyp1e-0"})(["font-size:",";color:",";"],g.a.xxxxlargeBaseFont,function(e){return e.color});GI.displayName="CounterNumber";var HI=b.a.p.withConfig({displayName:"counter__CounterDescription",componentId:"vjyp1e-1"})(["font-size:",";text-transform:uppercase;"],g.a.xxsmallBaseFont);HI.displayName="CounterDescription";var VI=b.a.div.withConfig({displayName:"counter__IconContainer",componentId:"vjyp1e-2"})([""]);VI.displayName="IconContainer";var YI=function(e){function t(){var e,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];return function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(qI(qI(n=function(e,t){return!t||"object"!==zI(t)&&"function"!=typeof t?qI(e):t}(this,(e=FI(t)).call.apply(e,[this].concat(r))))),"renderIcon",function(){return n.props.icon?u.a.createElement(VI,{className:"col-auto p-0"},n.props.icon):null}),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&UI(e,t)}(t,u.a.Component),function(e,t,n){t&&WI(e.prototype,t),n&&WI(e,n)}(t,[{key:"render",value:function(){return this.props.count?u.a.createElement("div",{className:"bst"},u.a.createElement("div",{className:"bst-row align-items-center justify-content-center"},this.renderIcon(),u.a.createElement("div",{className:"col-auto"},u.a.createElement(GI,{color:this.props.color},this.props.count.toLocaleString()))),u.a.createElement("div",{className:"bst-row pt-2"},u.a.createElement("div",{className:"col-12"},u.a.createElement(HI,{className:"".concat(this.props.className||""," ").concat(this.props.descriptionClasses)},this.props.description)))):null}}]),t}();function QI(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}YI.defaultProps={color:g.a.baseAccentColorAlt,description:Object(v.c)("Actions Taken to Create Change"),icon:u.a.createElement(DI,{size:"48px",color:g.a.baseAccentColorAlt}),descriptionClasses:"text-center"},YI.propTypes={count:y.a.number,icon:y.a.node,description:y.a.string,descriptionClasses:y.a.string};var KI=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return function(e,t,n){t&&QI(e.prototype,t),n&&QI(e,n)}(e,null,[{key:"postCTARresponse",value:function(e,t,n){Object(nu.a)({url:"/v1/campaigns/cta/",type:"POST",data:JSON.stringify({campaign:"".concat(e),cta_response:"".concat(t)}),contentType:"application/json; charset=utf-8",success:function(o){window.analytics.track("Event Campaign CTA Answer",{campaign:e,ctaResponse:t}),n.success(o)}.bind(this),error:n.error})}}]),e}();function JI(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var ZI=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return function(e,t,n){t&&JI(e.prototype,t),n&&JI(e,n)}(e,[{key:"postCTAResponse",value:function(e,t){return function(n){KI.postCTARresponse(e,t,{success:function(o){n({campaign:e,cta_response:t})},error:function(){}})}}}]),e}(),$I=Ku.a.createActions(ZI);function XI(e){return(XI="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function eA(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function tA(e){return(tA=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function nA(e,t){return(nA=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function oA(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function rA(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var aA=b.a.div.withConfig({displayName:"campaign-cta-question__Container",componentId:"sc-14h1mki-0"})([""]);aA.displayName="Container";var iA=b.a.div.withConfig({displayName:"campaign-cta-question__Col",componentId:"sc-14h1mki-1"})([""]);iA.displayName="Col";var sA=b.a.div.withConfig({displayName:"campaign-cta-question__Question",componentId:"sc-14h1mki-2"})([""]);sA.displayName="Question";var cA=b.a.div.withConfig({displayName:"campaign-cta-question__Confirmation",componentId:"sc-14h1mki-3"})([""]);cA.displayName="Confirmation";var lA=Object(b.a)(ve.a).withConfig({displayName:"campaign-cta-question__YesButton",componentId:"sc-14h1mki-4"})(["&&&{min-width:",";}"],g.a.buttonMinWidthSmall);lA.displayName="YesButton";var uA=Object(b.a)(ve.a).withConfig({displayName:"campaign-cta-question__NoButton",componentId:"sc-14h1mki-5"})(["&&&{min-width:",";}"],g.a.buttonMinWidthSmall);uA.displayName="NoButton";var pA=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),rA(oA(oA(n=function(e,t){return!t||"object"!==XI(t)&&"function"!=typeof t?oA(e):t}(this,tA(t).call(this,e)))),"getFollowingState",function(){n.followClient.loadInitialState(n.props.followId,function(e){n.setState({authenticated:!0,following:!0,loaded:!0})},function(e){n.setState({authenticated:!0,following:!1,loaded:!0})})}),rA(oA(oA(n)),"handleClick",function(e){if(!1===n.isUserAuthenticated())return n.openSignupDialog();!0===e&&n.followClient.follow(n.props.followId,function(){n.setState({following:!0})},function(){}),n.setState({questionAnswered:!0}),$I.postCTAResponse(n.props.followId,e)}),rA(oA(oA(n)),"isUserAuthenticated",function(){return n.state.authenticated}),rA(oA(oA(n)),"openSignupDialog",function(){window.openTargetDialog("#registerDialog")}),rA(oA(oA(n)),"renderAnswerConfirmation",function(){return n.props.ctaImage?u.a.createElement("div",{className:"bst-row"},u.a.createElement("div",{className:"col-12"},u.a.createElement(K.a,{src:n.props.ctaImage,alt:n.props.ctaImageCredits&&n.props.ctaImageCredits.description,width:"auto"}))):n.props.count?u.a.createElement(YI,{count:n.props.count,color:n.props.counterColor}):u.a.createElement("div",{className:"bst-row"},u.a.createElement("div",{className:"col-12"},u.a.createElement("p",null,Object(v.c)("Thank You"))))}),rA(oA(oA(n)),"renderContents",function(){return!1===n.state.loaded?u.a.createElement(jt.a,null):!0===n.state.questionAnswered?u.a.createElement(cA,{className:"bst-row"},u.a.createElement("div",{className:"col-12"},n.renderAnswerConfirmation())):u.a.createElement(sA,null,u.a.createElement("div",{className:"bst-row"},u.a.createElement(iA,{className:"".concat(n.props.className||""," ").concat(n.props.columnClasses)},u.a.createElement(Q,{body:n.props.questionText,maxWidth:"100%"}))),u.a.createElement("div",{className:"bst-row pt-4"},u.a.createElement("div",{className:"".concat(n.props.className||""," col-12 p-0")},u.a.createElement(lA,{buttonText:n.props.yesButtonText,handleClick:function(){return n.handleClick(!0)},className:"btn mb-4 mb-sm-0 mx-3"}),u.a.createElement(uA,{buttonText:n.props.noButtonText,handleClick:function(){return n.handleClick(!1)},className:"btn mb-4 mb-sm-0 mx-3"}))))}),n.state={loaded:!1,questionAnswered:!(!n.props.ctaResponse&&!1!==n.props.ctaResponse)},n.followClient=new qt.a(n.props.followType),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&nA(e,t)}(t,u.a.Component),function(e,t,n){t&&eA(e.prototype,t),n&&eA(e,n)}(t,[{key:"componentDidMount",value:function(){var e=this;Ut.a.get().then(function(t){t.authenticated?e.getFollowingState():e.setState({authenticated:!1,loaded:!0})})}},{key:"render",value:function(){return this.props.questionText?u.a.createElement(aA,{className:"".concat(this.props.className||""," ").concat(this.props.containerClasses," bst")},u.a.createElement("div",{className:"bst-container"},this.renderContents())):null}}]),t}();function fA(e){return(fA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function dA(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function mA(e,t){return!t||"object"!==fA(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function hA(e){return(hA=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function yA(e,t){return(yA=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}pA.defaultProps={containerClasses:"text-center",columnClasses:"col-12 col-lg-8 offset-lg-2",yesButtonText:Object(v.c)("Yes"),noButtonText:Object(v.c)("No"),counterColor:g.a.baseAccentColorAlt,ctaResponse:null},pA.propTypes={questionText:y.a.string.isRequired,ctaResponse:y.a.bool,followType:y.a.string,followId:y.a.number,ctaImage:y.a.string,ctaImageCredits:y.a.object,ctaCounter:y.a.number,counterColor:y.a.string,className:y.a.string,containerClasses:y.a.string,columnClasses:y.a.string,yesButtonText:y.a.string,noButtonText:y.a.string};var bA=b.a.div.withConfig({displayName:"campaign-page__Campaign",componentId:"o933b9-0"})([""]);bA.displayName="Campaign";var gA=Object(b.a)(pm).withConfig({displayName:"campaign-page__CampaignDetails",componentId:"o933b9-1"})(["font-size:",";letter-spacing:-0.24px;"],g.a.largeBaseFont);gA.displayName="CampaignDetails";var vA=Object(b.a)(pA).withConfig({displayName:"campaign-page__CTA",componentId:"o933b9-2"})(["margin:0 auto;*[class*='copy__Container']{font-size:",";@media (min-width:","){font-size:","rem;}}"],g.a.mediumBaseFont,L.min.medium,1.57*Object(A.d)("".concat(g.a.baseFontSize)));vA.displayName="CTA";var wA=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),mA(this,hA(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&yA(e,t)}(t,l["Component"]),function(e,t,n){t&&dA(e.prototype,t),n&&dA(e,n)}(t,[{key:"render",value:function(){return this.props.campaignPage&&this.props.campaignPage.campaign?u.a.createElement(bA,{className:"".concat(this.props.className||""," bst")},u.a.createElement(xI,{src:this.props.campaignPage.hero_image,head:this.props.campaignPage.campaign.title,subhead:this.props.campaignPage.campaign.description,credits:this.props.campaignPage.thumbnails&&this.props.campaignPage.thumbnails.credits}),u.a.createElement("div",{className:"bst-container p-0 px-lg-gutter"},u.a.createElement(gA,{centerPaddingMobile:this.props.centerPaddingMobile,itemContainerClasses:this.props.itemContainerClasses,itemCopyClasses:this.props.itemCopyClasses,aboutText:this.props.campaignPage.campaign.what_to_know_about,aboutIcon:u.a.createElement(vI.a,{color:this.props.iconColor,size:this.props.iconSize}),targetText:this.props.campaignPage.campaign.what_to_know_target,targetIcon:u.a.createElement(wI.a,{color:this.props.iconColor,size:this.props.iconSize}),needsText:this.props.campaignPage.campaign.what_to_know_needs,needsIcon:u.a.createElement(kI.a,{color:this.props.iconColor,size:this.props.iconSize}),useRow:!0})),u.a.createElement("div",{className:"bst-container"},u.a.createElement("div",{className:"bst-row py-5"},u.a.createElement("div",{className:"col-12"},u.a.createElement(ik,{videoUrl:this.props.campaignPage.campaign.video_url})))),u.a.createElement("div",{className:"bst-container-fluid bg-wild-sand"},u.a.createElement("div",{className:"bst-row py-5"},u.a.createElement("div",{className:"col-12"},u.a.createElement(vA,{followType:"campaign",followId:this.props.campaignPage.campaign.id,questionText:this.props.campaignPage.campaign.cta,ctaImage:this.props.campaignPage.campaign.cta_image,ctaImageCredits:this.props.campaignPage.campaign.cta_thumbnails&&this.props.campaignPage.campaign.cta_thumbnails.credits,count:this.props.campaignActionsTaken,ctaResponse:this.props.campaignPage.campaign.cta_response&&this.props.campaignPage.campaign.cta_response.cta_response}))))):null}}]),t}();wA.defaultProps={centerPaddingMobile:"40px",itemContainerClasses:"col-12 col-lg-4 px-1 px-lg-gutter text-center",itemCopyClasses:"mx-auto",iconColor:g.a.towerGray,iconSize:56},wA.propTypes={campaign:y.a.object,className:y.a.string,centerPaddingMobile:y.a.string,itemContainerClasses:y.a.string,itemCopyClasses:y.a.string,iconColor:y.a.string,iconSize:y.a.number};var kA=n(314);function OA(e){return(OA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _A(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function CA(e){return(CA=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function SA(e,t){return(SA=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function EA(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var PA=Object(b.a)(I).withConfig({displayName:"content-category-accordion__ContentAccordion",componentId:"sc-1bud4s5-0"})(["&[class*='accordion__Container']{background:",";padding:",";margin-bottom:25px;margin-left:-","px;margin-right:-","px;@media (min-width:","){margin-left:auto;margin-right:auto;}}"],g.a.lightestGray,g.a.gutter,Object(A.d)("".concat(g.a.gutterOld))/2,Object(A.d)("".concat(g.a.gutterOld))/2,L.min.xlarge);PA.displayName="ContentAccordion";var jA=function(e){function t(){var e,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];return function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(EA(EA(n=function(e,t){return!t||"object"!==OA(t)&&"function"!=typeof t?EA(e):t}(this,(e=CA(t)).call.apply(e,[this].concat(r))))),"renderToggle",function(){return u.a.createElement("p",{className:"font-weight-bold d-flex align-items-center p-0"},u.a.createElement(nm.a,{size:20})," ",u.a.createElement("span",{className:"pl-2"},Object(v.c)("What is this content piece?")))}),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&SA(e,t)}(t,u.a.Component),function(e,t,n){t&&_A(e.prototype,t),n&&_A(e,n)}(t,[{key:"render",value:function(){return this.props.contentCategory&&this.props.contentCategory.display_description?u.a.createElement(PA,{toggleContent:this.renderToggle(),accordionOpen:this.props.accordionOpen,toggleAccordion:this.props.toggleAccordion,renderToggleContentAsHTML:this.props.renderToggleContentAsHTML},u.a.createElement(Q,{body:this.props.contentCategory.display_description})):null}}]),t}();jA.defaultProps={accordionOpen:!1,renderChildrenAsHTML:!1,renderToggleContentAsHTML:!1},window.$=i.a,window.intlTelInput=c.a,window.acquisitionRegisterFlow=UE.a,window.Accordion=I,window.Action=Nk,window.ActionError=Dh,window.ActionPageTop=qe,window.ActionPageBottom=dt,window.ActionSet=fP,window.ActivityFeedCard=Ft,window.TakeActionSection=dP.a,window.ContentSection=rn.a,window.ContentOrderedList=dn,window.MultipleActionView=Qk,window.MultipleActionTile=wP,window.ActionJourneyLevel=YP,window.analytics=jl.k,window.AvatarGridWidget=wj,window.bindComponentToDiv=Xa.a,window.ConnectedActivityFeed=Lt,window.ContentLike=mn.a,window.CookieWarning=On,window.dialogPolyfill=r.a,window.DialogUtils=_n.a,window.EmployeeEngagementWelcome=qa,window.stripeDonationForm=function(e,t,n,o,r,a,i,s){var c=u.a.createElement(NT,{src:"https://js.stripe.com/v3/"},u.a.createElement(_T,{publishableKey:t,partner:i,suggestedAmounts:s,description:n,statement_descriptor:o,uri:r,succeed:a})),l=document.getElementById("donation-form");f.a.render(c,l)},window.EnterReward=_O,window.EmbeddableReward=J_,window.EmbeddablePoll=TC,window.ConnectedPartnerNavigation=Bp,window.Rewards=Dp.a,window.RewardsScoring=jf,window.FakeAvatarClient=ej,window.IssueFollowButton=tn,window.FollowButton=Kt,window.FollowConfiguration=TT.a,window.HomepageRecommendedStories=Nd,window.I18nStore=ni,window.IdentifyUser=jl.a,window.jQuery=i.a,window.LanguageSelect=ui,window.LearnMore=Ha.a,window.LivenationRedemptionSteps=bi,window.LocationClient=yn.a,window.Nav=Ec,window.NavBar=ol,window.AnchorNavBar=ll,window.FestivalAnnouncementDialog=Ml,window.CanadaAnnouncementDialog=fN,window.GermanyFestivalAnnouncementDialog=gN,window.TurbovoteAnnouncementDialog=TN,window.NYFestival2017AnnouncementDialog=MN,window.O2BrixtonAcademy20180417AnnouncementDialog=UN,window.NewsletterWidget=Kl,window.SubscriptionPlugin=tu,window.ProgressBar=Ej,window.SegmentedProgressBar=aO.a,window.React=u.a,window.ReactDOM=f.a,window.React.render=window.ReactDOM.render,window.RecommendedActionOrNewsletterWidget=Gu,window.RecommendedAction=Bu,window.ReferFriendsPage=Hu.a,window.ReferFriendsFeed=Vu.a,window.RegisterActions=Md.a,window.RegisterDialog=Rd.a,window.RegisterPage=Qd,window.RegisterAndEnterReward=mO,window.SearchResults=xE,window.ShadowUserClient=Pl.a,window.showHideCustomGender=WE,window.SignUpButton=GT,window.SSODialog=nx,window.SSOLoginContainer=tx,window.UserPoints=bx,window.QuickAuth=qy,window.SocialButtons=Re,window.SocialShareToolKit=FE.a,window.TrackLinkClick=jl.e,window.TrackElementClick=jl.c,window.TrackReadingTime=jl.f,window.TrackSharedItem=jl.g,window.TrackContentSession=jl.b,window.translate=v.c,window.UserGreetingFirstName=DE,window.UserStore=Ut.a,window.RewardDiscoveryUserWelcome=yd,window.RewardTiles=Bf,window.RecommendedRewards=qf,window.FeaturedRewards=Jf,window.voucherForm=HN.a,window.CanadaLanguagePopover=Vj,window.SendAppLinkClient=GN,window.ResendConfirmationEmail=MT,window.ActionsSearch=Sp,window.ConnectedPageLoadIFrame=Qc.a,window.EmployeeEngagementContent=gx.a,window.EmployeeEngagementActions=vx.a,window.userSettings=wx.a,window.YoutubeSlideshow=Ux,window.ActivityFeedCard=Ft,window.CampaignUpdateCard=Jx,window.SuccessModal=nI,window.RewardPartners=rI,window.DesktopMobileImage=fI,window.PartnerAttribution=ie,window.LoginFields=gI,window.CampaignPage=wA,window.formFloatingLabelFocus=kA.a,window.ContentCategoryAccordion=jA,Object(hn.a)(),i()(function(){new on.a("/api/app/csrf_token/").getToken(),i()(".js-carousel-content").slick({centerMode:!0,centerPadding:"17%",slidesToShow:1,infinite:!0,nextArrow:i()(".js-carousel-next"),prevArrow:i()(".js-carousel-prev"),responsive:[{breakpoint:599,settings:{centerPadding:"0"}}]}),i()(".js-carousel-video").slick({centerMode:!0,centerPadding:"15%",slidesToShow:3,nextArrow:i()(".js-carousel-video-next"),prevArrow:i()(".js-carousel-video-prev"),infinite:!0,responsive:[{breakpoint:599,settings:{slidesToShow:1,centerPadding:"0"}}]}),nn(),i()(".article_actions__sticky").length&&(new Waypoint.Sticky({element:i()(".article_actions__sticky")[0]}),i()(".section-whats-trending").length&&new Waypoint({element:i()(".section-whats-trending"),offset:function(){return i()(".article_actions__sticky").outerHeight()+100},handler:function(e){"down"===e&&i()(".article_actions__sticky").toggleClass("stuck")}})),WE(),Object(xC.a)(),new m.a({title:"Global Citizen",author:"Global Citizen",button:"VIEW",store:{ios:"On the App Store",android:"In Google Play"},price:{ios:"FREE",android:"FREE"}}),function(){function e(){i()(".slideshow-wrapper").each(function(){var e=i()(this);e.children(".slideshow").not(".slick-initialized").slick({slidesToShow:1,slidesToScroll:1,speed:300,arrows:!0,dots:!0,adaptiveHeight:!0,prevArrow:'<button type="button" class="slick-prev"><i class="fas fa-angle-left"></i></button>',nextArrow:'<button type="button" class="slick-next"><i class="fas fa-angle-right"></i></button>',appendArrows:i()(".slideshow-nav",e),appendDots:i()(".slideshow-nav",e),centerMode:!0,centerPadding:"0"})})}e(),i()(window).resize(e),i()(".feature-page-v2 .slideshow-wrapper .slide").css({opacity:0}),i()(".feature-page-v2 .slideshow-wrapper .slick-active").css({opacity:1}),i()(".feature-page-v2 .slideshow-wrapper").on("afterChange",function(e,t,n,o){i()(".slide").animate({opacity:0},100),i()(".slick-active").animate({opacity:1},300)})}()}),i()(window).on("load",function(){!function(){function e(){i()(".mobile-only-list-slideshow-no-arrows-wrapper").each(function(){var e=i()(this),t=!1;e.children(".slideshow").children("div").length>1&&(t=!0);var n="20px";e.attr("data-slideshow-center-padding")&&(n=e.attr("data-slideshow-center-padding")),e.children(".slideshow").not(".slick-initialized").slick({mobileFirst:!0,slidesToShow:1,slidesToScroll:1,centerMode:t,centerPadding:n,speed:300,arrows:!1,responsive:[{breakpoint:600,settings:"unslick"}]})})}e(),i()(window).resize(e)}()})},68:function(e,t,n){"use strict";n.d(t,"a",function(){return m});var o=n(1),r=n.n(o),a=n(0),i=n.n(a),s=n(166),c=n.n(s);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var m=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=function(e,t){return!t||"object"!==l(t)&&"function"!=typeof t?d(e):t}(this,p(t).call(this,e))).state={windowWidth:0},n.updateWindowDimensions=n.updateWindowDimensions.bind(d(d(n))),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(t,i.a.Component),function(e,t,n){t&&u(e.prototype,t),n&&u(e,n)}(t,[{key:"componentDidMount",value:function(){this.updateWindowDimensions(),window.addEventListener("resize",this.updateWindowDimensions)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.updateWindowDimensions)}},{key:"getSettings",value:function(){return{slidesToShow:1,slidesToScroll:1,centerMode:!0,centerPadding:this.props.centerPadding,speed:300,arrows:!1,adaptiveHeight:!1}}},{key:"updateWindowDimensions",value:function(){this.setState({windowWidth:window.innerWidth})}},{key:"render",value:function(){var e=this.getSettings(),t=i.a.Children.toArray(this.props.children).filter(function(e){return null!==e});return this.state.windowWidth<=this.props.startBreakpoint&&t&&t.length>1&&this.props.mobileSlideshow?i.a.createElement(c.a,e,t):i.a.createElement("div",{className:"tile-with-image--no-mobile-slideshow ".concat(this.props.useRow?"bst-row":"")},t)}}]),t}();m.defaultProps={useRow:!1,startBreakpoint:599,centerPadding:"20px",mobileSlideshow:!0},m.propTypes={useRow:r.a.bool,startBreakpoint:r.a.number,centerPadding:r.a.string,children:r.a.node,mobileSlideshow:r.a.bool}},69:function(e,t,n){"use strict";n.d(t,"a",function(){return d});var o=n(0),r=n.n(o),a=n(4),i=n(3);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function l(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var f=a.a.div.withConfig({displayName:"action-error__Container",componentId:"sc-1xaxv2f-0"})(["color:",";margin:1rem 0;"],i.a.primaryRed);f.displayName="Container";var d=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),l(this,u(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(t,r.a.Component),function(e,t,n){t&&c(e.prototype,t),n&&c(e,n)}(t,[{key:"render",value:function(){return!!this.props.actionError&&r.a.createElement(f,null,this.props.actionError)}}]),t}()},70:function(e,t,n){"use strict";n.d(t,"a",function(){return s});var o=n(7),r=n.n(o),a=n(22);function i(e,t){if(e.userPointsByCategory&&e.userPointsByCategory.length>0&&a.a.findDeepObjectValue(e,t)&&a.a.findDeepObjectValue(e,t).id)return r.a.find(e.userPointsByCategory,function(n){return n.category.id===a.a.findDeepObjectValue(e,t).id})}var s={findMatchingPointsCategory:i,getUserPointsInPointsCategory:function(e,t){var n=i(e,t);return n?n.points:0}}},78:function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return i});n(159);var o=n(165),r=n.n(o);function a(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var i=function(){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t)}return function(e,t,n){t&&a(e.prototype,t),n&&a(e,n)}(t,null,[{key:"addOpenDialogEventListener",value:function(){function t(t){for(var n=document.querySelectorAll("dialog"),o=0;o<n.length;o++){var r=n[o];r.open&&r.close()}e(t)[0].showModal()}e('[data-toggle="dialog"]').on("click",function(){t(e(this).data("target"));var n=e(this).data("target");e(n).hasClass("fullscreen-fixed-dialog")&&e("body").addClass("fixed-position-body")}),window.openTargetDialog=t}},{key:"addCloseDialogEventListener",value:function(){var t=function(t){var n=e(t).closest("dialog")[0];n.open&&n.close(),e(n).hasClass("fullscreen-fixed-dialog")&&e("body").removeClass("fixed-position-body")};e(document).on("keyup",function(e){27==e.keyCode&&t(this)}),e(".close-dialog").on("click",function(){t(this)})}},{key:"addDialogEventListeners",value:function(){t.addOpenDialogEventListener(),t.addCloseDialogEventListener()}},{key:"registerDialogs",value:function(){var e=document.querySelectorAll("dialog");if(e.length)for(var t=0;t<e.length;t++)e[t].showModal||r.a.registerDialog(e[t])}},{key:"polyfillDialogs",value:function(){t.registerDialogs(),t.addDialogEventListeners()}}]),t}()}).call(this,n(6))},79:function(e,t,n){"use strict";n.d(t,"a",function(){return d});var o=n(0),r=n.n(o),a=n(297),i=n.n(a);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}function l(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function u(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var d=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),u(this,p(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(t,r.a.Component),function(e,t,n){t&&l(e.prototype,t),n&&l(e,n)}(t,[{key:"render",value:function(){return r.a.createElement(i.a,c({},this.props,{ref:"reactModal",overlayClassName:{base:"react-modal__overlay",afterOpen:"react-modal__overlay_after--open",beforeClose:"react-modal__overlay_before--close"}}),this.props.children)}}]),t}()},80:function(e,t,n){"use strict";var o=n(17),r=n.n(o),a=n(0),i=n.n(a),s=n(9),c=n(19);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function p(e,t){return!t||"object"!==l(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var m=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),p(this,f(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(t,i.a.Component),function(e,t,n){t&&u(e.prototype,t),n&&u(e,n)}(t,[{key:"componentWillMount",value:function(){s.a.loadUser()}},{key:"componentDidUpdate",value:function(e,t,n){e.user!=this.props.user&&this.props.user&&this.props.user.authenticated&&(s.a.loadCompletedActions(),s.a.loadCompletedActionSets(),s.a.loadUserPoints())}},{key:"render",value:function(){var e=this,t=i.a.Children.map(this.props.children,function(t){return i.a.cloneElement(t,{user:e.props.user,completedActionsByActionId:e.props.completedActionsByActionId,completedActionSetsByActionSetId:e.props.completedActionSetsByActionSetId,userPointsByCategory:e.props.userPointsByCategory})});return i.a.createElement("div",null,t)}}],[{key:"getStores",value:function(){return[c.a]}},{key:"getPropsFromStores",value:function(){var e=c.a.getState();return{user:e.user,userPointsByCategory:e.pointsByCategory,completedActionsByActionId:e.completedActionsByActionId,completedActionSetsByActionSetId:e.completedActionSetsByActionSetId}}}]),t}();t.a=r()(m)},81:function(e,t,n){"use strict";var o=n(15),r=n(102);function a(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return function(e,t,n){t&&a(e.prototype,t),n&&a(e,n)}(e,[{key:"getLocation",value:function(){return function(e){r.a.get({success:function(t){e(t)}})}}}]),e}();t.a=o.a.createActions(i)},82:function(e,t,n){"use strict";var o=n(0),r=n.n(o),a=(n(40),n(7)),i=n.n(a),s=n(6),c=n.n(s),l=n(17),u=n.n(l),p=n(187),f=n(1),d=n.n(f),m=n(4),h=n(13),y=n(188),b=n(2),g=n(10),v=n(30),w=n(37);function k(e){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function O(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function _(e){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function C(e,t){return(C=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function S(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var P=Object(m.a)(g.a).withConfig({displayName:"personal-info-fields__RestartButton",componentId:"sc-1vbv29d-0"})([""]);P.displayName="RestartButton";var j=Object(m.a)(g.a).withConfig({displayName:"personal-info-fields__SubmitButton",componentId:"sc-1vbv29d-1"})([""]);j.displayName="SubmitButton";var N=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),E(S(S(n=function(e,t){return!t||"object"!==k(t)&&"function"!=typeof t?S(e):t}(this,_(t).call(this,e)))),"submit",function(){n.setState({disabled:!0});var e={email:n.props.user.email,first_name:n.firstName.current.value,last_name:n.lastName.current.value,country:n.countrySelect.current.getValue(),postal_code:n.postalCode.current.value};n.props.register(e,n.fail)}),E(S(S(n)),"fail",function(e){e&&e.responseJSON&&e.responseJSON.errors&&(n.setState({disabled:!1}),i.a.each(n.responseErrors(e),function(e,t){n.setErrors({field:t,error:e})}))}),E(S(S(n)),"responseErrors",function(e){return{postalCode:e.responseJSON.errors.postal_code}}),n.state={disabled:!1,fieldValues:{firstName:n.props.user&&n.props.user.first_name||"",lastName:n.props.user&&n.props.user.last_name||"",postalCode:n.props.user&&n.props.user.postal_code||""},fieldErrors:{}},n.firstName=r.a.createRef(),n.lastName=r.a.createRef(),n.countrySelect=r.a.createRef(),n.postalCode=r.a.createRef(),n.fieldChange=w.a.fieldChange.bind(S(S(n))),n.setErrors=w.a.setErrors.bind(S(S(n))),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&C(e,t)}(t,r.a.Component),function(e,t,n){t&&O(e.prototype,t),n&&O(e,n)}(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"signup-dialog bst"},r.a.createElement("h1",{className:"personal-info-prompt headline__section"},Object(b.c)("Let us know who you are to start taking action!")),r.a.createElement("form",null,r.a.createElement("fieldset",null,r.a.createElement("p",{className:"register-email-container"},r.a.createElement("span",{className:"register-email"},this.props.user.email),"  -  ",r.a.createElement(P,{className:"change-email-link btn btn--link my-0",handleClick:this.props.restart,buttonText:Object(b.c)("Change Email")})),r.a.createElement("div",{className:"bst-row mb-lg-3"},r.a.createElement("div",{className:"col-12 col-lg-6 d-flex flex-column mb-3 mb-lg-0"},r.a.createElement(v.a,{inputRef:this.firstName,fieldKey:"firstName",fieldChange:function(t){return e.fieldChange(t,e.isButtonDisabled)},fieldId:"first-name-field",fieldLabel:Object(b.c)("First Name"),containerClasses:"",value:this.state.fieldValues.firstName})),r.a.createElement("div",{className:"col-12 col-lg-6 d-flex flex-column mb-3 mb-lg-0"},r.a.createElement(v.a,{inputRef:this.lastName,fieldKey:"lastName",fieldChange:function(t){return e.fieldChange(t,e.isButtonDisabled)},fieldId:"last-name-field",fieldLabel:Object(b.c)("Last Name"),containerClasses:"",value:this.state.fieldValues.lastName}))),r.a.createElement("div",{className:"bst-row mb-lg-3"},r.a.createElement("div",{className:"col-12 col-lg-8 d-flex flex-column mb-3 mb-lg-0"},r.a.createElement(y.a,{ref:this.countrySelect,locationData:this.props.locationData,containerClasses:""})),r.a.createElement("div",{className:"col-12 col-lg-4 d-flex flex-column mb-3 mb-lg-0"},r.a.createElement(v.a,{inputRef:this.postalCode,fieldKey:"postalCode",fieldChange:function(t){return e.fieldChange(t,e.isButtonDisabled)},fieldId:"postal-code-field",fieldLabel:Object(b.c)("Postal Code"),errorMessage:this.state.fieldErrors.postalCode,containerClasses:"",value:this.state.fieldValues.postalCode})))),r.a.createElement(j,{className:"btn",handleClick:function(t){return e.submit(t)},disabled:this.state.disabled,buttonText:Object(b.c)("Next"),type:"submit"})))}}]),t}();N.propTypes={user:h.a.User,locationData:h.a.LocationData,register:d.a.func,restart:d.a.func};var T=n(24),x=n(101),I=n(58),A=n(81),L=n(15),R=n(136);function M(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var B=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.bindListeners({setPartners:R.a.setPartners,setDatashare:R.a.setDatashare,setFollowOnSignup:R.a.setFollowOnSignup}),this.state={partners:[],followOnSignup:!1,datashare:!1}}return function(e,t,n){t&&M(e.prototype,t),n&&M(e,n)}(e,[{key:"setPartners",value:function(e){this.setState({partners:e})}},{key:"setFollowOnSignup",value:function(e){this.setState({followOnSignup:e})}},{key:"setDatashare",value:function(e){this.setState({datashare:e})}}]),e}(),D=L.a.createStore(B,"RegisterStore"),z=n(27);n(52),n(22);function W(e){return(W="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function F(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function U(e){return(U=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function q(e,t){return(q=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function G(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function H(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var V=function(e){function t(){var e,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];return H(G(G(n=function(e,t){return!t||"object"!==W(t)&&"function"!=typeof t?G(e):t}(this,(e=U(t)).call.apply(e,[this].concat(r))))),"closeAndRefresh",function(e){e.preventDefault(),n.props.trackClicks.trackElementClick("Register Dialog","Get Started Button","Click"),n.props.doneCallback(),n.reload()}),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&q(e,t)}(t,r.a.Component),function(e,t,n){t&&F(e.prototype,t),n&&F(e,n)}(t,[{key:"welcomeMessage",value:function(){return!0!==this.props.hideWelcomeMessage&&r.a.createElement("p",{className:"confirmation-prompt mt-3 mb-4",ref:"welcomeMessage"},Object(b.c)("You can get informed, take action, and meet other like-minded change-makers. It has never been easier to make a real positive impact!"))}},{key:"render",value:function(){return r.a.createElement("div",{className:"signup-dialog bst"},r.a.createElement("form",null,r.a.createElement("fieldset",null,r.a.createElement("h1",{className:"welcome-statement headline__section",ref:"welcomeStatement"},this.welcomeStatement()),this.welcomeMessage(),r.a.createElement("button",{className:"register-flow-button done-button btn",ref:"doneButton",onClick:this.closeAndRefresh},this.props.buttonText))))}},{key:"welcomeStatement",value:function(){return Object(b.c)("Congratulations! You're officially a Global Citizen.")}},{key:"reload",value:function(){void 0===this.props.completedTarget?window.utils.reloadPage():this.openCompletedTarget()}},{key:"openCompletedTarget",value:function(){window.utils.assign(this.props.completedTarget,"_self")}}]),t}();function Y(e){return(Y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Q(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function K(e){return(K=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function J(e,t){return(J=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Z(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}H(V,"defaultProps",{trackClicks:new T.c,buttonText:Object(b.c)("Click here to get started")});var X=Object(m.a)(g.a).withConfig({displayName:"password-fields__RestartButton",componentId:"sc-1rx8yi2-0"})([""]);X.displayName="RestartButton";var ee=Object(m.a)(g.a).withConfig({displayName:"password-fields__SubmitButton",componentId:"sc-1rx8yi2-1"})([""]);ee.displayName="SubmitButton";var te=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),$(Z(Z(n=function(e,t){return!t||"object"!==Y(t)&&"function"!=typeof t?Z(e):t}(this,K(t).call(this,e)))),"isButtonDisabled",function(){n.state.fieldValues.password1&&n.state.fieldValues.password2?n.setState({buttonDisabled:!1}):n.setState({buttonDisabled:!0})}),$(Z(Z(n)),"submit",function(){var e={password1:n.password1.current.value,password2:n.password2.current.value};if(!0!==n.props.emailOptIn&&!1!==n.props.emailOptIn||(e.emailOptIn=n.props.emailOptIn),e.password1&&e.password2)if(e.password1.length<6){var t=Object(b.c)("Your password must be at least 6 characters");n.setErrors({field:"__all__",error:t})}else if(null===e.password1.match(/\d+/g)||null===e.password1.match(/[A-Za-z]/g)){var o=Object(b.c)("Your password must contain at least one number and letter");n.setErrors({field:"__all__",error:o})}else n.props.setPassword(e,n.fail);else{var r=Object(b.c)("Password is required");n.setErrors({field:"__all__",error:r})}}),$(Z(Z(n)),"fail",function(e){if(e&&e.responseJSON&&e.responseJSON.errors&&e.responseJSON.errors.__all__){var t=e.responseJSON.errors.__all__.join(". ");n.setErrors({field:"__all__",error:t})}}),n.state={buttonDisabled:!0,fieldValues:{password1:"",password2:""},fieldErrors:{}},n.password1=r.a.createRef(),n.password2=r.a.createRef(),n.fieldChange=w.a.fieldChange.bind(Z(Z(n))),n.setErrors=w.a.setErrors.bind(Z(Z(n))),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&J(e,t)}(t,r.a.Component),function(e,t,n){t&&Q(e.prototype,t),n&&Q(e,n)}(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"signup-dialog bst"},r.a.createElement("h1",{className:"password-fields-prompt headline__section"},Object(b.c)("Set up a password for your new profile.")),r.a.createElement("p",{className:"password-fields-directions"},Object(b.c)("Create a password that is at least 6 characters long with one number and one letter.")),r.a.createElement("form",null,r.a.createElement("fieldset",null,r.a.createElement("p",{className:"register-email-container"},r.a.createElement("span",{className:"register-email"},this.props.user.email),"  -  ",r.a.createElement(X,{href:"#",className:"change-email-link btn btn--link my-0",handleClick:this.props.restart,buttonText:Object(b.c)("Change Email")})),r.a.createElement(v.a,{inputRef:this.password1,fieldId:"password-field",fieldType:"password",fieldKey:"password1",fieldLabel:Object(b.c)("Password"),fieldChange:function(t){return e.fieldChange(t,e.isButtonDisabled)},value:this.state.fieldValues.password1,errorMessage:this.state.fieldErrors.__all__||this.state.fieldErrors.password1,hideErrorMessageForKey:"__all__",fieldErrors:this.state.fieldErrors,required:!0}),r.a.createElement(v.a,{inputRef:this.password2,fieldId:"password-confirmation-field",fieldType:"password",fieldKey:"password2",fieldLabel:Object(b.c)("Re-enter Password"),fieldChange:function(t){return e.fieldChange(t,e.isButtonDisabled)},value:this.state.fieldValues.password2,errorMessage:this.state.fieldErrors.__all__||this.state.fieldErrors.password2,required:!0}),r.a.createElement("div",{className:"register-password-page-buttons"},r.a.createElement(ee,{className:"btn w-100",handleClick:function(t){return e.submit(t)},disabled:this.state.buttonDisabled,buttonText:Object(b.c)("Sign Up"),type:"submit"})))))}}]),t}();te.propTypes={user:h.a.User,restart:d.a.func,emailOptIn:d.a.bool,setPassword:d.a.func};var ne=n(189),oe=n(177),re=n(190),ae=n(115);function ie(e){return(ie="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function se(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function ce(e,t){return!t||"object"!==ie(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function le(e){return(le=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ue(e,t){return(ue=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var pe=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),ce(this,le(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ue(e,t)}(t,r.a.Component),function(e,t,n){t&&se(e.prototype,t),n&&se(e,n)}(t,[{key:"getCustomDisclaimerText",value:function(){var e={termsLinkOpen:"<a href='/about/terms'>",privacyLinkOpen:"<a href='/about/privacy-policy'>",linkClose:"</a>",partners:Object(ae.b)(this.props.partners),interpolation:{escape:!1}};return{__html:Object(b.c)("By clicking Sign Up, you agree to (i) our {{termsLinkOpen}}Terms{{linkClose}} and {{privacyLinkOpen}}Privacy Policy{{linkClose}}; and (ii) grant permission to Global Citizen to provide your first name, last name, country, and email address to {{partners}}, who may send communications to you in accordance with its Privacy Policy.",e)}}},{key:"render",value:function(){return this.props.partners&&this.props.partners.length&&this.props.datashare?r.a.createElement("small",{ref:"disclaimer",className:"tos-prompt",dangerouslySetInnerHTML:this.getCustomDisclaimerText()}):null}}]),t}();function fe(e){return(fe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function de(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function me(e){return(me=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function he(e,t){return(he=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ye(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function be(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ge=m.a.div.withConfig({displayName:"email-sign-up__FieldContainer",componentId:"sc-91le7z-0"})([""]);ge.displayName="FieldContainer";var ve=m.a.div.withConfig({displayName:"email-sign-up__ButtonContainer",componentId:"sc-91le7z-1"})([""]);ve.displayName="ButtonContainer";var we=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),be(ye(ye(n=function(e,t){return!t||"object"!==fe(t)&&"function"!=typeof t?ye(e):t}(this,me(t).call(this,e)))),"toggleAcceptTerms",function(){n.setState(function(e){return{acceptTerms:!e.acceptTerms}},function(){n.props.setAcceptTerms(n.state.acceptTerms),n.isButtonDisabled()})}),be(ye(ye(n)),"toggleEmailOptIn",function(){n.setState(function(e){return{emailOptIn:!e.emailOptIn}})}),be(ye(ye(n)),"registerCallback",function(e){n.props.register({email:e,emailOptIn:n.state.emailOptIn},n.fail)}),be(ye(ye(n)),"emailValidationErrorCallback",function(e){var t="";t=e?Object(b.c)("That email appears incorrect. Did you mean {{ didYouMean }}?",{didYouMean:e,interpolation:{escapeValue:!1}}):Object(b.c)("A valid email is required"),n.setErrors({field:"email",error:t}),n.setState({buttonDisabled:!1})}),be(ye(ye(n)),"submit",function(){if(n.setState({buttonDisabled:!0}),n.props.setEmailOptIn(n.state.emailOptIn),n.email.current.checkValidity()){var e=n.email.current.value;e&&oe.a.validate(e,n.registerCallback,n.emailValidationErrorCallback)}else n.setErrors({field:"email",error:Object(b.c)("A valid email is required")}),n.setState({buttonDisabled:!1});return!1}),be(ye(ye(n)),"fail",function(e){if(e&&e.responseJSON){var t=e.responseJSON.errors;n.setState({buttonDisabled:!1}),t.email&&n.setErrors({field:"email",error:t.email})}}),be(ye(ye(n)),"isButtonDisabled",function(){n.state.fieldValues.email&&n.state.acceptTerms?n.setState({buttonDisabled:!1}):n.setState({buttonDisabled:!0})}),n.state={acceptTerms:!1,emailOptIn:!1,buttonDisabled:!0,fieldValues:{email:n.props.user&&n.props.user.email||""},fieldErrors:{}},n.email=r.a.createRef(),n.fieldChange=w.a.fieldChange.bind(ye(ye(n))),n.setErrors=w.a.setErrors.bind(ye(ye(n))),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&he(e,t)}(t,r.a.Component),function(e,t,n){t&&de(e.prototype,t),n&&de(e,n)}(t,[{key:"render",value:function(){var e=this,t="".concat(this.props.className||""," col-12 ").concat(this.props.emailSignUpFullWidth?"":"col-lg-8"," d-flex flex-column mb-4 mb-lg-2"),n="".concat(this.props.className||""," col-12 ").concat(this.props.emailSignUpFullWidth?"":"col-lg-4"," d-flex flex-column");return r.a.createElement("div",{className:"signup-dialog signup-email bst"},r.a.createElement("form",null,r.a.createElement("div",{className:"bst-cotainer-fluid"},r.a.createElement("fieldset",null,r.a.createElement("div",{className:"bst-row align-items-stretch"},r.a.createElement(ge,{className:t},r.a.createElement(v.a,{inputRef:this.email,fieldChange:function(t){return e.fieldChange(t,e.isButtonDisabled)},fieldKey:"email",fieldId:"email-address-field",fieldLabel:Object(b.c)("Email Address"),fieldType:"email",errorMessage:this.state.fieldErrors.email,containerClasses:"",required:!0,value:this.state.fieldValues.email})),r.a.createElement(ve,{className:n},r.a.createElement(g.a,{className:"btn form--floating-label--top-space--lg mb-0",handleClick:function(t){return e.submit(t)},disabled:this.state.buttonDisabled,buttonText:Object(b.c)("Sign up"),type:"submit"})))))),r.a.createElement(pe,this.props),r.a.createElement(re.a,{acceptTerms:this.toggleAcceptTerms,termsIntro:!0}),r.a.createElement(ne.a,{emailOptIn:this.toggleEmailOptIn,emailOptInIntro:!0}))}}]),t}();we.defaultProps={emailSignUpFullWidth:!1};var ke=n(191),Oe=n(132);function _e(e){return(_e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ce(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Se(e){return(Se=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ee(e,t){return(Ee=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Pe(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function je(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ne=function(e){function t(){var e,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];return je(Pe(Pe(n=function(e,t){return!t||"object"!==_e(t)&&"function"!=typeof t?Pe(e):t}(this,(e=Se(t)).call.apply(e,[this].concat(r))))),"closeAndSignIn",function(){n.props.closeCallback&&n.props.closeCallback(),window.openTargetDialog("#loginDialog")}),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ee(e,t)}(t,r.a.Component),function(e,t,n){t&&Ce(e.prototype,t),n&&Ce(e,n)}(t,[{key:"renderCustomBody",value:function(){if(this.props.customBody)return r.a.createElement("p",{className:"sign-up-custom-body pre-line text-left",ref:"customBody"},this.props.customBody)}},{key:"toggleFacebookButtonAvailability",value:function(e){this.refs.facebookButton.setState({disabled:!e})}},{key:"render",value:function(){return r.a.createElement("div",{className:"signup-social-auth signup-dialog"},r.a.createElement("h1",{className:"signup-prompt headline__section"},this.props.signupHeader),this.renderCustomBody(),r.a.createElement("p",{className:"register-flow-link"},r.a.createElement("span",{className:"sign-in-text"},Object(b.c)("Already have an account?"))," ",r.a.createElement("a",{href:"#",ref:"closeAndSignIn","data-toggle":"dialog","data-target":"#loginDialog",onClick:this.closeAndSignIn},Object(b.c)("Log in"))),r.a.createElement(Oe.a,{referralCode:this.props.referralCode,successCallback:this.props.successCallback,failCallback:this.props.failCallback,ref:"facebookButton",disabledByDefault:this.props.disabledByDefault}),r.a.createElement("div",{className:"horizontal-rule-with-text"},r.a.createElement("hr",null),r.a.createElement("span",null,Object(b.c)("or")),r.a.createElement("hr",null)))}}]),t}();function Te(e){return(Te="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function xe(e){return(xe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ie(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Ae(e,t,n){return t&&Ie(e.prototype,t),n&&Ie(e,n),e}function Le(e,t){return(Le=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Re(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}je(Ne,"defaultProps",{signupHeader:Object(b.c)("It all starts with becoming a Global Citizen.")});var Me=new T.h,Be=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=function(e,t){return!t||"object"!==Te(t)&&"function"!=typeof t?Re(e):t}(this,xe(t).call(this,e))).state={page:0,user:{email:null,first_name:null,last_name:null,country:null,postal_code:null,password1:null,password2:null},emailOptIn:null,acceptTerms:!1},n.register=n.register.bind(Re(Re(n))),n.restart=n.restart.bind(Re(Re(n))),n.success=n.success.bind(Re(Re(n))),n.nextPageAndUpdateUser=n.nextPageAndUpdateUser.bind(Re(Re(n))),n.successfulFacebookSignup=n.successfulFacebookSignup.bind(Re(Re(n))),n.failedFacebookSignup=n.failedFacebookSignup.bind(Re(Re(n))),n.setPassword=n.setPassword.bind(Re(Re(n))),n.followSuccess=n.followSuccess.bind(Re(Re(n))),n.setEmailOptIn=n.setEmailOptIn.bind(Re(Re(n))),n.setAcceptTerms=n.setAcceptTerms.bind(Re(Re(n))),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Le(e,t)}(t,r.a.Component),Ae(t,null,[{key:"getStores",value:function(){return[I.a,D]}},{key:"getPropsFromStores",value:function(){var e=D.getState();return{locationData:I.a.getState().locationData,pagePartners:e.partners,pageDatashareEnabled:e.datashare,followOnSignup:e.followOnSignup}}}]),Ae(t,[{key:"setUser",value:function(e){this.setState({user:e}),this.fastForward()}},{key:"setEmailOptIn",value:function(e){this.setState({emailOptIn:e})}},{key:"setAcceptTerms",value:function(e){var t=this;this.setState({acceptTerms:e},function(){t.refs.facebookSignup.toggleFacebookButtonAvailability(t.state.acceptTerms)})}},{key:"getPartners",value:function(){return(this.props.partners||[]).concat(this.props.pagePartners||[])}},{key:"getPartnerNames",value:function(){return this.getPartners().map(function(e){return e.name})}},{key:"fastForward",value:function(){this.state.user.authenticated?this.setState({page:6}):this.pageComplete(1)&&this.pageComplete(2)?this.setState({page:3}):this.pageComplete(1)?this.setState({page:2}):this.setState({page:1})}},{key:"componentWillMount",value:function(){A.a.getLocation()}},{key:"componentDidMount",value:function(){var e=this;c()("a[data-target='#registerDialog']").click(function(){1===this.state.page&&this.reportToSegment(1)}.bind(this)),z.a.get().then(function(t){e.setUser(t)})}},{key:"pageComplete",value:function(e){if(1===e)return null!=this.state.user.email;if(2===e){var t=i.a.values(this.personalInfoFields());return i.a.compact(t).length===t.length}}},{key:"personalInfoFields",value:function(){return["first_name","last_name","country","zip_code"].map(function(e){return this.state.user[e]}.bind(this))}},{key:"render",value:function(){return r.a.createElement("div",{className:"register-flow"},r.a.createElement("div",{className:"modal_actions",ref:"contentContainer"},this.currentPage()))}},{key:"reportToSegment",value:function(e,t){var n=this,o={2:"Shadow User Sign Up",4:"Sign Up"}[e];if(void 0!==o){var r=t||"email";Me.trackUserAuthEvent(o,r,"Sign up modal",this.props.isReferral,this.props.referredBy,this.state.emailOptIn).then(function(){return n.props.analyticsCallback()})}}},{key:"currentPage",value:function(){switch(this.state.page){case 0:return r.a.createElement("div",{className:"signup-dialog"},r.a.createElement("div",{className:"loading-message"},Object(b.c)("Loading...")));case 1:return r.a.createElement("div",{className:"initial-register-page"},r.a.createElement(Ne,{ref:"facebookSignup",referralCode:this.props.referralCode,signupHeader:this.props.signupHeader,customBody:this.props.customBody,successCallback:this.successfulFacebookSignup,closeCallback:this.props.closeCallback,failCallback:this.failedFacebookSignup,disabledByDefault:!0}),r.a.createElement(we,{user:this.state.user,register:this.register,doneCallback:this.props.doneCallback,partners:this.getPartnerNames(),datashare:this.props.datashare||this.props.pageDatashareEnabled,setEmailOptIn:this.setEmailOptIn,setAcceptTerms:this.setAcceptTerms,emailSignUpFullWidth:this.props.emailSignUpFullWidth}));case"failedFacebookSignup":return r.a.createElement(ke.a,{successCallback:this.successfulFacebookSignup});case 2:return r.a.createElement("div",{className:"register-personal-info-page"},r.a.createElement(N,{user:this.state.user,register:this.register,restart:this.restart,locationData:this.props.locationData}));case 3:return r.a.createElement("div",{className:"register-password-page"},r.a.createElement(te,{user:this.state.user,emailOptIn:this.state.emailOptIn,setPassword:this.setPassword,restart:this.restart}));case 4:return r.a.createElement(p.a,{model:"issue",doneCallback:this.followSuccess});case 5:return r.a.createElement("div",{className:"registration-confirmation-page"},r.a.createElement(V,{ref:"registrationConfirmation",buttonText:this.props.welcomeButtonText,firstName:this.state.user.first_name,doneCallback:this.props.doneCallback,completedTarget:this.props.completedTarget}));case 6:return r.a.createElement("div",{className:"registration-confirmation-page"},r.a.createElement(V,{ref:"registrationConfirmation",buttonText:this.props.welcomeButtonText,hideWelcomeMessage:!0,firstName:this.state.user.first_name,doneCallback:this.props.doneCallback,completedTarget:this.props.completedTarget}))}}},{key:"nextPage",value:function(e){var t=this.state.page+1;this.animatedPageTransition("mySlideOutLeft","mySlideInRight",t),this.reportToSegment(t)}},{key:"animatedPageTransition",value:function(e,t,n){var o=this.refs.contentContainer;o.className="modal_actions my-animated "+e,this.setState({page:n}),setTimeout(function(){o.className="modal_actions my-animated "+t},200)}},{key:"previousPage",value:function(e){e.preventDefault(),this.animatedPageTransition("mySlideOutRight","mySlideInLeft",this.state.page-1)}},{key:"register",value:function(e,t){return this.props.referralCode&&(e.referral_code=this.props.referralCode),this.props.shadowUserClient.register(e,this.nextPageAndUpdateUser,t),!1}},{key:"restart",value:function(e){this.animatedPageTransition("mySlideOutRight","mySlideInLeft",1)}},{key:"setPassword",value:function(e,t){return this.props.shadowUserClient.setPassword(e,this.success,t),!1}},{key:"followSuccess",value:function(e){if(this.props.skipConfirmation)return this.props.doneCallback(e),!1;this.nextPage(e)}},{key:"setValues",value:function(e){z.a.set(e),this.setState({user:e})}},{key:"nextPageAndUpdateUser",value:function(e){return this.setValues(e.user),this.nextPage(),!1}},{key:"success",value:function(e){return this.followPartners(),this.nextPageAndUpdateUser(e)}},{key:"successfulFacebookSignup",value:function(e){this.setState({page:4}),this.reportToSegment(4,"facebook"),this.followPartners()}},{key:"failedFacebookSignup",value:function(){this.setState({page:"failedFacebookSignup"})}},{key:"followPartners",value:function(){if(this.props.followOnSignup){var e=new x.a("partner");this.getPartners().map(function(t){e.follow(t.id)})}}}]),t}();Be.defaultProps={partners:[],doneCallback:i.a.noop,analytics:i.a.noop,analyticsCallback:i.a.noop,signupHeader:Object(b.c)("It all starts with becoming a Global Citizen."),emailSignUpFullWidth:!1};t.a=u()(Be)},83:function(e,t,n){"use strict";var o=n(48),r=n(24);function a(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return function(e,t,n){t&&a(e.prototype,t),n&&a(e,n)}(e,[{key:"shareLink",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=arguments.length>3?arguments[3]:void 0,r=window.location.protocol,a=window.location.host,i="?utm_campaign=".concat(t.campaign||"share","&utm_medium=").concat(t.medium||"post-action","&utm_source=").concat(e),s=window.location.pathname,c="".concat(r,"//").concat(a).concat(s).concat(i);return o&&(c="".concat(o).concat(i)),n&&(c=encodeURI(c)),c}}]),e}();n.d(t,"b",function(){return c});var s=function(e,t,n,a){var s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},c=arguments.length>5?arguments[5]:void 0,l={itemType:n,sharedItem:t},u=new r.g(l),p=new i,f=null;if("workplace"===e)f=p.shareLink("facebook",s,void 0,c),new o.a(f,"http://work.facebook.com/sharer.php?u=").openShareWindowWithShortenUrl();else if("fbMessengerMobile"===e){"".concat(encodeURIComponent(a),"%20");f=p.shareLink("fbMessengerMobile",s,void 0,c),new o.a(f,"".concat("fb-messenger://share?app_id=").concat(encodeURIComponent(0x981c4ee41b1a),"&link=")).openShareWindowWithShortenUrl()}else if("fbMessengerDesktop"===e)f=p.shareLink("fbMessengerDesktop",s,void 0,c),new o.a(f,"".concat("http://www.facebook.com/dialog/send?app_id=").concat(encodeURIComponent(0x981c4ee41b1a),"&redirect_uri=").concat(encodeURIComponent(window.location.href),"&display=popup")+"&link=").openShareWindowWithShortenUrl();else if("whatsapp"===e){var d="".concat(encodeURIComponent(a),"%20");f=p.shareLink("whatsapp",s,void 0,c),new o.a(f,"https://api.whatsapp.com/send?text=".concat(d)).openShareWindowWithShortenUrl()}else if("facebook"===e)f=p.shareLink("facebook",s,void 0,c),new o.a(f,"http://www.facebook.com/sharer.php?u=").openShareWindowWithShortenUrl();else if("twitter"===e){var m="".concat(encodeURIComponent(a),"&hashtags=globalcitizen&url=");f=p.shareLink("twitter",s,void 0,c),new o.a(f,"https://twitter.com/intent/tweet?text=".concat(m)).openShareWindowWithShortenUrl()}else if("email"===e){f=p.shareLink("email",s,void 0,c);var h=encodeURIComponent("Check this out"),y=encodeURIComponent("I saw this on Global Citizen and thought you'd be interested in it ");new o.a(f,"mailto:?subject=".concat(h,"&body=").concat(y)).openShareWindowWithShortenUrl()}f&&u.trackSharedItemEvent(e)},c=(t.a=s,{socialShare:s})},84:function(e,t,n){"use strict";n(0);var o=n(15),r=n(36);function a(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.bindListeners({updateResults:r.a.search,updateFilter:r.a.updateFilter,updatePage:r.a.updatePage,initialSearch:r.a.triggerInitialSearch,disableFiltersInUrl:r.a.disableFiltersInUrl}),this.state={storeFiltersInUrl:!0,results:null,resultsPerPage:9,totalResultCount:null,totalPages:null,page:1,query:"",category:null,ids:[],month:null,closingSoon:!1,excludeHidden:!0,nearMe:!1,location:null}}return function(e,t,n){t&&a(e.prototype,t),n&&a(e,n)}(e,[{key:"resetResults",value:function(){this.setState({results:null,totalResultCount:null,totalPages:null,page:1,locationError:null})}},{key:"disableFiltersInUrl",value:function(){this.setState({storeFiltersInUrl:!1})}},{key:"updateResults",value:function(e){this.setState({results:e.results,totalResultCount:e.count,totalPages:Math.ceil(e.count/this.state.resultsPerPage),locationError:e.locationError})}},{key:"updateUrl",value:function(){var e={query:this.state.query,page:this.state.page,category:this.state.category,month:this.state.month,location:this.state.location,nearMe:this.state.nearMe,closingSoon:this.state.closingSoon},t=[];for(var n in e)e[n]&&t.push("".concat(n,"=").concat(e[n]));var o="?".concat(t.join("&"));window.history.pushState({path:o},"",o)}},{key:"updateFilter",value:function(e){var t={};for(var n in e)e[n]!==this.state[n]&&(t[n]=e[n]);Object.keys(t).length&&(this.setState(t),this.state.storeFiltersInUrl&&this.updateUrl(),this.resetResults(),this.search())}},{key:"updatePage",value:function(e){e!==this.state.page&&(this.setState({page:e,results:null}),this.search())}},{key:"initialSearch",value:function(e){var t={query:window.utils.getParameterByName("query"),category:window.utils.getParameterByName("category"),month:window.utils.getParameterByName("month"),nearMe:"true"===window.utils.getParameterByName("nearMe"),closingSoon:"true"===window.utils.getParameterByName("closingSoon"),page:Number(window.utils.getParameterByName("page"))||1,location:window.utils.getParameterByName("location")};this.setState(Object.assign(t,e)),this.search()}},{key:"search",value:function(){r.a.search(this.state)}}]),e}();t.a=o.a.createStore(i,"RewardsStore")},9:function(e,t,n){"use strict";var o=n(15),r=n(42),a=n(27),i=n(24),s=n(12),c=n(47),l=n(21);function u(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var p=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return function(e,t,n){t&&u(e.prototype,t),n&&u(e,n)}(e,[{key:"clearUser",value:function(){return a.a.clear(),null}},{key:"loadUser",value:function(){return function(e){a.a.get().then(e)}}},{key:"signup",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(n){r.a.signup(e,{success:function(e){t.success&&t.success(e),n(e)},error:function(e){t.error&&t.error(e.responseJSON)}})}}},{key:"login",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(n){r.a.login(e,{success:function(e){t.success&&t.success(e),n(e)},error:function(e){t.error&&t.error(e.responseJSON)}})}}},{key:"loadUserPoints",value:function(){return function(e){(new r.a).getPoints({success:function(t){e(t.items)},error:function(t){e({errors:t.responseJSON})}})}}},{key:"updateUser",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(n){(new r.a).patch(e,{success:function(e){(new i.a).identifyUser(e),n(e),t.success&&t.success(e)},error:function(e){var o=e.responseJSON;n({errors:o}),t.error&&t.error(o)}})}}},{key:"sendEmailConfirmation",value:function(e){var t=c.a.getMachineByActionId(e);return t.send(l.a.Loading),(new r.a).sendEmailConfirmation().then(function(){return t.send(l.a.EmailConfirmationSent)}).catch(function(n){s.a.setErrorMessage({actionId:e,errorMessage:n.responseJSON.message}),t.send(l.a.Error)})}},{key:"loadCompletedActions",value:function(){return function(e){r.a.getCompletedActions({success:function(t){e(t)}})}}},{key:"loadCompletedActionSets",value:function(){return function(e){r.a.getCompletedActionSets({success:function(t){e(t)},error:function(){e([])}})}}}]),e}();t.a=o.a.createActions(p)},91:function(e,t,n){"use strict";n.d(t,"a",function(){return d});var o=n(1),r=n.n(o),a=n(0),i=n.n(a),s=n(115);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function u(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var d=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),u(this,p(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(t,i.a.Component),function(e,t,n){t&&l(e.prototype,t),n&&l(e,n)}(t,[{key:"render",value:function(){return i.a.createElement("span",{className:this.props.listClassName},Object(s.a)(this.props.items,this.props.renderItem))}}]),t}();d.propTypes={items:r.a.array.isRequired,listClassName:r.a.string.isRequired,renderItem:r.a.func.isRequired}},92:function(e,t,n){"use strict";n.d(t,"a",function(){return b});var o=n(0),r=n.n(o),a=n(1),i=n.n(a),s=n(4),c=n(3);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function p(e,t){return!t||"object"!==l(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var m=s.a.div.withConfig({displayName:"progress-bar__OuterBar",componentId:"sc-1a39dsr-0"})(["background:",";height:8px;position:relative;overflow:hidden;margin:0.5em 0;border-radius:5px;"],c.a.lightGray),h=s.a.span.withConfig({displayName:"progress-bar__InnerBar",componentId:"sc-1a39dsr-1"})(["display:block;height:100%;position:relative;background:",";width:","%;border-radius:5px;"],c.a.primaryRed,function(e){return e.width});h.propTypes={width:i.a.number.isRequired};var y=s.a.span.withConfig({displayName:"progress-bar__Counter",componentId:"sc-1a39dsr-2"})(["color:",";"],c.a.primaryRed);y.displayName="Counter";var b=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),p(this,f(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(t,o["Component"]),function(e,t,n){t&&u(e.prototype,t),n&&u(e,n)}(t,[{key:"width",value:function(){return this.props.count/this.props.goal*100}},{key:"renderCounter",value:function(){return this.props.showCounter?r.a.createElement("small",null,r.a.createElement(y,null,this.props.count.toLocaleString()," / ",this.props.goal.toLocaleString())," ",this.props.description):null}},{key:"render",value:function(){return r.a.createElement("div",{className:this.props.className},r.a.createElement(m,null,r.a.createElement(h,{width:this.width()})),this.renderCounter())}}]),t}();b.defaultProps={count:0,goal:0,description:"",showCounter:!0},b.propTypes={count:i.a.number,goal:i.a.number,description:i.a.string,showCounter:i.a.bool,className:i.a.string}},93:function(e,t,n){"use strict";var o=n(15),r=n(16);function a(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return function(e,t,n){t&&a(e.prototype,t),n&&a(e,n)}(e,null,[{key:"get",value:function(e){Object(r.a)({url:"/v1/issues/",type:"GET",success:e.success,error:e.error})}}]),e}();function s(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var c=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return function(e,t,n){t&&s(e.prototype,t),n&&s(e,n)}(e,[{key:"getIssues",value:function(){return function(e){i.get({success:function(t){e(t)}})}}},{key:"toggleIssue",value:function(e){return e}}]),e}();t.a=o.a.createActions(c)},95:function(e,t,n){"use strict";var o=n(12),r=n(15),a=n(9),i=n(19),s=n(47),c=n(21);function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var p=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.bindListeners({setAction:o.a.loadActionModule,setActions:o.a.loadActions,setUser:a.a.loadUser,updateUser:a.a.updateUser,setErrorMessage:o.a.setErrorMessage,setCompleteCallback:o.a.setCompleteCallback,completeAction:[o.a.completeAction,o.a.callCompleted,o.a.getCompletedAction],finalizeCompleteAction:o.a.finalizeCompleteAction,disableDataShare:o.a.disableDataShare,enableDataShare:o.a.enableDataShare,enableAction:o.a.enableAction,disableAction:o.a.disableAction,setContacts:[o.a.confirmContacts,o.a.clearContacts,o.a.noContactsFound,o.a.getContacts]}),this.state={actionsById:{},user:null}}return function(e,t,n){t&&u(e.prototype,t),n&&u(e,n)}(e,[{key:"setActions",value:function(e){var t=!0,n=!1,o=void 0;try{for(var r,a=e[Symbol.iterator]();!(t=(r=a.next()).done);t=!0){var i=r.value;this.setAction({action:i})}}catch(e){n=!0,o=e}finally{try{t||null==a.return||a.return()}finally{if(n)throw o}}}},{key:"dataShareDefault",value:function(e,t){return!1===t.collect_data_share&&null}},{key:"getAction",value:function(e){var t=this.state.actionsById[e];if(t)return t.action}},{key:"getUpdatedActionsById",value:function(e,t){"number"==typeof e&&e%1==0||console.error("updating state for an action with an invalid actionId:",e,"state update was:",t);var n=Object.assign({},this.state.actionsById[e]),o=l({},e,Object.assign(n,t));return Object.assign({},this.state.actionsById,o)}},{key:"setActionState",value:function(e,t){this.setState({actionsById:this.getUpdatedActionsById(e,t)})}},{key:"getInitialActionData",value:function(e,t){return{initialized:!0,action:e.action,actionEnabled:!1,contacts:null,dataShare:this.dataShareDefault(t,e.action)}}},{key:"initializeActions",value:function(){if(this.state.user)for(var e in this.state.actionsById)if(this.state.actionsById.hasOwnProperty(e)){var t=this.state.actionsById[e];t&&t.action&&!t.initialized&&this.setActionState(t.action.id,this.getInitialActionData(t,this.state.user))}}},{key:"setUser",value:function(e){this.setState({user:e}),this.initializeActions()}},{key:"setAction",value:function(e){var t=e.action,n={action:t,initialized:!1};this.setActionState(t.id,n),this.initializeActions()}},{key:"updateUser",value:function(e){if(e.errors)this.setState({errors:e.errors});else{this.waitFor(i.a);var t=i.a.getState().user;this.setState({user:t,errors:null})}}},{key:"finalizeCompleteAction",value:function(e){s.a.getMachineByActionId(e).send(c.a.CompleteAction);var t=this.state.actionsById[e].completeCallback;t&&t()}},{key:"completeAction",value:function(e){var t=e.actionId,n=e.data;n&&this.setActionState(t,{action:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),o.forEach(function(t){l(e,t,n[t])})}return e}({},this.state.actionsById[t].action,{points_earned:n.points_earned,quiz_correct_count:n.quiz_correct_count})})}},{key:"setCompleteCallback",value:function(e){var t=e.actionId,n=e.completeCallback;this.setActionState(t,{completeCallback:n})}},{key:"setErrorMessage",value:function(e){var t=e.actionId,n=e.errorMessage;this.setActionState(t,{errorMessage:n})}},{key:"enableDataShare",value:function(e){this.setActionState(e,{dataShare:!0})}},{key:"disableDataShare",value:function(e){this.setActionState(e,{dataShare:!1})}},{key:"enableAction",value:function(e){this.setActionState(e,{actionEnabled:!0})}},{key:"disableAction",value:function(e){this.setActionState(e,{actionEnabled:!1})}},{key:"setContacts",value:function(e){var t=e.actionId,n=e.contacts;this.setActionState(t,{contacts:n})}}]),e}();t.a=r.a.createStore(p,"ActionModuleStore")}});